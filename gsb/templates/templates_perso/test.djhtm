{% extends "generic.djhtm" %}{% comment %} coding: utf-8 {% endcomment %}{% load gsb_extras %}

{% block content %}
    <form action="" method = "post">

    </form>
    <table id="main" class="table">
        <thead class="entete">
        <tr>
            <th><a href="?sort=date">Date</a></th>
            <th><a href="?sort=tiers">Tiers</a></th>
            <th><a href="?sort=cat">Cat√©gorie</a></th>
            <th><a href="?sort=moyen">Moyen</a></th>
            <th>pointee</th>
            <th><a href="?sort=jumelle">jumelle</a></th>
            <th><a href="?sort=ope_titre__id">ope_titre</a></th>
            <th><a href="?sort=montant">montant</a></th>
        </tr>
        </thead>
    {% for ope in list_ope.object_list %}
          {% block ope %}
              <tr class="item hover{% if ope.montant > 0 %} creditElement{% endif %}{% if ope.montant < 0 %} debitElement{% endif %}">
                  <td><a href="{{ ope.get_absolute_url  }}">{{ ope.date }}</a></td>
                  <td>{% if ope.tiers.is_titre %}{{ ope.tiers.titre.nom }} {% else %}{{ ope.tiers.nom|default:"aucun tiers" }}{% endif %}</td>
                  <td>{{ ope.cat.nom|default:"aucune cat&eacute;gorie" }}</td>
                  <td>{{ ope.moyen.nom|default:"aucune moyen" }}</td>
                  <td>{% if ope.rapp %}R{% else %}{% if ope.pointee %}P {% else %}N{% endif %}{% endif %}</td>
                  <td><a href="{{ ope.jumelle.get_absolute_url  }}">{{ ope.jumelle|default:'-' }}</a></td>
                  <td><a href="{{ ope.ope_titre.get_absolute_url }}">{{ ope.ope_titre|default:'-' }}</a></td>
                  <td>{{ ope.montant|cur }}</td>
              </tr>
          {% endblock ope %}
          {% empty %}
          <tr class="item">
              <td colspan="8">
                  aucune op&eacute;ration n&#39;est affich&eacute;e.<br />
              </td>
          </tr>
      {% endfor %}
    </table>
    <div class="pagination">
        <H1>
        <span>
            {% if list_ope.has_previous %}
                <a href="?page={{ list_ope.previous_page_number }}{{sort}}">previous</a>
            {% endif %}

            <span class="current">
                Page {{ list_ope.number }} sur {{ list_ope.paginator.num_pages }}.
            </span>

            {% if list_ope.has_next %}
                <a href="?page={{ list_ope.next_page_number }}{{sort}}">next</a>
            {% endif %}
        </span>
        </H1>
    </div>
{% endblock content %}
