(function(a,g){function s(b,d,l){if(l===g&&b.nodeType===1){l="data-"+d.replace(ia,"$1-$2").toLowerCase();l=b.getAttribute(l);if(typeof l==="string"){try{l=l==="true"?true:l==="false"?false:l==="null"?null:!r.isNaN(l)?parseFloat(l):Q.test(l)?r.parseJSON(l):l}catch(m){}r.data(b,d,l)}else l=g}return l}function k(b){for(var d in b)if(d!=="toJSON")return false;return true}function q(b,d,l){var m=d+"defer",u=d+"queue",z=d+"mark",C=r.data(b,m,g,true);if(C&&(l==="queue"||!r.data(b,u,g,true))&&(l==="mark"||
!r.data(b,z,g,true)))setTimeout(function(){if(!r.data(b,u,g,true)&&!r.data(b,z,g,true)){r.removeData(b,m,true);C.resolve()}},0)}function c(){return false}function e(){return true}function o(b,d,l){var m=r.extend({},l[0]);m.type=b;m.originalEvent={};m.liveFired=g;r.event.handle.call(d,m);m.isDefaultPrevented()&&l[0].preventDefault()}function w(b){var d,l,m,u,z,C,D,J,L,P,ca,oa=[];u=[];z=r._data(this,"events");if(!(b.liveFired===this||!z||!z.live||b.target.disabled||b.button&&b.type==="click")){if(b.namespace)ca=
RegExp("(^|\\.)"+b.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");b.liveFired=this;var fa=z.live.slice(0);for(D=0;D<fa.length;D++){z=fa[D];z.origType.replace(Ia,"")===b.type?u.push(z.selector):fa.splice(D--,1)}u=r(b.target).closest(u,b.currentTarget);J=0;for(L=u.length;J<L;J++){P=u[J];for(D=0;D<fa.length;D++){z=fa[D];if(P.selector===z.selector&&(!ca||ca.test(z.namespace))&&!P.elem.disabled){C=P.elem;m=null;if(z.preType==="mouseenter"||z.preType==="mouseleave"){b.type=z.preType;if((m=r(b.relatedTarget).closest(z.selector)[0])&&
r.contains(C,m))m=C}if(!m||m!==C)oa.push({elem:C,handleObj:z,level:P.level})}}}J=0;for(L=oa.length;J<L;J++){u=oa[J];if(l&&u.level>l)break;b.currentTarget=u.elem;b.data=u.handleObj.data;b.handleObj=u.handleObj;ca=u.handleObj.origHandler.apply(u.elem,arguments);if(ca===false||b.isPropagationStopped()){l=u.level;if(ca===false)d=false;if(b.isImmediatePropagationStopped())break}}return d}}function A(b,d){return(b&&b!=="*"?b+".":"")+d.replace($a,"`").replace(Va,"&")}function B(b,d,l){d=d||0;if(r.isFunction(d))return r.grep(b,
function(u,z){return!!d.call(u,z,u)===l});else if(d.nodeType)return r.grep(b,function(u){return u===d===l});else if(typeof d==="string"){var m=r.grep(b,function(u){return u.nodeType===1});if(yb.test(d))return r.filter(d,m,!l);else d=r.filter(d,m)}return r.grep(b,function(u){return r.inArray(u,d)>=0===l})}function x(b,d){if(!(d.nodeType!==1||!r.hasData(b))){var l=r.expando,m=r.data(b),u=r.data(d,m);if(m=m[l]){var z=m.events;u=u[l]=r.extend({},m);if(z){delete u.handle;u.events={};for(var C in z){l=
0;for(m=z[C].length;l<m;l++)r.event.add(d,C+(z[C][l].namespace?".":"")+z[C][l].namespace,z[C][l],z[C][l].data)}}}}}function n(b,d){var l;if(d.nodeType===1){d.clearAttributes&&d.clearAttributes();d.mergeAttributes&&d.mergeAttributes(b);l=d.nodeName.toLowerCase();if(l==="object")d.outerHTML=b.outerHTML;else if(l==="input"&&(b.type==="checkbox"||b.type==="radio")){if(b.checked)d.defaultChecked=d.checked=b.checked;if(d.value!==b.value)d.value=b.value}else if(l==="option")d.selected=b.defaultSelected;
else if(l==="input"||l==="textarea")d.defaultValue=b.defaultValue;d.removeAttribute(r.expando)}}function f(b){return"getElementsByTagName"in b?b.getElementsByTagName("*"):"querySelectorAll"in b?b.querySelectorAll("*"):[]}function h(b){if(b.type==="checkbox"||b.type==="radio")b.defaultChecked=b.checked}function j(b){if(r.nodeName(b,"input"))h(b);else"getElementsByTagName"in b&&r.grep(b.getElementsByTagName("input"),h)}function v(b,d){d.src?r.ajax({url:d.src,async:false,dataType:"script"}):r.globalEval((d.text||
d.textContent||d.innerHTML||"").replace(Rb,"/*$0*/"));d.parentNode&&d.parentNode.removeChild(d)}function E(b,d,l){var m=d==="width"?b.offsetWidth:b.offsetHeight,u=d==="width"?Fa:Ca;if(m>0){l!=="border"&&r.each(u,function(){l||(m-=parseFloat(r.css(b,"padding"+this))||0);if(l==="margin")m+=parseFloat(r.css(b,l+this))||0;else m-=parseFloat(r.css(b,"border"+this+"Width"))||0});return m+"px"}m=ab(b,d,d);if(m<0||m==null)m=b.style[d]||0;m=parseFloat(m)||0;l&&r.each(u,function(){m+=parseFloat(r.css(b,"padding"+
this))||0;if(l!=="padding")m+=parseFloat(r.css(b,"border"+this+"Width"))||0;if(l==="margin")m+=parseFloat(r.css(b,l+this))||0});return m+"px"}function F(b){return function(d,l){if(typeof d!=="string"){l=d;d="*"}if(r.isFunction(l))for(var m=d.toLowerCase().split(Fb),u=0,z=m.length,C,D;u<z;u++){C=m[u];if(D=/^\+/.test(C))C=C.substr(1)||"*";C=b[C]=b[C]||[];C[D?"unshift":"push"](l)}}}function K(b,d,l,m,u,z){u=u||d.dataTypes[0];z=z||{};z[u]=true;u=b[u];for(var C=0,D=u?u.length:0,J=b===Gb,L;C<D&&(J||!L);C++){L=
u[C](d,l,m);if(typeof L==="string")if(!J||z[L])L=g;else{d.dataTypes.unshift(L);L=K(b,d,l,m,L,z)}}if((J||!L)&&!z["*"])L=K(b,d,l,m,"*",z);return L}function G(b,d,l,m){if(r.isArray(d))r.each(d,function(z,C){l||Sb.test(b)?m(b,C):G(b+"["+(typeof C==="object"||r.isArray(C)?z:"")+"]",C,l,m)});else if(!l&&d!=null&&typeof d==="object")for(var u in d)G(b+"["+u+"]",d[u],l,m);else m(b,d)}function U(){try{return new a.XMLHttpRequest}catch(b){}}function W(){setTimeout(V,0);return Ma=r.now()}function V(){Ma=g}function ha(b,
d){var l={};r.each(qb.concat.apply([],qb.slice(0,d)),function(){l[this]=b});return l}function S(b){if(!hb[b]){var d=T.body,l=r("<"+b+">").appendTo(d),m=l.css("display");l.remove();if(m==="none"||m===""){if(!Ta){Ta=T.createElement("iframe");Ta.frameBorder=Ta.width=Ta.height=0}d.appendChild(Ta);if(!Na||!Ta.createElement){Na=(Ta.contentWindow||Ta.contentDocument).document;Na.write((T.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Na.close()}l=Na.createElement(b);Na.body.appendChild(l);
m=r.css(l,"display");d.removeChild(Ta)}hb[b]=m}return hb[b]}function ba(b){return r.isWindow(b)?b:b.nodeType===9?b.defaultView||b.parentWindow:false}var T=a.document,H=a.navigator,N=a.location,r=function(){function b(){if(!d.isReady){try{T.documentElement.doScroll("left")}catch(M){setTimeout(b,1);return}d.ready()}}var d=function(M,ka){return new d.fn.init(M,ka,u)},l=a.jQuery,m=a.$,u,z=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,C=/\S/,D=/^\s+/,J=/\s+$/,L=/\d/,P=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ca=/^[\],:{}\s]*$/,
oa=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,fa=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ga=/(?:^|:|,)(?:\s*\[)+/g,sa=/(webkit)[ \/]([\w.]+)/,wa=/(opera)(?:.*version)?[ \/]([\w.]+)/,Ba=/(msie) ([\w.]+)/,Ha=/(mozilla)(?:.*? rv:([\w.]+))?/,I=/-([a-z])/ig,O=function(M,ka){return ka.toUpperCase()},aa=H.userAgent,ea,Z,da=Object.prototype.toString,ma=Object.prototype.hasOwnProperty,ra=Array.prototype.push,xa=Array.prototype.slice,Sa=String.prototype.trim,La=Array.prototype.indexOf,
Oa={};d.fn=d.prototype={constructor:d,init:function(M,ka,ta){var pa;if(!M)return this;if(M.nodeType){this.context=this[0]=M;this.length=1;return this}if(M==="body"&&!ka&&T.body){this.context=T;this[0]=T.body;this.selector=M;this.length=1;return this}if(typeof M==="string")if((pa=M.charAt(0)==="<"&&M.charAt(M.length-1)===">"&&M.length>=3?[null,M,null]:z.exec(M))&&(pa[1]||!ka))if(pa[1]){ta=(ka=ka instanceof d?ka[0]:ka)?ka.ownerDocument||ka:T;if(M=P.exec(M))if(d.isPlainObject(ka)){M=[T.createElement(M[1])];
d.fn.attr.call(M,ka,true)}else M=[ta.createElement(M[1])];else{M=d.buildFragment([pa[1]],[ta]);M=(M.cacheable?d.clone(M.fragment):M.fragment).childNodes}return d.merge(this,M)}else{if((ka=T.getElementById(pa[2]))&&ka.parentNode){if(ka.id!==pa[2])return ta.find(M);this.length=1;this[0]=ka}this.context=T;this.selector=M;return this}else return!ka||ka.jquery?(ka||ta).find(M):this.constructor(ka).find(M);else if(d.isFunction(M))return ta.ready(M);if(M.selector!==g){this.selector=M.selector;this.context=
M.context}return d.makeArray(M,this)},selector:"",jquery:"1.6.2",length:0,size:function(){return this.length},toArray:function(){return xa.call(this,0)},get:function(M){return M==null?this.toArray():M<0?this[this.length+M]:this[M]},pushStack:function(M,ka,ta){var pa=this.constructor();d.isArray(M)?ra.apply(pa,M):d.merge(pa,M);pa.prevObject=this;pa.context=this.context;if(ka==="find")pa.selector=this.selector+(this.selector?" ":"")+ta;else if(ka)pa.selector=this.selector+"."+ka+"("+ta+")";return pa},
each:function(M,ka){return d.each(this,M,ka)},ready:function(M){d.bindReady();ea.done(M);return this},eq:function(M){return M===-1?this.slice(M):this.slice(M,+M+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(xa.apply(this,arguments),"slice",xa.call(arguments).join(","))},map:function(M){return this.pushStack(d.map(this,function(ka,ta){return M.call(ka,ta,ka)}))},end:function(){return this.prevObject||this.constructor(null)},push:ra,
sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var M,ka,ta,pa,ya,za=arguments[0]||{},Ja=1,Ka=arguments.length,bb=false;if(typeof za==="boolean"){bb=za;za=arguments[1]||{};Ja=2}if(typeof za!=="object"&&!d.isFunction(za))za={};if(Ka===Ja){za=this;--Ja}for(;Ja<Ka;Ja++)if((M=arguments[Ja])!=null)for(ka in M){ta=za[ka];pa=M[ka];if(za!==pa)if(bb&&pa&&(d.isPlainObject(pa)||(ya=d.isArray(pa)))){if(ya){ya=false;ta=ta&&d.isArray(ta)?ta:[]}else ta=ta&&d.isPlainObject(ta)?
ta:{};za[ka]=d.extend(bb,ta,pa)}else if(pa!==g)za[ka]=pa}return za};d.extend({noConflict:function(M){if(a.$===d)a.$=m;if(M&&a.jQuery===d)a.jQuery=l;return d},isReady:false,readyWait:1,holdReady:function(M){if(M)d.readyWait++;else d.ready(true)},ready:function(M){if(M===true&&!--d.readyWait||M!==true&&!d.isReady){if(!T.body)return setTimeout(d.ready,1);d.isReady=true;if(!(M!==true&&--d.readyWait>0)){ea.resolveWith(T,[d]);d.fn.trigger&&d(T).trigger("ready").unbind("ready")}}},bindReady:function(){if(!ea){ea=
d._Deferred();if(T.readyState==="complete")return setTimeout(d.ready,1);if(T.addEventListener){T.addEventListener("DOMContentLoaded",Z,false);a.addEventListener("load",d.ready,false)}else if(T.attachEvent){T.attachEvent("onreadystatechange",Z);a.attachEvent("onload",d.ready);var M=false;try{M=a.frameElement==null}catch(ka){}T.documentElement.doScroll&&M&&b()}}},isFunction:function(M){return d.type(M)==="function"},isArray:Array.isArray||function(M){return d.type(M)==="array"},isWindow:function(M){return M&&
typeof M==="object"&&"setInterval"in M},isNaN:function(M){return M==null||!L.test(M)||isNaN(M)},type:function(M){return M==null?String(M):Oa[da.call(M)]||"object"},isPlainObject:function(M){if(!M||d.type(M)!=="object"||M.nodeType||d.isWindow(M))return false;if(M.constructor&&!ma.call(M,"constructor")&&!ma.call(M.constructor.prototype,"isPrototypeOf"))return false;for(var ka in M);return ka===g||ma.call(M,ka)},isEmptyObject:function(M){for(var ka in M)return false;return true},error:function(M){throw M;
},parseJSON:function(M){if(typeof M!=="string"||!M)return null;M=d.trim(M);if(a.JSON&&a.JSON.parse)return a.JSON.parse(M);if(ca.test(M.replace(oa,"@").replace(fa,"]").replace(ga,"")))return(new Function("return "+M))();d.error("Invalid JSON: "+M)},parseXML:function(M,ka,ta){if(a.DOMParser){ta=new DOMParser;ka=ta.parseFromString(M,"text/xml")}else{ka=new ActiveXObject("Microsoft.XMLDOM");ka.async="false";ka.loadXML(M)}ta=ka.documentElement;if(!ta||!ta.nodeName||ta.nodeName==="parsererror")d.error("Invalid XML: "+
M);return ka},noop:function(){},globalEval:function(M){if(M&&C.test(M))(a.execScript||function(ka){a.eval.call(a,ka)})(M)},camelCase:function(M){return M.replace(I,O)},nodeName:function(M,ka){return M.nodeName&&M.nodeName.toUpperCase()===ka.toUpperCase()},each:function(M,ka,ta){var pa,ya=0,za=M.length,Ja=za===g||d.isFunction(M);if(ta)if(Ja)for(pa in M){if(ka.apply(M[pa],ta)===false)break}else for(;ya<za;){if(ka.apply(M[ya++],ta)===false)break}else if(Ja)for(pa in M){if(ka.call(M[pa],pa,M[pa])===false)break}else for(;ya<
za;)if(ka.call(M[ya],ya,M[ya++])===false)break;return M},trim:Sa?function(M){return M==null?"":Sa.call(M)}:function(M){return M==null?"":M.toString().replace(D,"").replace(J,"")},makeArray:function(M,ka){var ta=ka||[];if(M!=null){var pa=d.type(M);M.length==null||pa==="string"||pa==="function"||pa==="regexp"||d.isWindow(M)?ra.call(ta,M):d.merge(ta,M)}return ta},inArray:function(M,ka){if(La)return La.call(ka,M);for(var ta=0,pa=ka.length;ta<pa;ta++)if(ka[ta]===M)return ta;return-1},merge:function(M,
ka){var ta=M.length,pa=0;if(typeof ka.length==="number")for(var ya=ka.length;pa<ya;pa++)M[ta++]=ka[pa];else for(;ka[pa]!==g;)M[ta++]=ka[pa++];M.length=ta;return M},grep:function(M,ka,ta){var pa=[],ya;ta=!!ta;for(var za=0,Ja=M.length;za<Ja;za++){ya=!!ka(M[za],za);ta!==ya&&pa.push(M[za])}return pa},map:function(M,ka,ta){var pa,ya,za=[],Ja=0,Ka=M.length;if(M instanceof d||Ka!==g&&typeof Ka==="number"&&(Ka>0&&M[0]&&M[Ka-1]||Ka===0||d.isArray(M)))for(;Ja<Ka;Ja++){pa=ka(M[Ja],Ja,ta);if(pa!=null)za[za.length]=
pa}else for(ya in M){pa=ka(M[ya],ya,ta);if(pa!=null)za[za.length]=pa}return za.concat.apply([],za)},guid:1,proxy:function(M,ka){if(typeof ka==="string"){var ta=M[ka];ka=M;M=ta}if(!d.isFunction(M))return g;var pa=xa.call(arguments,2);ta=function(){return M.apply(ka,pa.concat(xa.call(arguments)))};ta.guid=M.guid=M.guid||ta.guid||d.guid++;return ta},access:function(M,ka,ta,pa,ya,za){var Ja=M.length;if(typeof ka==="object"){for(var Ka in ka)d.access(M,Ka,ka[Ka],pa,ya,ta);return M}if(ta!==g){pa=!za&&pa&&
d.isFunction(ta);for(Ka=0;Ka<Ja;Ka++)ya(M[Ka],ka,pa?ta.call(M[Ka],Ka,ya(M[Ka],ka)):ta,za);return M}return Ja?ya(M[0],ka):g},now:function(){return(new Date).getTime()},uaMatch:function(M){M=M.toLowerCase();M=sa.exec(M)||wa.exec(M)||Ba.exec(M)||M.indexOf("compatible")<0&&Ha.exec(M)||[];return{browser:M[1]||"",version:M[2]||"0"}},sub:function(){function M(ta,pa){return new M.fn.init(ta,pa)}d.extend(true,M,this);M.superclass=this;M.fn=M.prototype=this();M.fn.constructor=M;M.sub=this.sub;M.fn.init=function(ta,
pa){if(pa&&pa instanceof d&&!(pa instanceof M))pa=M(pa);return d.fn.init.call(this,ta,pa,ka)};M.fn.init.prototype=M.fn;var ka=M(T);return M},browser:{}});d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(M,ka){Oa["[object "+ka+"]"]=ka.toLowerCase()});aa=d.uaMatch(aa);if(aa.browser){d.browser[aa.browser]=true;d.browser.version=aa.version}if(d.browser.webkit)d.browser.safari=true;if(C.test("\u00a0")){D=/^[\s\xA0]+/;J=/[\s\xA0]+$/}u=d(T);if(T.addEventListener)Z=function(){T.removeEventListener("DOMContentLoaded",
Z,false);d.ready()};else if(T.attachEvent)Z=function(){if(T.readyState==="complete"){T.detachEvent("onreadystatechange",Z);d.ready()}};return d}(),Y="done fail isResolved isRejected promise then always pipe".split(" "),R=[].slice;r.extend({_Deferred:function(){var b=[],d,l,m,u={done:function(){if(!m){var z=arguments,C,D,J,L,P;if(d){P=d;d=0}C=0;for(D=z.length;C<D;C++){J=z[C];L=r.type(J);if(L==="array")u.done.apply(u,J);else L==="function"&&b.push(J)}P&&u.resolveWith(P[0],P[1])}return this},resolveWith:function(z,
C){if(!m&&!d&&!l){C=C||[];l=1;try{for(;b[0];)b.shift().apply(z,C)}finally{d=[z,C];l=0}}return this},resolve:function(){u.resolveWith(this,arguments);return this},isResolved:function(){return!!(l||d)},cancel:function(){m=1;b=[];return this}};return u},Deferred:function(b){var d=r._Deferred(),l=r._Deferred(),m;r.extend(d,{then:function(u,z){d.done(u).fail(z);return this},always:function(){return d.done.apply(d,arguments).fail.apply(this,arguments)},fail:l.done,rejectWith:l.resolveWith,reject:l.resolve,
isRejected:l.isResolved,pipe:function(u,z){return r.Deferred(function(C){r.each({done:[u,"resolve"],fail:[z,"reject"]},function(D,J){var L=J[0],P=J[1],ca;r.isFunction(L)?d[D](function(){(ca=L.apply(this,arguments))&&r.isFunction(ca.promise)?ca.promise().then(C.resolve,C.reject):C[P](ca)}):d[D](C[P])})}).promise()},promise:function(u){if(u==null){if(m)return m;m=u={}}for(var z=Y.length;z--;)u[Y[z]]=d[Y[z]];return u}});d.done(l.cancel).fail(d.cancel);delete d.cancel;b&&b.call(d,d);return d},when:function(b){function d(D){return function(J){l[D]=
arguments.length>1?R.call(arguments,0):J;--z||C.resolveWith(C,R.call(l,0))}}var l=arguments,m=0,u=l.length,z=u,C=u<=1&&b&&r.isFunction(b.promise)?b:r.Deferred();if(u>1){for(;m<u;m++)if(l[m]&&r.isFunction(l[m].promise))l[m].promise().then(d(m),C.reject);else--z;z||C.resolveWith(C,l)}else if(C!==b)C.resolveWith(C,u?[b]:[]);return C.promise()}});r.support=function(){var b=T.createElement("div"),d=T.documentElement,l,m,u,z,C,D;b.setAttribute("className","t");b.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
l=b.getElementsByTagName("*");m=b.getElementsByTagName("a")[0];if(!l||!l.length||!m)return{};u=T.createElement("select");z=u.appendChild(T.createElement("option"));l=b.getElementsByTagName("input")[0];C={leadingWhitespace:b.firstChild.nodeType===3,tbody:!b.getElementsByTagName("tbody").length,htmlSerialize:!!b.getElementsByTagName("link").length,style:/top/.test(m.getAttribute("style")),hrefNormalized:m.getAttribute("href")==="/a",opacity:/^0.55$/.test(m.style.opacity),cssFloat:!!m.style.cssFloat,
checkOn:l.value==="on",optSelected:z.selected,getSetAttribute:b.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};l.checked=true;C.noCloneChecked=l.cloneNode(true).checked;u.disabled=true;C.optDisabled=!z.disabled;try{delete b.test}catch(J){C.deleteExpando=false}if(!b.addEventListener&&b.attachEvent&&b.fireEvent){b.attachEvent("onclick",function(){C.noCloneEvent=
false});b.cloneNode(true).fireEvent("onclick")}l=T.createElement("input");l.value="t";l.setAttribute("type","radio");C.radioValue=l.value==="t";l.setAttribute("checked","checked");b.appendChild(l);m=T.createDocumentFragment();m.appendChild(b.firstChild);C.checkClone=m.cloneNode(true).cloneNode(true).lastChild.checked;b.innerHTML="";b.style.width=b.style.paddingLeft="1px";u=T.getElementsByTagName("body")[0];m=T.createElement(u?"div":"body");z={visibility:"hidden",width:0,height:0,border:0,margin:0};
u&&r.extend(z,{position:"absolute",left:-1E3,top:-1E3});for(D in z)m.style[D]=z[D];m.appendChild(b);d=u||d;d.insertBefore(m,d.firstChild);C.appendChecked=l.checked;C.boxModel=b.offsetWidth===2;if("zoom"in b.style){b.style.display="inline";b.style.zoom=1;C.inlineBlockNeedsLayout=b.offsetWidth===2;b.style.display="";b.innerHTML="<div style='width:4px;'></div>";C.shrinkWrapBlocks=b.offsetWidth!==2}b.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";u=b.getElementsByTagName("td");
l=u[0].offsetHeight===0;u[0].style.display="";u[1].style.display="none";C.reliableHiddenOffsets=l&&u[0].offsetHeight===0;b.innerHTML="";if(T.defaultView&&T.defaultView.getComputedStyle){l=T.createElement("div");l.style.width="0";l.style.marginRight="0";b.appendChild(l);C.reliableMarginRight=(parseInt((T.defaultView.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)===0}m.innerHTML="";d.removeChild(m);if(b.attachEvent)for(D in{submit:1,change:1,focusin:1}){d="on"+D;l=d in b;if(!l){b.setAttribute(d,
"return;");l=typeof b[d]==="function"}C[D+"Bubbles"]=l}m=m=u=z=u=l=b=l=null;return C}();r.boxModel=r.support.boxModel;var Q=/^(?:\{.*\}|\[.*\])$/,ia=/([a-z])([A-Z])/g;r.extend({cache:{},uuid:0,expando:"jQuery"+(r.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(b){b=b.nodeType?r.cache[b[r.expando]]:b[r.expando];return!!b&&!k(b)},data:function(b,d,l,m){if(r.acceptData(b)){var u=r.expando,z=typeof d==="string",
C=b.nodeType,D=C?r.cache:b,J=C?b[r.expando]:b[r.expando]&&r.expando;if(!((!J||m&&J&&!D[J][u])&&z&&l===g)){if(!J)if(C)b[r.expando]=J=++r.uuid;else J=r.expando;if(!D[J]){D[J]={};if(!C)D[J].toJSON=r.noop}if(typeof d==="object"||typeof d==="function")if(m)D[J][u]=r.extend(D[J][u],d);else D[J]=r.extend(D[J],d);b=D[J];if(m){b[u]||(b[u]={});b=b[u]}if(l!==g)b[r.camelCase(d)]=l;if(d==="events"&&!b[d])return b[u]&&b[u].events;return z?b[r.camelCase(d)]||b[d]:b}}},removeData:function(b,d,l){if(r.acceptData(b)){var m=
r.expando,u=b.nodeType,z=u?r.cache:b,C=u?b[r.expando]:r.expando;if(z[C]){if(d){var D=l?z[C][m]:z[C];if(D){delete D[d];if(!k(D))return}}if(l){delete z[C][m];if(!k(z[C]))return}d=z[C][m];if(r.support.deleteExpando||z!=a)delete z[C];else z[C]=null;if(d){z[C]={};if(!u)z[C].toJSON=r.noop;z[C][m]=d}else if(u)if(r.support.deleteExpando)delete b[r.expando];else if(b.removeAttribute)b.removeAttribute(r.expando);else b[r.expando]=null}}},_data:function(b,d,l){return r.data(b,d,l,true)},acceptData:function(b){if(b.nodeName){var d=
r.noData[b.nodeName.toLowerCase()];if(d)return!(d===true||b.getAttribute("classid")!==d)}return true}});r.fn.extend({data:function(b,d){var l=null;if(typeof b==="undefined"){if(this.length){l=r.data(this[0]);if(this[0].nodeType===1)for(var m=this[0].attributes,u,z=0,C=m.length;z<C;z++){u=m[z].name;if(u.indexOf("data-")===0){u=r.camelCase(u.substring(5));s(this[0],u,l[u])}}}return l}else if(typeof b==="object")return this.each(function(){r.data(this,b)});var D=b.split(".");D[1]=D[1]?"."+D[1]:"";if(d===
g){l=this.triggerHandler("getData"+D[1]+"!",[D[0]]);if(l===g&&this.length){l=r.data(this[0],b);l=s(this[0],b,l)}return l===g&&D[1]?this.data(D[0]):l}else return this.each(function(){var J=r(this),L=[D[0],d];J.triggerHandler("setData"+D[1]+"!",L);r.data(this,b,d);J.triggerHandler("changeData"+D[1]+"!",L)})},removeData:function(b){return this.each(function(){r.removeData(this,b)})}});r.extend({_mark:function(b,d){if(b){d=(d||"fx")+"mark";r.data(b,d,(r.data(b,d,g,true)||0)+1,true)}},_unmark:function(b,
d,l){if(b!==true){l=d;d=b;b=false}if(d){l=l||"fx";var m=l+"mark";if(b=b?0:(r.data(d,m,g,true)||1)-1)r.data(d,m,b,true);else{r.removeData(d,m,true);q(d,l,"mark")}}},queue:function(b,d,l){if(b){d=(d||"fx")+"queue";var m=r.data(b,d,g,true);if(l)if(!m||r.isArray(l))m=r.data(b,d,r.makeArray(l),true);else m.push(l);return m||[]}},dequeue:function(b,d){d=d||"fx";var l=r.queue(b,d),m=l.shift();if(m==="inprogress")m=l.shift();if(m){d==="fx"&&l.unshift("inprogress");m.call(b,function(){r.dequeue(b,d)})}if(!l.length){r.removeData(b,
d+"queue",true);q(b,d,"queue")}}});r.fn.extend({queue:function(b,d){if(typeof b!=="string"){d=b;b="fx"}if(d===g)return r.queue(this[0],b);return this.each(function(){var l=r.queue(this,b,d);b==="fx"&&l[0]!=="inprogress"&&r.dequeue(this,b)})},dequeue:function(b){return this.each(function(){r.dequeue(this,b)})},delay:function(b,d){b=r.fx?r.fx.speeds[b]||b:b;d=d||"fx";return this.queue(d,function(){var l=this;setTimeout(function(){r.dequeue(l,d)},b)})},clearQueue:function(b){return this.queue(b||"fx",
[])},promise:function(b){function d(){--z||l.resolveWith(m,[m])}if(typeof b!=="string")b=g;b=b||"fx";var l=r.Deferred(),m=this,u=m.length,z=1,C=b+"defer",D=b+"queue";b=b+"mark";for(var J;u--;)if(J=r.data(m[u],C,g,true)||(r.data(m[u],D,g,true)||r.data(m[u],b,g,true))&&r.data(m[u],C,r._Deferred(),true)){z++;J.done(d)}d();return l.promise()}});var la=/[\n\t\r]/g,na=/\s+/,Aa=/\r/g,Da=/^(?:button|input)$/i,Ga=/^(?:button|input|object|select|textarea)$/i,ua=/^a(?:rea)?$/i,qa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
X=/\:|^on/,ja,Ea;r.fn.extend({attr:function(b,d){return r.access(this,b,d,true,r.attr)},removeAttr:function(b){return this.each(function(){r.removeAttr(this,b)})},prop:function(b,d){return r.access(this,b,d,true,r.prop)},removeProp:function(b){b=r.propFix[b]||b;return this.each(function(){try{this[b]=g;delete this[b]}catch(d){}})},addClass:function(b){var d,l,m,u,z,C,D;if(r.isFunction(b))return this.each(function(J){r(this).addClass(b.call(this,J,this.className))});if(b&&typeof b==="string"){d=b.split(na);
l=0;for(m=this.length;l<m;l++){u=this[l];if(u.nodeType===1)if(!u.className&&d.length===1)u.className=b;else{z=" "+u.className+" ";C=0;for(D=d.length;C<D;C++)~z.indexOf(" "+d[C]+" ")||(z+=d[C]+" ");u.className=r.trim(z)}}}return this},removeClass:function(b){var d,l,m,u,z,C,D;if(r.isFunction(b))return this.each(function(J){r(this).removeClass(b.call(this,J,this.className))});if(b&&typeof b==="string"||b===g){d=(b||"").split(na);l=0;for(m=this.length;l<m;l++){u=this[l];if(u.nodeType===1&&u.className)if(b){z=
(" "+u.className+" ").replace(la," ");C=0;for(D=d.length;C<D;C++)z=z.replace(" "+d[C]+" "," ");u.className=r.trim(z)}else u.className=""}}return this},toggleClass:function(b,d){var l=typeof b,m=typeof d==="boolean";if(r.isFunction(b))return this.each(function(u){r(this).toggleClass(b.call(this,u,this.className,d),d)});return this.each(function(){if(l==="string")for(var u,z=0,C=r(this),D=d,J=b.split(na);u=J[z++];){D=m?D:!C.hasClass(u);C[D?"addClass":"removeClass"](u)}else if(l==="undefined"||l==="boolean"){this.className&&
r._data(this,"__className__",this.className);this.className=this.className||b===false?"":r._data(this,"__className__")||""}})},hasClass:function(b){b=" "+b+" ";for(var d=0,l=this.length;d<l;d++)if((" "+this[d].className+" ").replace(la," ").indexOf(b)>-1)return true;return false},val:function(b){var d,l,m=this[0];if(!arguments.length){if(m){if((d=r.valHooks[m.nodeName.toLowerCase()]||r.valHooks[m.type])&&"get"in d&&(l=d.get(m,"value"))!==g)return l;l=m.value;return typeof l==="string"?l.replace(Aa,
""):l==null?"":l}return g}var u=r.isFunction(b);return this.each(function(z){var C=r(this);if(this.nodeType===1){z=u?b.call(this,z,C.val()):b;if(z==null)z="";else if(typeof z==="number")z+="";else if(r.isArray(z))z=r.map(z,function(D){return D==null?"":D+""});d=r.valHooks[this.nodeName.toLowerCase()]||r.valHooks[this.type];if(!d||!("set"in d)||d.set(this,z,"value")===g)this.value=z}})}});r.extend({valHooks:{option:{get:function(b){var d=b.attributes.value;return!d||d.specified?b.value:b.text}},select:{get:function(b){var d,
l=b.selectedIndex,m=[],u=b.options;b=b.type==="select-one";if(l<0)return null;for(var z=b?l:0,C=b?l+1:u.length;z<C;z++){d=u[z];if(d.selected&&(r.support.optDisabled?!d.disabled:d.getAttribute("disabled")===null)&&(!d.parentNode.disabled||!r.nodeName(d.parentNode,"optgroup"))){d=r(d).val();if(b)return d;m.push(d)}}if(b&&!m.length&&u.length)return r(u[l]).val();return m},set:function(b,d){var l=r.makeArray(d);r(b).find("option").each(function(){this.selected=r.inArray(r(this).val(),l)>=0});if(!l.length)b.selectedIndex=
-1;return l}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(b,d,l,m){var u=b.nodeType;if(!b||u===3||u===8||u===2)return g;if(m&&d in r.attrFn)return r(b)[d](l);if(!("getAttribute"in b))return r.prop(b,d,l);var z,C;if(m=u!==1||!r.isXMLDoc(b)){d=r.attrFix[d]||d;C=r.attrHooks[d];if(!C)if(qa.test(d))C=Ea;else if(ja&&d!=="className"&&(r.nodeName(b,"form")||X.test(d)))C=ja}if(l!==g)if(l===null){r.removeAttr(b,d);
return g}else if(C&&"set"in C&&m&&(z=C.set(b,l,d))!==g)return z;else{b.setAttribute(d,""+l);return l}else if(C&&"get"in C&&m&&(z=C.get(b,d))!==null)return z;else{z=b.getAttribute(d);return z===null?g:z}},removeAttr:function(b,d){var l;if(b.nodeType===1){d=r.attrFix[d]||d;if(r.support.getSetAttribute)b.removeAttribute(d);else{r.attr(b,d,"");b.removeAttributeNode(b.getAttributeNode(d))}if(qa.test(d)&&(l=r.propFix[d]||d)in b)b[l]=false}},attrHooks:{type:{set:function(b,d){if(Da.test(b.nodeName)&&b.parentNode)r.error("type property can't be changed");
else if(!r.support.radioValue&&d==="radio"&&r.nodeName(b,"input")){var l=b.value;b.setAttribute("type",d);if(l)b.value=l;return d}}},tabIndex:{get:function(b){var d=b.getAttributeNode("tabIndex");return d&&d.specified?parseInt(d.value,10):Ga.test(b.nodeName)||ua.test(b.nodeName)&&b.href?0:g}},value:{get:function(b,d){if(ja&&r.nodeName(b,"button"))return ja.get(b,d);return d in b?b.value:null},set:function(b,d,l){if(ja&&r.nodeName(b,"button"))return ja.set(b,d,l);b.value=d}}},propFix:{tabindex:"tabIndex",
readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,d,l){var m=b.nodeType;if(!b||m===3||m===8||m===2)return g;var u,z;if(m!==1||!r.isXMLDoc(b)){d=r.propFix[d]||d;z=r.propHooks[d]}return l!==g?z&&"set"in z&&(u=z.set(b,l,d))!==g?u:b[d]=l:z&&"get"in z&&(u=z.get(b,d))!==g?u:b[d]},propHooks:{}});Ea=
{get:function(b,d){return r.prop(b,d)?d.toLowerCase():g},set:function(b,d,l){if(d===false)r.removeAttr(b,l);else{d=r.propFix[l]||l;if(d in b)b[d]=true;b.setAttribute(l,l.toLowerCase())}return l}};if(!r.support.getSetAttribute){r.attrFix=r.propFix;ja=r.attrHooks.name=r.attrHooks.title=r.valHooks.button={get:function(b,d){var l;return(l=b.getAttributeNode(d))&&l.nodeValue!==""?l.nodeValue:g},set:function(b,d,l){if(b=b.getAttributeNode(l))return b.nodeValue=d}};r.each(["width","height"],function(b,d){r.attrHooks[d]=
r.extend(r.attrHooks[d],{set:function(l,m){if(m===""){l.setAttribute(d,"auto");return m}}})})}r.support.hrefNormalized||r.each(["href","src","width","height"],function(b,d){r.attrHooks[d]=r.extend(r.attrHooks[d],{get:function(l){l=l.getAttribute(d,2);return l===null?g:l}})});if(!r.support.style)r.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||g},set:function(b,d){return b.style.cssText=""+d}};if(!r.support.optSelected)r.propHooks.selected=r.extend(r.propHooks.selected,{get:function(){}});
r.support.checkOn||r.each(["radio","checkbox"],function(){r.valHooks[this]={get:function(b){return b.getAttribute("value")===null?"on":b.value}}});r.each(["radio","checkbox"],function(){r.valHooks[this]=r.extend(r.valHooks[this],{set:function(b,d){if(r.isArray(d))return b.checked=r.inArray(r(b).val(),d)>=0}})});var Ia=/\.(.*)$/,Wa=/^(?:textarea|input|select)$/i,$a=/\./g,Va=/ /g,Xa=/[^\w\s.|`]/g,ib=function(b){return b.replace(Xa,"\\$&")};r.event={add:function(b,d,l,m){if(!(b.nodeType===3||b.nodeType===
8)){if(l===false)l=c;else if(!l)return;var u,z;if(l.handler){u=l;l=u.handler}if(!l.guid)l.guid=r.guid++;if(z=r._data(b)){var C=z.events,D=z.handle;if(!C)z.events=C={};if(!D)z.handle=D=function(fa){return typeof r!=="undefined"&&(!fa||r.event.triggered!==fa.type)?r.event.handle.apply(D.elem,arguments):g};D.elem=b;d=d.split(" ");for(var J,L=0,P;J=d[L++];){z=u?r.extend({},u):{handler:l,data:m};if(J.indexOf(".")>-1){P=J.split(".");J=P.shift();z.namespace=P.slice(0).sort().join(".")}else{P=[];z.namespace=
""}z.type=J;if(!z.guid)z.guid=l.guid;var ca=C[J],oa=r.event.special[J]||{};if(!ca){ca=C[J]=[];if(!oa.setup||oa.setup.call(b,m,P,D)===false)if(b.addEventListener)b.addEventListener(J,D,false);else b.attachEvent&&b.attachEvent("on"+J,D)}if(oa.add){oa.add.call(b,z);if(!z.handler.guid)z.handler.guid=l.guid}ca.push(z);r.event.global[J]=true}b=null}}},global:{},remove:function(b,d,l,m){if(!(b.nodeType===3||b.nodeType===8)){if(l===false)l=c;var u,z,C=0,D,J,L,P,ca,oa,fa=r.hasData(b)&&r._data(b),ga=fa&&fa.events;
if(fa&&ga){if(d&&d.type){l=d.handler;d=d.type}if(!d||typeof d==="string"&&d.charAt(0)==="."){d=d||"";for(u in ga)r.event.remove(b,u+d)}else{for(d=d.split(" ");u=d[C++];){P=u;D=u.indexOf(".")<0;J=[];if(!D){J=u.split(".");u=J.shift();L=RegExp("(^|\\.)"+r.map(J.slice(0).sort(),ib).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(ca=ga[u])if(l){P=r.event.special[u]||{};for(z=m||0;z<ca.length;z++){oa=ca[z];if(l.guid===oa.guid){if(D||L.test(oa.namespace)){m==null&&ca.splice(z--,1);P.remove&&P.remove.call(b,oa)}if(m!=
null)break}}if(ca.length===0||m!=null&&ca.length===1){if(!P.teardown||P.teardown.call(b,J)===false)r.removeEvent(b,u,fa.handle);delete ga[u]}}else for(z=0;z<ca.length;z++){oa=ca[z];if(D||L.test(oa.namespace)){r.event.remove(b,P,oa.handler,z);ca.splice(z--,1)}}}if(r.isEmptyObject(ga)){if(d=fa.handle)d.elem=null;delete fa.events;delete fa.handle;r.isEmptyObject(fa)&&r.removeData(b,g,true)}}}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(b,d,l,m){var u=b.type||b,z=[],C;if(u.indexOf("!")>=
0){u=u.slice(0,-1);C=true}if(u.indexOf(".")>=0){z=u.split(".");u=z.shift();z.sort()}if(!((!l||r.event.customEvent[u])&&!r.event.global[u])){b=typeof b==="object"?b[r.expando]?b:new r.Event(u,b):new r.Event(u);b.type=u;b.exclusive=C;b.namespace=z.join(".");b.namespace_re=RegExp("(^|\\.)"+z.join("\\.(?:.*\\.)?")+"(\\.|$)");if(m||!l){b.preventDefault();b.stopPropagation()}if(l){if(!(l.nodeType===3||l.nodeType===8)){b.result=g;b.target=l;d=d!=null?r.makeArray(d):[];d.unshift(b);z=l;m=u.indexOf(":")<0?
"on"+u:"";do{C=r._data(z,"handle");b.currentTarget=z;C&&C.apply(z,d);if(m&&r.acceptData(z)&&z[m]&&z[m].apply(z,d)===false){b.result=false;b.preventDefault()}z=z.parentNode||z.ownerDocument||z===b.target.ownerDocument&&a}while(z&&!b.isPropagationStopped());if(!b.isDefaultPrevented()){var D;z=r.event.special[u]||{};if((!z._default||z._default.call(l.ownerDocument,b)===false)&&!(u==="click"&&r.nodeName(l,"a"))&&r.acceptData(l)){try{if(m&&l[u]){if(D=l[m])l[m]=null;r.event.triggered=u;l[u]()}}catch(J){}if(D)l[m]=
D;r.event.triggered=g}}return b.result}}else r.each(r.cache,function(){var L=this[r.expando];L&&L.events&&L.events[u]&&r.event.trigger(b,d,L.handle.elem)})}},handle:function(b){b=r.event.fix(b||a.event);var d=((r._data(this,"events")||{})[b.type]||[]).slice(0),l=!b.exclusive&&!b.namespace,m=Array.prototype.slice.call(arguments,0);m[0]=b;b.currentTarget=this;for(var u=0,z=d.length;u<z;u++){var C=d[u];if(l||b.namespace_re.test(C.namespace)){b.handler=C.handler;b.data=C.data;b.handleObj=C;C=C.handler.apply(this,
m);if(C!==g){b.result=C;if(C===false){b.preventDefault();b.stopPropagation()}}if(b.isImmediatePropagationStopped())break}}return b.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(b){if(b[r.expando])return b;
var d=b;b=r.Event(d);for(var l=this.props.length,m;l;){m=this.props[--l];b[m]=d[m]}if(!b.target)b.target=b.srcElement||T;if(b.target.nodeType===3)b.target=b.target.parentNode;if(!b.relatedTarget&&b.fromElement)b.relatedTarget=b.fromElement===b.target?b.toElement:b.fromElement;if(b.pageX==null&&b.clientX!=null){l=b.target.ownerDocument||T;d=l.documentElement;l=l.body;b.pageX=b.clientX+(d&&d.scrollLeft||l&&l.scrollLeft||0)-(d&&d.clientLeft||l&&l.clientLeft||0);b.pageY=b.clientY+(d&&d.scrollTop||l&&
l.scrollTop||0)-(d&&d.clientTop||l&&l.clientTop||0)}if(b.which==null&&(b.charCode!=null||b.keyCode!=null))b.which=b.charCode!=null?b.charCode:b.keyCode;if(!b.metaKey&&b.ctrlKey)b.metaKey=b.ctrlKey;if(!b.which&&b.button!==g)b.which=b.button&1?1:b.button&2?3:b.button&4?2:0;return b},guid:1E8,proxy:r.proxy,special:{ready:{setup:r.bindReady,teardown:r.noop},live:{add:function(b){r.event.add(this,A(b.origType,b.selector),r.extend({},b,{handler:w,guid:b.handler.guid}))},remove:function(b){r.event.remove(this,
A(b.origType,b.selector),b)}},beforeunload:{setup:function(b,d,l){if(r.isWindow(this))this.onbeforeunload=l},teardown:function(b,d){if(this.onbeforeunload===d)this.onbeforeunload=null}}}};r.removeEvent=T.removeEventListener?function(b,d,l){b.removeEventListener&&b.removeEventListener(d,l,false)}:function(b,d,l){b.detachEvent&&b.detachEvent("on"+d,l)};r.Event=function(b,d){if(!this.preventDefault)return new r.Event(b,d);if(b&&b.type){this.originalEvent=b;this.type=b.type;this.isDefaultPrevented=b.defaultPrevented||
b.returnValue===false||b.getPreventDefault&&b.getPreventDefault()?e:c}else this.type=b;d&&r.extend(this,d);this.timeStamp=r.now();this[r.expando]=true};r.Event.prototype={preventDefault:function(){this.isDefaultPrevented=e;var b=this.originalEvent;if(b)if(b.preventDefault)b.preventDefault();else b.returnValue=false},stopPropagation:function(){this.isPropagationStopped=e;var b=this.originalEvent;if(b){b.stopPropagation&&b.stopPropagation();b.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
e;this.stopPropagation()},isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c};var jb=function(b){var d=b.relatedTarget,l=false,m=b.type;b.type=b.data;if(d!==this){if(d)l=r.contains(this,d);if(!l){r.event.handle.apply(this,arguments);b.type=m}}},Hb=function(b){b.type=b.data;r.event.handle.apply(this,arguments)};r.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,d){r.event.special[b]={setup:function(l){r.event.add(this,d,l&&l.selector?Hb:jb,b)},teardown:function(l){r.event.remove(this,
d,l&&l.selector?Hb:jb)}}});if(!r.support.submitBubbles)r.event.special.submit={setup:function(){if(r.nodeName(this,"form"))return false;else{r.event.add(this,"click.specialSubmit",function(b){var d=b.target,l=d.type;if((l==="submit"||l==="image")&&r(d).closest("form").length)o("submit",this,arguments)});r.event.add(this,"keypress.specialSubmit",function(b){var d=b.target,l=d.type;if((l==="text"||l==="password")&&r(d).closest("form").length&&b.keyCode===13)o("submit",this,arguments)})}},teardown:function(){r.event.remove(this,
".specialSubmit")}};if(!r.support.changeBubbles){var rb,Qa=function(b){var d=b.type,l=b.value;if(d==="radio"||d==="checkbox")l=b.checked;else if(d==="select-multiple")l=b.selectedIndex>-1?r.map(b.options,function(m){return m.selected}).join("-"):"";else if(r.nodeName(b,"select"))l=b.selectedIndex;return l},cb=function(b,d){var l=b.target,m,u;if(!(!Wa.test(l.nodeName)||l.readOnly)){m=r._data(l,"_change_data");u=Qa(l);if(b.type!=="focusout"||l.type!=="radio")r._data(l,"_change_data",u);if(!(m===g||
u===m))if(m!=null||u){b.type="change";b.liveFired=g;r.event.trigger(b,d,l)}}};r.event.special.change={filters:{focusout:cb,beforedeactivate:cb,click:function(b){var d=b.target,l=r.nodeName(d,"input")?d.type:"";if(l==="radio"||l==="checkbox"||r.nodeName(d,"select"))cb.call(this,b)},keydown:function(b){var d=b.target,l=r.nodeName(d,"input")?d.type:"";if(b.keyCode===13&&!r.nodeName(d,"textarea")||b.keyCode===32&&(l==="checkbox"||l==="radio")||l==="select-multiple")cb.call(this,b)},beforeactivate:function(b){b=
b.target;r._data(b,"_change_data",Qa(b))}},setup:function(){if(this.type==="file")return false;for(var b in rb)r.event.add(this,b+".specialChange",rb[b]);return Wa.test(this.nodeName)},teardown:function(){r.event.remove(this,".specialChange");return Wa.test(this.nodeName)}};rb=r.event.special.change.filters;rb.focus=rb.beforeactivate}r.support.focusinBubbles||r.each({focus:"focusin",blur:"focusout"},function(b,d){function l(u){var z=r.event.fix(u);z.type=d;z.originalEvent={};r.event.trigger(z,null,
z.target);z.isDefaultPrevented()&&u.preventDefault()}var m=0;r.event.special[d]={setup:function(){m++===0&&T.addEventListener(b,l,true)},teardown:function(){--m===0&&T.removeEventListener(b,l,true)}}});r.each(["bind","one"],function(b,d){r.fn[d]=function(l,m,u){var z;if(typeof l==="object"){for(var C in l)this[d](C,m,l[C],u);return this}if(arguments.length===2||m===false){u=m;m=g}if(d==="one"){z=function(J){r(this).unbind(J,z);return u.apply(this,arguments)};z.guid=u.guid||r.guid++}else z=u;if(l===
"unload"&&d!=="one")this.one(l,m,u);else{C=0;for(var D=this.length;C<D;C++)r.event.add(this[C],l,z,m)}return this}});r.fn.extend({unbind:function(b,d){if(typeof b==="object"&&!b.preventDefault)for(var l in b)this.unbind(l,b[l]);else{l=0;for(var m=this.length;l<m;l++)r.event.remove(this[l],b,d)}return this},delegate:function(b,d,l,m){return this.live(d,l,m,b)},undelegate:function(b,d,l){return arguments.length===0?this.unbind("live"):this.die(d,null,l,b)},trigger:function(b,d){return this.each(function(){r.event.trigger(b,
d,this)})},triggerHandler:function(b,d){if(this[0])return r.event.trigger(b,d,this[0],true)},toggle:function(b){var d=arguments,l=b.guid||r.guid++,m=0,u=function(z){var C=(r.data(this,"lastToggle"+b.guid)||0)%m;r.data(this,"lastToggle"+b.guid,C+1);z.preventDefault();return d[C].apply(this,arguments)||false};for(u.guid=l;m<d.length;)d[m++].guid=l;return this.click(u)},hover:function(b,d){return this.mouseenter(b).mouseleave(d||b)}});var zb={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};
r.each(["live","die"],function(b,d){r.fn[d]=function(l,m,u,z){var C=0,D,J,L=z||this.selector,P=z?this:r(this.context);if(typeof l==="object"&&!l.preventDefault){for(D in l)P[d](D,m,l[D],L);return this}if(d==="die"&&!l&&z&&z.charAt(0)==="."){P.unbind(z);return this}if(m===false||r.isFunction(m)){u=m||c;m=g}for(l=(l||"").split(" ");(z=l[C++])!=null;){D=Ia.exec(z);J="";if(D){J=D[0];z=z.replace(Ia,"")}if(z==="hover")l.push("mouseenter"+J,"mouseleave"+J);else{D=z;if(zb[z]){l.push(zb[z]+J);z+=J}else z=
(zb[z]||z)+J;if(d==="live"){J=0;for(var ca=P.length;J<ca;J++)r.event.add(P[J],"live."+A(z,L),{data:m,selector:L,handler:u,origType:z,origHandler:u,preType:D})}else P.unbind("live."+A(z,L),u)}}return this}});r.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(b,d){r.fn[d]=function(l,m){if(m==null){m=l;l=null}return arguments.length>0?this.bind(d,
l,m):this.trigger(d)};if(r.attrFn)r.attrFn[d]=true});(function(){function b(I,O,aa,ea,Z,da){Z=0;for(var ma=ea.length;Z<ma;Z++){var ra=ea[Z];if(ra){var xa=false;for(ra=ra[I];ra;){if(ra.sizcache===aa){xa=ea[ra.sizset];break}if(ra.nodeType===1&&!da){ra.sizcache=aa;ra.sizset=Z}if(ra.nodeName.toLowerCase()===O){xa=ra;break}ra=ra[I]}ea[Z]=xa}}}function d(I,O,aa,ea,Z,da){Z=0;for(var ma=ea.length;Z<ma;Z++){var ra=ea[Z];if(ra){var xa=false;for(ra=ra[I];ra;){if(ra.sizcache===aa){xa=ea[ra.sizset];break}if(ra.nodeType===
1){if(!da){ra.sizcache=aa;ra.sizset=Z}if(typeof O!=="string"){if(ra===O){xa=true;break}}else if(L.filter(O,[ra]).length>0){xa=ra;break}}ra=ra[I]}ea[Z]=xa}}}var l=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,m=0,u=Object.prototype.toString,z=false,C=true,D=/\\/g,J=/\W/;[0,0].sort(function(){C=false;return 0});var L=function(I,O,aa,ea){aa=aa||[];var Z=O=O||T;if(O.nodeType!==1&&O.nodeType!==9)return[];if(!I||typeof I!==
"string")return aa;var da,ma,ra,xa,Sa,La=true,Oa=L.isXML(O),M=[],ka=I;do{l.exec("");if(da=l.exec(ka)){ka=da[3];M.push(da[1]);if(da[2]){xa=da[3];break}}}while(da);if(M.length>1&&ca.exec(I))if(M.length===2&&P.relative[M[0]])ma=Ha(M[0]+M[1],O);else for(ma=P.relative[M[0]]?[O]:L(M.shift(),O);M.length;){I=M.shift();if(P.relative[I])I+=M.shift();ma=Ha(I,ma)}else{if(!ea&&M.length>1&&O.nodeType===9&&!Oa&&P.match.ID.test(M[0])&&!P.match.ID.test(M[M.length-1])){da=L.find(M.shift(),O,Oa);O=da.expr?L.filter(da.expr,
da.set)[0]:da.set[0]}if(O){da=ea?{expr:M.pop(),set:ga(ea)}:L.find(M.pop(),M.length===1&&(M[0]==="~"||M[0]==="+")&&O.parentNode?O.parentNode:O,Oa);ma=da.expr?L.filter(da.expr,da.set):da.set;if(M.length>0)ra=ga(ma);else La=false;for(;M.length;){da=Sa=M.pop();if(P.relative[Sa])da=M.pop();else Sa="";if(da==null)da=O;P.relative[Sa](ra,da,Oa)}}else ra=[]}ra||(ra=ma);ra||L.error(Sa||I);if(u.call(ra)==="[object Array]")if(La)if(O&&O.nodeType===1)for(I=0;ra[I]!=null;I++){if(ra[I]&&(ra[I]===true||ra[I].nodeType===
1&&L.contains(O,ra[I])))aa.push(ma[I])}else for(I=0;ra[I]!=null;I++)ra[I]&&ra[I].nodeType===1&&aa.push(ma[I]);else aa.push.apply(aa,ra);else ga(ra,aa);if(xa){L(xa,Z,aa,ea);L.uniqueSort(aa)}return aa};L.uniqueSort=function(I){if(wa){z=C;I.sort(wa);if(z)for(var O=1;O<I.length;O++)I[O]===I[O-1]&&I.splice(O--,1)}return I};L.matches=function(I,O){return L(I,null,null,O)};L.matchesSelector=function(I,O){return L(O,null,null,[I]).length>0};L.find=function(I,O,aa){var ea;if(!I)return[];for(var Z=0,da=P.order.length;Z<
da;Z++){var ma,ra=P.order[Z];if(ma=P.leftMatch[ra].exec(I)){var xa=ma[1];ma.splice(1,1);if(xa.substr(xa.length-1)!=="\\"){ma[1]=(ma[1]||"").replace(D,"");ea=P.find[ra](ma,O,aa);if(ea!=null){I=I.replace(P.match[ra],"");break}}}}ea||(ea=typeof O.getElementsByTagName!=="undefined"?O.getElementsByTagName("*"):[]);return{set:ea,expr:I}};L.filter=function(I,O,aa,ea){for(var Z,da,ma=I,ra=[],xa=O,Sa=O&&O[0]&&L.isXML(O[0]);I&&O.length;){for(var La in P.filter)if((Z=P.leftMatch[La].exec(I))!=null&&Z[2]){var Oa,
M,ka=P.filter[La];M=Z[1];da=false;Z.splice(1,1);if(M.substr(M.length-1)!=="\\"){if(xa===ra)ra=[];if(P.preFilter[La])if(Z=P.preFilter[La](Z,xa,aa,ra,ea,Sa)){if(Z===true)continue}else da=Oa=true;if(Z)for(var ta=0;(M=xa[ta])!=null;ta++)if(M){Oa=ka(M,Z,ta,xa);var pa=ea^!!Oa;if(aa&&Oa!=null)if(pa)da=true;else xa[ta]=false;else if(pa){ra.push(M);da=true}}if(Oa!==g){aa||(xa=ra);I=I.replace(P.match[La],"");if(!da)return[];break}}}if(I===ma)if(da==null)L.error(I);else break;ma=I}return xa};L.error=function(I){throw"Syntax error, unrecognized expression: "+
I;};var P=L.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(I){return I.getAttribute("href")},type:function(I){return I.getAttribute("type")}},relative:{"+":function(I,O){var aa=typeof O==="string",ea=aa&&!J.test(O);aa=aa&&!ea;if(ea)O=O.toLowerCase();ea=0;for(var Z=I.length,da;ea<Z;ea++)if(da=I[ea]){for(;(da=da.previousSibling)&&da.nodeType!==1;);I[ea]=aa||da&&da.nodeName.toLowerCase()===
O?da||false:da===O}aa&&L.filter(O,I,true)},">":function(I,O){var aa,ea=typeof O==="string",Z=0,da=I.length;if(ea&&!J.test(O))for(O=O.toLowerCase();Z<da;Z++){if(aa=I[Z]){aa=aa.parentNode;I[Z]=aa.nodeName.toLowerCase()===O?aa:false}}else{for(;Z<da;Z++)if(aa=I[Z])I[Z]=ea?aa.parentNode:aa.parentNode===O;ea&&L.filter(O,I,true)}},"":function(I,O,aa){var ea,Z=m++,da=d;if(typeof O==="string"&&!J.test(O)){ea=O=O.toLowerCase();da=b}da("parentNode",O,Z,I,ea,aa)},"~":function(I,O,aa){var ea,Z=m++,da=d;if(typeof O===
"string"&&!J.test(O)){ea=O=O.toLowerCase();da=b}da("previousSibling",O,Z,I,ea,aa)}},find:{ID:function(I,O,aa){if(typeof O.getElementById!=="undefined"&&!aa)return(I=O.getElementById(I[1]))&&I.parentNode?[I]:[]},NAME:function(I,O){if(typeof O.getElementsByName!=="undefined"){for(var aa=[],ea=O.getElementsByName(I[1]),Z=0,da=ea.length;Z<da;Z++)ea[Z].getAttribute("name")===I[1]&&aa.push(ea[Z]);return aa.length===0?null:aa}},TAG:function(I,O){if(typeof O.getElementsByTagName!=="undefined")return O.getElementsByTagName(I[1])}},
preFilter:{CLASS:function(I,O,aa,ea,Z,da){I=" "+I[1].replace(D,"")+" ";if(da)return I;da=0;for(var ma;(ma=O[da])!=null;da++)if(ma)if(Z^(ma.className&&(" "+ma.className+" ").replace(/[\t\n\r]/g," ").indexOf(I)>=0))aa||ea.push(ma);else if(aa)O[da]=false;return false},ID:function(I){return I[1].replace(D,"")},TAG:function(I){return I[1].replace(D,"").toLowerCase()},CHILD:function(I){if(I[1]==="nth"){I[2]||L.error(I[0]);I[2]=I[2].replace(/^\+|\s*/g,"");var O=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(I[2]==="even"&&
"2n"||I[2]==="odd"&&"2n+1"||!/\D/.test(I[2])&&"0n+"+I[2]||I[2]);I[2]=O[1]+(O[2]||1)-0;I[3]=O[3]-0}else I[2]&&L.error(I[0]);I[0]=m++;return I},ATTR:function(I,O,aa,ea,Z,da){O=I[1]=I[1].replace(D,"");if(!da&&P.attrMap[O])I[1]=P.attrMap[O];I[4]=(I[4]||I[5]||"").replace(D,"");if(I[2]==="~=")I[4]=" "+I[4]+" ";return I},PSEUDO:function(I,O,aa,ea,Z){if(I[1]==="not")if((l.exec(I[3])||"").length>1||/^\w/.test(I[3]))I[3]=L(I[3],null,null,O);else{I=L.filter(I[3],O,aa,true^Z);aa||ea.push.apply(ea,I);return false}else if(P.match.POS.test(I[0])||
P.match.CHILD.test(I[0]))return true;return I},POS:function(I){I.unshift(true);return I}},filters:{enabled:function(I){return I.disabled===false&&I.type!=="hidden"},disabled:function(I){return I.disabled===true},checked:function(I){return I.checked===true},selected:function(I){return I.selected===true},parent:function(I){return!!I.firstChild},empty:function(I){return!I.firstChild},has:function(I,O,aa){return!!L(aa[3],I).length},header:function(I){return/h\d/i.test(I.nodeName)},text:function(I){var O=
I.getAttribute("type"),aa=I.type;return I.nodeName.toLowerCase()==="input"&&"text"===aa&&(O===aa||O===null)},radio:function(I){return I.nodeName.toLowerCase()==="input"&&"radio"===I.type},checkbox:function(I){return I.nodeName.toLowerCase()==="input"&&"checkbox"===I.type},file:function(I){return I.nodeName.toLowerCase()==="input"&&"file"===I.type},password:function(I){return I.nodeName.toLowerCase()==="input"&&"password"===I.type},submit:function(I){var O=I.nodeName.toLowerCase();return(O==="input"||
O==="button")&&"submit"===I.type},image:function(I){return I.nodeName.toLowerCase()==="input"&&"image"===I.type},reset:function(I){var O=I.nodeName.toLowerCase();return(O==="input"||O==="button")&&"reset"===I.type},button:function(I){var O=I.nodeName.toLowerCase();return O==="input"&&"button"===I.type||O==="button"},input:function(I){return/input|select|textarea|button/i.test(I.nodeName)},focus:function(I){return I===I.ownerDocument.activeElement}},setFilters:{first:function(I,O){return O===0},last:function(I,
O,aa,ea){return O===ea.length-1},even:function(I,O){return O%2===0},odd:function(I,O){return O%2===1},lt:function(I,O,aa){return O<aa[3]-0},gt:function(I,O,aa){return O>aa[3]-0},nth:function(I,O,aa){return aa[3]-0===O},eq:function(I,O,aa){return aa[3]-0===O}},filter:{PSEUDO:function(I,O,aa,ea){var Z=O[1],da=P.filters[Z];if(da)return da(I,aa,O,ea);else if(Z==="contains")return(I.textContent||I.innerText||L.getText([I])||"").indexOf(O[3])>=0;else if(Z==="not"){O=O[3];aa=0;for(ea=O.length;aa<ea;aa++)if(O[aa]===
I)return false;return true}else L.error(Z)},CHILD:function(I,O){var aa=O[1],ea=I;switch(aa){case "only":case "first":for(;ea=ea.previousSibling;)if(ea.nodeType===1)return false;if(aa==="first")return true;ea=I;case "last":for(;ea=ea.nextSibling;)if(ea.nodeType===1)return false;return true;case "nth":aa=O[2];var Z=O[3];if(aa===1&&Z===0)return true;var da=O[0],ma=I.parentNode;if(ma&&(ma.sizcache!==da||!I.nodeIndex)){var ra=0;for(ea=ma.firstChild;ea;ea=ea.nextSibling)if(ea.nodeType===1)ea.nodeIndex=
++ra;ma.sizcache=da}ea=I.nodeIndex-Z;return aa===0?ea===0:ea%aa===0&&ea/aa>=0}},ID:function(I,O){return I.nodeType===1&&I.getAttribute("id")===O},TAG:function(I,O){return O==="*"&&I.nodeType===1||I.nodeName.toLowerCase()===O},CLASS:function(I,O){return(" "+(I.className||I.getAttribute("class"))+" ").indexOf(O)>-1},ATTR:function(I,O){var aa=O[1];aa=P.attrHandle[aa]?P.attrHandle[aa](I):I[aa]!=null?I[aa]:I.getAttribute(aa);var ea=aa+"",Z=O[2],da=O[4];return aa==null?Z==="!=":Z==="="?ea===da:Z==="*="?
ea.indexOf(da)>=0:Z==="~="?(" "+ea+" ").indexOf(da)>=0:!da?ea&&aa!==false:Z==="!="?ea!==da:Z==="^="?ea.indexOf(da)===0:Z==="$="?ea.substr(ea.length-da.length)===da:Z==="|="?ea===da||ea.substr(0,da.length+1)===da+"-":false},POS:function(I,O,aa,ea){var Z=P.setFilters[O[2]];if(Z)return Z(I,aa,O,ea)}}},ca=P.match.POS,oa=function(I,O){return"\\"+(O-0+1)},fa;for(fa in P.match){P.match[fa]=RegExp(P.match[fa].source+/(?![^\[]*\])(?![^\(]*\))/.source);P.leftMatch[fa]=RegExp(/(^(?:.|\r|\n)*?)/.source+P.match[fa].source.replace(/\\(\d+)/g,
oa))}var ga=function(I,O){I=Array.prototype.slice.call(I,0);if(O){O.push.apply(O,I);return O}return I};try{Array.prototype.slice.call(T.documentElement.childNodes,0)}catch(sa){ga=function(I,O){var aa=0,ea=O||[];if(u.call(I)==="[object Array]")Array.prototype.push.apply(ea,I);else if(typeof I.length==="number")for(var Z=I.length;aa<Z;aa++)ea.push(I[aa]);else for(;I[aa];aa++)ea.push(I[aa]);return ea}}var wa,Ba;if(T.documentElement.compareDocumentPosition)wa=function(I,O){if(I===O){z=true;return 0}if(!I.compareDocumentPosition||
!O.compareDocumentPosition)return I.compareDocumentPosition?-1:1;return I.compareDocumentPosition(O)&4?-1:1};else{wa=function(I,O){if(I===O){z=true;return 0}else if(I.sourceIndex&&O.sourceIndex)return I.sourceIndex-O.sourceIndex;var aa,ea,Z=[],da=[];aa=I.parentNode;ea=O.parentNode;var ma=aa;if(aa===ea)return Ba(I,O);else if(aa){if(!ea)return 1}else return-1;for(;ma;){Z.unshift(ma);ma=ma.parentNode}for(ma=ea;ma;){da.unshift(ma);ma=ma.parentNode}aa=Z.length;ea=da.length;for(ma=0;ma<aa&&ma<ea;ma++)if(Z[ma]!==
da[ma])return Ba(Z[ma],da[ma]);return ma===aa?Ba(I,da[ma],-1):Ba(Z[ma],O,1)};Ba=function(I,O,aa){if(I===O)return aa;for(I=I.nextSibling;I;){if(I===O)return-1;I=I.nextSibling}return 1}}L.getText=function(I){for(var O="",aa,ea=0;I[ea];ea++){aa=I[ea];if(aa.nodeType===3||aa.nodeType===4)O+=aa.nodeValue;else if(aa.nodeType!==8)O+=L.getText(aa.childNodes)}return O};(function(){var I=T.createElement("div"),O="script"+(new Date).getTime(),aa=T.documentElement;I.innerHTML="<a name='"+O+"'/>";aa.insertBefore(I,
aa.firstChild);if(T.getElementById(O)){P.find.ID=function(ea,Z,da){if(typeof Z.getElementById!=="undefined"&&!da)return(Z=Z.getElementById(ea[1]))?Z.id===ea[1]||typeof Z.getAttributeNode!=="undefined"&&Z.getAttributeNode("id").nodeValue===ea[1]?[Z]:g:[]};P.filter.ID=function(ea,Z){var da=typeof ea.getAttributeNode!=="undefined"&&ea.getAttributeNode("id");return ea.nodeType===1&&da&&da.nodeValue===Z}}aa.removeChild(I);aa=I=null})();(function(){var I=T.createElement("div");I.appendChild(T.createComment(""));
if(I.getElementsByTagName("*").length>0)P.find.TAG=function(O,aa){var ea=aa.getElementsByTagName(O[1]);if(O[1]==="*"){for(var Z=[],da=0;ea[da];da++)ea[da].nodeType===1&&Z.push(ea[da]);ea=Z}return ea};I.innerHTML="<a href='#'></a>";if(I.firstChild&&typeof I.firstChild.getAttribute!=="undefined"&&I.firstChild.getAttribute("href")!=="#")P.attrHandle.href=function(O){return O.getAttribute("href",2)};I=null})();T.querySelectorAll&&function(){var I=L,O=T.createElement("div");O.innerHTML="<p class='TEST'></p>";
if(!(O.querySelectorAll&&O.querySelectorAll(".TEST").length===0)){L=function(ea,Z,da,ma){Z=Z||T;if(!ma&&!L.isXML(Z)){var ra=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(ea);if(ra&&(Z.nodeType===1||Z.nodeType===9))if(ra[1])return ga(Z.getElementsByTagName(ea),da);else if(ra[2]&&P.find.CLASS&&Z.getElementsByClassName)return ga(Z.getElementsByClassName(ra[2]),da);if(Z.nodeType===9){if(ea==="body"&&Z.body)return ga([Z.body],da);else if(ra&&ra[3]){var xa=Z.getElementById(ra[3]);if(xa&&xa.parentNode){if(xa.id===
ra[3])return ga([xa],da)}else return ga([],da)}try{return ga(Z.querySelectorAll(ea),da)}catch(Sa){}}else if(Z.nodeType===1&&Z.nodeName.toLowerCase()!=="object"){ra=Z;var La=(xa=Z.getAttribute("id"))||"__sizzle__",Oa=Z.parentNode,M=/^\s*[+~]/.test(ea);if(xa)La=La.replace(/'/g,"\\$&");else Z.setAttribute("id",La);if(M&&Oa)Z=Z.parentNode;try{if(!M||Oa)return ga(Z.querySelectorAll("[id='"+La+"'] "+ea),da)}catch(ka){}finally{xa||ra.removeAttribute("id")}}}return I(ea,Z,da,ma)};for(var aa in I)L[aa]=I[aa];
O=null}}();(function(){var I=T.documentElement,O=I.matchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.msMatchesSelector;if(O){var aa=!O.call(T.createElement("div"),"div"),ea=false;try{O.call(T.documentElement,"[test!='']:sizzle")}catch(Z){ea=true}L.matchesSelector=function(da,ma){ma=ma.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!L.isXML(da))try{if(ea||!P.match.PSEUDO.test(ma)&&!/!=/.test(ma)){var ra=O.call(da,ma);if(ra||!aa||da.document&&da.document.nodeType!==11)return ra}}catch(xa){}return L(ma,
null,null,[da]).length>0}}})();(function(){var I=T.createElement("div");I.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!I.getElementsByClassName||I.getElementsByClassName("e").length===0)){I.lastChild.className="e";if(I.getElementsByClassName("e").length!==1){P.order.splice(1,0,"CLASS");P.find.CLASS=function(O,aa,ea){if(typeof aa.getElementsByClassName!=="undefined"&&!ea)return aa.getElementsByClassName(O[1])};I=null}}})();L.contains=T.documentElement.contains?function(I,O){return I!==
O&&(I.contains?I.contains(O):true)}:T.documentElement.compareDocumentPosition?function(I,O){return!!(I.compareDocumentPosition(O)&16)}:function(){return false};L.isXML=function(I){return(I=(I?I.ownerDocument||I:0).documentElement)?I.nodeName!=="HTML":false};var Ha=function(I,O){for(var aa,ea=[],Z="",da=O.nodeType?[O]:O;aa=P.match.PSEUDO.exec(I);){Z+=aa[0];I=I.replace(P.match.PSEUDO,"")}I=P.relative[I]?I+"*":I;aa=0;for(var ma=da.length;aa<ma;aa++)L(I,da[aa],ea);return L.filter(Z,ea)};r.find=L;r.expr=
L.selectors;r.expr[":"]=r.expr.filters;r.unique=L.uniqueSort;r.text=L.getText;r.isXMLDoc=L.isXML;r.contains=L.contains})();var gc=/Until$/,hc=/^(?:parents|prevUntil|prevAll)/,Ab=/,/,yb=/^.[^:#\[\.,]*$/,Ib=Array.prototype.slice,kb=r.expr.match.POS,Tb={children:true,contents:true,next:true,prev:true};r.fn.extend({find:function(b){var d=this,l,m;if(typeof b!=="string")return r(b).filter(function(){l=0;for(m=d.length;l<m;l++)if(r.contains(d[l],this))return true});var u=this.pushStack("","find",b),z,C,
D;l=0;for(m=this.length;l<m;l++){z=u.length;r.find(b,this[l],u);if(l>0)for(C=z;C<u.length;C++)for(D=0;D<z;D++)if(u[D]===u[C]){u.splice(C--,1);break}}return u},has:function(b){var d=r(b);return this.filter(function(){for(var l=0,m=d.length;l<m;l++)if(r.contains(this,d[l]))return true})},not:function(b){return this.pushStack(B(this,b,false),"not",b)},filter:function(b){return this.pushStack(B(this,b,true),"filter",b)},is:function(b){return!!b&&(typeof b==="string"?r.filter(b,this).length>0:this.filter(b).length>
0)},closest:function(b,d){var l=[],m,u,z=this[0];if(r.isArray(b)){var C,D={},J=1;if(z&&b.length){m=0;for(u=b.length;m<u;m++){C=b[m];D[C]||(D[C]=kb.test(C)?r(C,d||this.context):C)}for(;z&&z.ownerDocument&&z!==d;){for(C in D){m=D[C];if(m.jquery?m.index(z)>-1:r(z).is(m))l.push({selector:C,elem:z,level:J})}z=z.parentNode;J++}}return l}C=kb.test(b)||typeof b!=="string"?r(b,d||this.context):0;m=0;for(u=this.length;m<u;m++)for(z=this[m];z;)if(C?C.index(z)>-1:r.find.matchesSelector(z,b)){l.push(z);break}else{z=
z.parentNode;if(!z||!z.ownerDocument||z===d||z.nodeType===11)break}l=l.length>1?r.unique(l):l;return this.pushStack(l,"closest",b)},index:function(b){if(!b||typeof b==="string")return r.inArray(this[0],b?r(b):this.parent().children());return r.inArray(b.jquery?b[0]:b,this)},add:function(b,d){var l=typeof b==="string"?r(b,d):r.makeArray(b&&b.nodeType?[b]:b),m=r.merge(this.get(),l);return this.pushStack(!l[0]||!l[0].parentNode||l[0].parentNode.nodeType===11||!m[0]||!m[0].parentNode||m[0].parentNode.nodeType===
11?m:r.unique(m))},andSelf:function(){return this.add(this.prevObject)}});r.each({parent:function(b){return(b=b.parentNode)&&b.nodeType!==11?b:null},parents:function(b){return r.dir(b,"parentNode")},parentsUntil:function(b,d,l){return r.dir(b,"parentNode",l)},next:function(b){return r.nth(b,2,"nextSibling")},prev:function(b){return r.nth(b,2,"previousSibling")},nextAll:function(b){return r.dir(b,"nextSibling")},prevAll:function(b){return r.dir(b,"previousSibling")},nextUntil:function(b,d,l){return r.dir(b,
"nextSibling",l)},prevUntil:function(b,d,l){return r.dir(b,"previousSibling",l)},siblings:function(b){return r.sibling(b.parentNode.firstChild,b)},children:function(b){return r.sibling(b.firstChild)},contents:function(b){return r.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:r.makeArray(b.childNodes)}},function(b,d){r.fn[b]=function(l,m){var u=r.map(this,d,l),z=Ib.call(arguments);gc.test(b)||(m=l);if(m&&typeof m==="string")u=r.filter(m,u);u=this.length>1&&!Tb[b]?r.unique(u):u;if((this.length>
1||Ab.test(m))&&hc.test(b))u=u.reverse();return this.pushStack(u,b,z.join(","))}});r.extend({filter:function(b,d,l){if(l)b=":not("+b+")";return d.length===1?r.find.matchesSelector(d[0],b)?[d[0]]:[]:r.find.matches(b,d)},dir:function(b,d,l){var m=[];for(b=b[d];b&&b.nodeType!==9&&(l===g||b.nodeType!==1||!r(b).is(l));){b.nodeType===1&&m.push(b);b=b[d]}return m},nth:function(b,d,l){d=d||1;for(var m=0;b;b=b[l])if(b.nodeType===1&&++m===d)break;return b},sibling:function(b,d){for(var l=[];b;b=b.nextSibling)b.nodeType===
1&&b!==d&&l.push(b);return l}});var Ub=/ jQuery\d+="(?:\d+|null)"/g,lb=/^\s+/,Vb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,sb=/<([\w:]+)/,Wb=/<tbody/i,Xb=/<|&#?\w+;/,Bb=/<(?:script|object|embed|option|style)/i,db=/checked\s*(?:[^=]|=\s*.checked.)/i,Yb=/\/(java|ecma)script/i,Rb=/^\s*<!(?:\[CDATA\[|\-\-)/,Ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};Ra.optgroup=Ra.option;Ra.tbody=Ra.tfoot=Ra.colgroup=Ra.caption=Ra.thead;Ra.th=Ra.td;if(!r.support.htmlSerialize)Ra._default=[1,"div<div>","</div>"];r.fn.extend({text:function(b){if(r.isFunction(b))return this.each(function(d){var l=r(this);l.text(b.call(this,d,l.text()))});if(typeof b!=="object"&&b!==g)return this.empty().append((this[0]&&
this[0].ownerDocument||T).createTextNode(b));return r.text(this)},wrapAll:function(b){if(r.isFunction(b))return this.each(function(l){r(this).wrapAll(b.call(this,l))});if(this[0]){var d=r(b,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&d.insertBefore(this[0]);d.map(function(){for(var l=this;l.firstChild&&l.firstChild.nodeType===1;)l=l.firstChild;return l}).append(this)}return this},wrapInner:function(b){if(r.isFunction(b))return this.each(function(d){r(this).wrapInner(b.call(this,d))});
return this.each(function(){var d=r(this),l=d.contents();l.length?l.wrapAll(b):d.append(b)})},wrap:function(b){return this.each(function(){r(this).wrapAll(b)})},unwrap:function(){return this.parent().each(function(){r.nodeName(this,"body")||r(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(b){this.nodeType===1&&this.appendChild(b)})},prepend:function(){return this.domManip(arguments,true,function(b){this.nodeType===1&&this.insertBefore(b,
this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(d){this.parentNode.insertBefore(d,this)});else if(arguments.length){var b=r(arguments[0]);b.push.apply(b,this.toArray());return this.pushStack(b,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(d){this.parentNode.insertBefore(d,this.nextSibling)});else if(arguments.length){var b=this.pushStack(this,"after",arguments);
b.push.apply(b,r(arguments[0]).toArray());return b}},remove:function(b,d){for(var l=0,m;(m=this[l])!=null;l++)if(!b||r.filter(b,[m]).length){if(!d&&m.nodeType===1){r.cleanData(m.getElementsByTagName("*"));r.cleanData([m])}m.parentNode&&m.parentNode.removeChild(m)}return this},empty:function(){for(var b=0,d;(d=this[b])!=null;b++)for(d.nodeType===1&&r.cleanData(d.getElementsByTagName("*"));d.firstChild;)d.removeChild(d.firstChild);return this},clone:function(b,d){b=b==null?false:b;d=d==null?b:d;return this.map(function(){return r.clone(this,
b,d)})},html:function(b){if(b===g)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Ub,""):null;else if(typeof b==="string"&&!Bb.test(b)&&(r.support.leadingWhitespace||!lb.test(b))&&!Ra[(sb.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(Vb,"<$1></$2>");try{for(var d=0,l=this.length;d<l;d++)if(this[d].nodeType===1){r.cleanData(this[d].getElementsByTagName("*"));this[d].innerHTML=b}}catch(m){this.empty().append(b)}}else r.isFunction(b)?this.each(function(u){var z=r(this);z.html(b.call(this,
u,z.html()))}):this.empty().append(b);return this},replaceWith:function(b){if(this[0]&&this[0].parentNode){if(r.isFunction(b))return this.each(function(d){var l=r(this),m=l.html();l.replaceWith(b.call(this,d,m))});if(typeof b!=="string")b=r(b).detach();return this.each(function(){var d=this.nextSibling,l=this.parentNode;r(this).remove();d?r(d).before(b):r(l).append(b)})}else return this.length?this.pushStack(r(r.isFunction(b)?b():b),"replaceWith",b):this},detach:function(b){return this.remove(b,true)},
domManip:function(b,d,l){var m,u,z,C=b[0],D=[];if(!r.support.checkClone&&arguments.length===3&&typeof C==="string"&&db.test(C))return this.each(function(){r(this).domManip(b,d,l,true)});if(r.isFunction(C))return this.each(function(P){var ca=r(this);b[0]=C.call(this,P,d?ca.html():g);ca.domManip(b,d,l)});if(this[0]){m=C&&C.parentNode;m=r.support.parentNode&&m&&m.nodeType===11&&m.childNodes.length===this.length?{fragment:m}:r.buildFragment(b,this,D);z=m.fragment;if(u=z.childNodes.length===1?z=z.firstChild:
z.firstChild){d=d&&r.nodeName(u,"tr");u=0;for(var J=this.length,L=J-1;u<J;u++)l.call(d?r.nodeName(this[u],"table")?this[u].getElementsByTagName("tbody")[0]||this[u].appendChild(this[u].ownerDocument.createElement("tbody")):this[u]:this[u],m.cacheable||J>1&&u<L?r.clone(z,true,true):z)}D.length&&r.each(D,v)}return this}});r.buildFragment=function(b,d,l){var m,u,z,C;if(d&&d[0])C=d[0].ownerDocument||d[0];C.createDocumentFragment||(C=T);if(b.length===1&&typeof b[0]==="string"&&b[0].length<512&&C===T&&
b[0].charAt(0)==="<"&&!Bb.test(b[0])&&(r.support.checkClone||!db.test(b[0]))){u=true;if((z=r.fragments[b[0]])&&z!==1)m=z}if(!m){m=C.createDocumentFragment();r.clean(b,C,m,l)}if(u)r.fragments[b[0]]=z?m:1;return{fragment:m,cacheable:u}};r.fragments={};r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,d){r.fn[b]=function(l){var m=[];l=r(l);var u=this.length===1&&this[0].parentNode;if(u&&u.nodeType===11&&u.childNodes.length===
1&&l.length===1){l[d](this[0]);return this}else{u=0;for(var z=l.length;u<z;u++){var C=(u>0?this.clone(true):this).get();r(l[u])[d](C);m=m.concat(C)}return this.pushStack(m,b,l.selector)}}});r.extend({clone:function(b,d,l){var m=b.cloneNode(true),u,z,C;if((!r.support.noCloneEvent||!r.support.noCloneChecked)&&(b.nodeType===1||b.nodeType===11)&&!r.isXMLDoc(b)){n(b,m);u=f(b);z=f(m);for(C=0;u[C];++C)n(u[C],z[C])}if(d){x(b,m);if(l){u=f(b);z=f(m);for(C=0;u[C];++C)x(u[C],z[C])}}return m},clean:function(b,
d,l,m){d=d||T;if(typeof d.createElement==="undefined")d=d.ownerDocument||d[0]&&d[0].ownerDocument||T;for(var u=[],z,C=0,D;(D=b[C])!=null;C++){if(typeof D==="number")D+="";if(D){if(typeof D==="string")if(Xb.test(D)){D=D.replace(Vb,"<$1></$2>");z=(sb.exec(D)||["",""])[1].toLowerCase();var J=Ra[z]||Ra._default,L=J[0],P=d.createElement("div");for(P.innerHTML=J[1]+D+J[2];L--;)P=P.lastChild;if(!r.support.tbody){L=Wb.test(D);J=z==="table"&&!L?P.firstChild&&P.firstChild.childNodes:J[1]==="<table>"&&!L?P.childNodes:
[];for(z=J.length-1;z>=0;--z)r.nodeName(J[z],"tbody")&&!J[z].childNodes.length&&J[z].parentNode.removeChild(J[z])}!r.support.leadingWhitespace&&lb.test(D)&&P.insertBefore(d.createTextNode(lb.exec(D)[0]),P.firstChild);D=P.childNodes}else D=d.createTextNode(D);var ca;if(!r.support.appendChecked)if(D[0]&&typeof(ca=D.length)==="number")for(z=0;z<ca;z++)j(D[z]);else j(D);if(D.nodeType)u.push(D);else u=r.merge(u,D)}}if(l){b=function(oa){return!oa.type||Yb.test(oa.type)};for(C=0;u[C];C++)if(m&&r.nodeName(u[C],
"script")&&(!u[C].type||u[C].type.toLowerCase()==="text/javascript"))m.push(u[C].parentNode?u[C].parentNode.removeChild(u[C]):u[C]);else{if(u[C].nodeType===1){d=r.grep(u[C].getElementsByTagName("script"),b);u.splice.apply(u,[C+1,0].concat(d))}l.appendChild(u[C])}}return u},cleanData:function(b){for(var d,l,m=r.cache,u=r.expando,z=r.event.special,C=r.support.deleteExpando,D=0,J;(J=b[D])!=null;D++)if(!(J.nodeName&&r.noData[J.nodeName.toLowerCase()]))if(l=J[r.expando]){if((d=m[l]&&m[l][u])&&d.events){for(var L in d.events)z[L]?
r.event.remove(J,L):r.removeEvent(J,L,d.handle);if(d.handle)d.handle.elem=null}if(C)delete J[r.expando];else J.removeAttribute&&J.removeAttribute(r.expando);delete m[l]}}});var Jb=/alpha\([^)]*\)/i,Zb=/opacity=([^)]*)/,va=/([A-Z]|^ms)/g,Kb=/^-?\d+(?:px)?$/i,tb=/^-?\d/,Lb=/^[+\-]=/,Ya=/[^+\-\.\de]+/g,ic={position:"absolute",visibility:"hidden",display:"block"},Fa=["Left","Right"],Ca=["Top","Bottom"],ab,Mb,Nb;r.fn.css=function(b,d){if(arguments.length===2&&d===g)return this;return r.access(this,b,d,
true,function(l,m,u){return u!==g?r.style(l,m,u):r.css(l,m)})};r.extend({cssHooks:{opacity:{get:function(b,d){if(d){var l=ab(b,"opacity","opacity");return l===""?"1":l}else return b.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":r.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,d,l,m){if(!(!b||b.nodeType===3||b.nodeType===8||!b.style)){var u,z=r.camelCase(d),C=b.style,D=r.cssHooks[z];
d=r.cssProps[z]||z;if(l!==g){m=typeof l;if(!(m==="number"&&isNaN(l)||l==null)){if(m==="string"&&Lb.test(l)){l=+l.replace(Ya,"")+parseFloat(r.css(b,d));m="number"}if(m==="number"&&!r.cssNumber[z])l+="px";if(!D||!("set"in D)||(l=D.set(b,l))!==g)try{C[d]=l}catch(J){}}}else{if(D&&"get"in D&&(u=D.get(b,false,m))!==g)return u;return C[d]}}},css:function(b,d,l){var m,u;d=r.camelCase(d);u=r.cssHooks[d];d=r.cssProps[d]||d;if(d==="cssFloat")d="float";if(u&&"get"in u&&(m=u.get(b,true,l))!==g)return m;else if(ab)return ab(b,
d)},swap:function(b,d,l){var m={},u;for(u in d){m[u]=b.style[u];b.style[u]=d[u]}l.call(b);for(u in d)b.style[u]=m[u]}});r.curCSS=r.css;r.each(["height","width"],function(b,d){r.cssHooks[d]={get:function(l,m,u){var z;if(m){if(l.offsetWidth!==0)return E(l,d,u);else r.swap(l,ic,function(){z=E(l,d,u)});return z}},set:function(l,m){if(Kb.test(m)){m=parseFloat(m);if(m>=0)return m+"px"}else return m}}});if(!r.support.opacity)r.cssHooks.opacity={get:function(b,d){return Zb.test((d&&b.currentStyle?b.currentStyle.filter:
b.style.filter)||"")?parseFloat(RegExp.$1)/100+"":d?"1":""},set:function(b,d){var l=b.style,m=b.currentStyle;l.zoom=1;var u=r.isNaN(d)?"":"alpha(opacity="+d*100+")";m=m&&m.filter||l.filter||"";l.filter=Jb.test(m)?m.replace(Jb,u):m+" "+u}};r(function(){if(!r.support.reliableMarginRight)r.cssHooks.marginRight={get:function(b,d){var l;r.swap(b,{display:"inline-block"},function(){l=d?ab(b,"margin-right","marginRight"):b.style.marginRight});return l}}});if(T.defaultView&&T.defaultView.getComputedStyle)Mb=
function(b,d){var l,m;d=d.replace(va,"-$1").toLowerCase();if(!(m=b.ownerDocument.defaultView))return g;if(m=m.getComputedStyle(b,null)){l=m.getPropertyValue(d);if(l===""&&!r.contains(b.ownerDocument.documentElement,b))l=r.style(b,d)}return l};if(T.documentElement.currentStyle)Nb=function(b,d){var l,m=b.currentStyle&&b.currentStyle[d],u=b.runtimeStyle&&b.runtimeStyle[d],z=b.style;if(!Kb.test(m)&&tb.test(m)){l=z.left;if(u)b.runtimeStyle.left=b.currentStyle.left;z.left=d==="fontSize"?"1em":m||0;m=z.pixelLeft+
"px";z.left=l;if(u)b.runtimeStyle.left=u}return m===""?"auto":m};ab=Mb||Nb;if(r.expr&&r.expr.filters){r.expr.filters.hidden=function(b){var d=b.offsetHeight;return b.offsetWidth===0&&d===0||!r.support.reliableHiddenOffsets&&(b.style.display||r.css(b,"display"))==="none"};r.expr.filters.visible=function(b){return!r.expr.filters.hidden(b)}}var $b=/%20/g,Sb=/\[\]$/,Ob=/\r?\n/g,Pb=/#.*$/,ac=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,jc=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mb=/\?/,ub=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,mc=/^(?:select|textarea)/i,Fb=/\s+/,Pa=/([?&])_=[^&]*/,nc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bc=r.fn.load,Gb={},cc={},eb,fb;try{eb=N.href}catch(Ua){eb=T.createElement("a");eb.href="";eb=eb.href}fb=nc.exec(eb.toLowerCase())||[];r.fn.extend({load:function(b,d,l){if(typeof b!=="string"&&bc)return bc.apply(this,arguments);else if(!this.length)return this;var m=b.indexOf(" ");if(m>=0){var u=b.slice(m,
b.length);b=b.slice(0,m)}m="GET";if(d)if(r.isFunction(d)){l=d;d=g}else if(typeof d==="object"){d=r.param(d,r.ajaxSettings.traditional);m="POST"}var z=this;r.ajax({url:b,type:m,dataType:"html",data:d,complete:function(C,D,J){J=C.responseText;if(C.isResolved()){C.done(function(L){J=L});z.html(u?r("<div>").append(J.replace(ub,"")).find(u):J)}l&&z.each(l,[J,D,C])}});return this},serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
r.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||mc.test(this.nodeName)||jc.test(this.type))}).map(function(b,d){var l=r(this).val();return l==null?null:r.isArray(l)?r.map(l,function(m){return{name:d.name,value:m.replace(Ob,"\r\n")}}):{name:d.name,value:l.replace(Ob,"\r\n")}}).get()}});r.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,d){r.fn[d]=function(l){return this.bind(d,l)}});r.each(["get","post"],
function(b,d){r[d]=function(l,m,u,z){if(r.isFunction(m)){z=z||u;u=m;m=g}return r.ajax({type:d,url:l,data:m,success:u,dataType:z})}});r.extend({getScript:function(b,d){return r.get(b,g,d,"script")},getJSON:function(b,d,l){return r.get(b,d,l,"json")},ajaxSetup:function(b,d){if(d)r.extend(true,b,r.ajaxSettings,d);else{d=b;b=r.extend(true,r.ajaxSettings,d)}for(var l in{context:1,url:1})if(l in d)b[l]=d[l];else if(l in r.ajaxSettings)b[l]=r.ajaxSettings[l];return b},ajaxSettings:{url:eb,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(fb[1]),
global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":true,"text json":r.parseJSON,"text xml":r.parseXML}},ajaxPrefilter:F(Gb),ajaxTransport:F(cc),ajax:function(b,d){function l(Z,da,ma,ra){if(Ba!==
2){Ba=2;sa&&clearTimeout(sa);ga=g;oa=ra||"";O.readyState=Z?4:0;var xa,Sa,La;if(ma){ra=m;var Oa=O,M=ra.contents,ka=ra.dataTypes,ta=ra.responseFields,pa,ya,za,Ja;for(ya in ta)if(ya in ma)Oa[ta[ya]]=ma[ya];for(;ka[0]==="*";){ka.shift();if(pa===g)pa=ra.mimeType||Oa.getResponseHeader("content-type")}if(pa)for(ya in M)if(M[ya]&&M[ya].test(pa)){ka.unshift(ya);break}if(ka[0]in ma)za=ka[0];else{for(ya in ma){if(!ka[0]||ra.converters[ya+" "+ka[0]]){za=ya;break}Ja||(Ja=ya)}za=za||Ja}if(za){za!==ka[0]&&ka.unshift(za);
ma=ma[za]}else ma=void 0}else ma=g;ma=ma;if(Z>=200&&Z<300||Z===304){if(m.ifModified){if(pa=O.getResponseHeader("Last-Modified"))r.lastModified[L]=pa;if(pa=O.getResponseHeader("Etag"))r.etag[L]=pa}if(Z===304){da="notmodified";xa=true}else try{pa=m;ma=ma;if(pa.dataFilter)ma=pa.dataFilter(ma,pa.dataType);var Ka=pa.dataTypes;ya={};var bb,dc,qc=Ka.length,ec,nb=Ka[0],Cb,oc,ob,vb,Db;for(bb=1;bb<qc;bb++){if(bb===1)for(dc in pa.converters)if(typeof dc==="string")ya[dc.toLowerCase()]=pa.converters[dc];Cb=nb;
nb=Ka[bb];if(nb==="*")nb=Cb;else if(Cb!=="*"&&Cb!==nb){oc=Cb+" "+nb;ob=ya[oc]||ya["* "+nb];if(!ob){Db=g;for(vb in ya){ec=vb.split(" ");if(ec[0]===Cb||ec[0]==="*")if(Db=ya[ec[1]+" "+nb]){vb=ya[vb];if(vb===true)ob=Db;else if(Db===true)ob=vb;break}}}ob||Db||r.error("No conversion from "+oc.replace(" "," to "));if(ob!==true)ma=ob?ob(ma):Db(vb(ma))}}Sa=ma;da="success";xa=true}catch(rc){da="parsererror";La=rc}}else{La=da;if(!da||Z){da="error";if(Z<0)Z=0}}O.status=Z;O.statusText=da;xa?C.resolveWith(u,[Sa,
da,O]):C.rejectWith(u,[O,da,La]);O.statusCode(J);J=g;if(Ha)z.trigger("ajax"+(xa?"Success":"Error"),[O,m,xa?Sa:La]);D.resolveWith(u,[O,da]);if(Ha){z.trigger("ajaxComplete",[O,m]);--r.active||r.event.trigger("ajaxStop")}}}if(typeof b==="object"){d=b;b=g}d=d||{};var m=r.ajaxSetup({},d),u=m.context||m,z=u!==m&&(u.nodeType||u instanceof r)?r(u):r.event,C=r.Deferred(),D=r._Deferred(),J=m.statusCode||{},L,P={},ca={},oa,fa,ga,sa,wa,Ba=0,Ha,I,O={readyState:0,setRequestHeader:function(Z,da){if(!Ba){var ma=
Z.toLowerCase();Z=ca[ma]=ca[ma]||Z;P[Z]=da}return this},getAllResponseHeaders:function(){return Ba===2?oa:null},getResponseHeader:function(Z){var da;if(Ba===2){if(!fa)for(fa={};da=ac.exec(oa);)fa[da[1].toLowerCase()]=da[2];da=fa[Z.toLowerCase()]}return da===g?null:da},overrideMimeType:function(Z){if(!Ba)m.mimeType=Z;return this},abort:function(Z){Z=Z||"abort";ga&&ga.abort(Z);l(0,Z);return this}};C.promise(O);O.success=O.done;O.error=O.fail;O.complete=D.done;O.statusCode=function(Z){if(Z){var da;if(Ba<
2)for(da in Z)J[da]=[J[da],Z[da]];else{da=Z[O.status];O.then(da,da)}}return this};m.url=((b||m.url)+"").replace(Pb,"").replace(lc,fb[1]+"//");m.dataTypes=r.trim(m.dataType||"*").toLowerCase().split(Fb);if(m.crossDomain==null){wa=nc.exec(m.url.toLowerCase());m.crossDomain=!!(wa&&(wa[1]!=fb[1]||wa[2]!=fb[2]||(wa[3]||(wa[1]==="http:"?80:443))!=(fb[3]||(fb[1]==="http:"?80:443))))}if(m.data&&m.processData&&typeof m.data!=="string")m.data=r.param(m.data,m.traditional);K(Gb,m,d,O);if(Ba===2)return false;
Ha=m.global;m.type=m.type.toUpperCase();m.hasContent=!kc.test(m.type);Ha&&r.active++===0&&r.event.trigger("ajaxStart");if(!m.hasContent){if(m.data)m.url+=(mb.test(m.url)?"&":"?")+m.data;L=m.url;if(m.cache===false){wa=r.now();var aa=m.url.replace(Pa,"$1_="+wa);m.url=aa+(aa===m.url?(mb.test(m.url)?"&":"?")+"_="+wa:"")}}if(m.data&&m.hasContent&&m.contentType!==false||d.contentType)O.setRequestHeader("Content-Type",m.contentType);if(m.ifModified){L=L||m.url;r.lastModified[L]&&O.setRequestHeader("If-Modified-Since",
r.lastModified[L]);r.etag[L]&&O.setRequestHeader("If-None-Match",r.etag[L])}O.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+(m.dataTypes[0]!=="*"?", */*; q=0.01":""):m.accepts["*"]);for(I in m.headers)O.setRequestHeader(I,m.headers[I]);if(m.beforeSend&&(m.beforeSend.call(u,O,m)===false||Ba===2)){O.abort();return false}for(I in{success:1,error:1,complete:1})O[I](m[I]);if(ga=K(cc,m,d,O)){O.readyState=1;Ha&&z.trigger("ajaxSend",[O,m]);if(m.async&&m.timeout>
0)sa=setTimeout(function(){O.abort("timeout")},m.timeout);try{Ba=1;ga.send(P,l)}catch(ea){status<2?l(-1,ea):r.error(ea)}}else l(-1,"No Transport");return O},param:function(b,d){var l=[],m=function(z,C){C=r.isFunction(C)?C():C;l[l.length]=encodeURIComponent(z)+"="+encodeURIComponent(C)};if(d===g)d=r.ajaxSettings.traditional;if(r.isArray(b)||b.jquery&&!r.isPlainObject(b))r.each(b,function(){m(this.name,this.value)});else for(var u in b)G(u,b[u],d,m);return l.join("&").replace($b,"+")}});r.extend({active:0,
lastModified:{},etag:{}});var Qb=r.now(),pb=/(\=)\?(&|$)|\?\?/i;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return r.expando+"_"+Qb++}});r.ajaxPrefilter("json jsonp",function(b,d,l){d=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data==="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==false&&(pb.test(b.url)||d&&pb.test(b.data))){var m,u=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,z=a[u],C=b.url,D=b.data,J="$1"+u+"$2";if(b.jsonp!==false){C=
C.replace(pb,J);if(b.url===C){if(d)D=D.replace(pb,J);if(b.data===D)C+=(/\?/.test(C)?"&":"?")+b.jsonp+"="+u}}b.url=C;b.data=D;a[u]=function(L){m=[L]};l.always(function(){a[u]=z;m&&r.isFunction(z)&&a[u](m[0])});b.converters["script json"]=function(){m||r.error(u+" was not called");return m[0]};b.dataTypes[0]="json";return"script"}});r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){r.globalEval(b);
return b}}});r.ajaxPrefilter("script",function(b){if(b.cache===g)b.cache=false;if(b.crossDomain){b.type="GET";b.global=false}});r.ajaxTransport("script",function(b){if(b.crossDomain){var d,l=T.head||T.getElementsByTagName("head")[0]||T.documentElement;return{send:function(m,u){d=T.createElement("script");d.async="async";if(b.scriptCharset)d.charset=b.scriptCharset;d.src=b.url;d.onload=d.onreadystatechange=function(z,C){if(C||!d.readyState||/loaded|complete/.test(d.readyState)){d.onload=d.onreadystatechange=
null;l&&d.parentNode&&l.removeChild(d);d=g;C||u(200,"success")}};l.insertBefore(d,l.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var wb=a.ActiveXObject?function(){for(var b in gb)gb[b](0,1)}:false,Eb=0,gb;r.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&U()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b}:U;(function(b){r.extend(r.support,{ajax:!!b,cors:!!b&&"withCredentials"in b})})(r.ajaxSettings.xhr());r.support.ajax&&r.ajaxTransport(function(b){if(!b.crossDomain||
r.support.cors){var d;return{send:function(l,m){var u=b.xhr(),z,C;b.username?u.open(b.type,b.url,b.async,b.username,b.password):u.open(b.type,b.url,b.async);if(b.xhrFields)for(C in b.xhrFields)u[C]=b.xhrFields[C];b.mimeType&&u.overrideMimeType&&u.overrideMimeType(b.mimeType);if(!b.crossDomain&&!l["X-Requested-With"])l["X-Requested-With"]="XMLHttpRequest";try{for(C in l)u.setRequestHeader(C,l[C])}catch(D){}u.send(b.hasContent&&b.data||null);d=function(J,L){var P,ca,oa,fa,ga;try{if(d&&(L||u.readyState===
4)){d=g;if(z){u.onreadystatechange=r.noop;wb&&delete gb[z]}if(L)u.readyState!==4&&u.abort();else{P=u.status;oa=u.getAllResponseHeaders();fa={};if((ga=u.responseXML)&&ga.documentElement)fa.xml=ga;fa.text=u.responseText;try{ca=u.statusText}catch(sa){ca=""}if(!P&&b.isLocal&&!b.crossDomain)P=fa.text?200:404;else if(P===1223)P=204}}}catch(wa){L||m(-1,wa)}fa&&m(P,ca,fa,oa)};if(!b.async||u.readyState===4)d();else{z=++Eb;if(wb){if(!gb){gb={};r(a).unload(wb)}gb[z]=d}u.onreadystatechange=d}},abort:function(){d&&
d(0,1)}}}});var hb={},Ta,Na,fc=/^(?:toggle|show|hide)$/,pc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Za,qb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Ma,xb=a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame;r.fn.extend({show:function(b,d,l){if(b||b===0)return this.animate(ha("show",3),b,d,l);else{l=0;for(var m=this.length;l<m;l++){b=this[l];if(b.style){d=b.style.display;
if(!r._data(b,"olddisplay")&&d==="none")d=b.style.display="";d===""&&r.css(b,"display")==="none"&&r._data(b,"olddisplay",S(b.nodeName))}}for(l=0;l<m;l++){b=this[l];if(b.style){d=b.style.display;if(d===""||d==="none")b.style.display=r._data(b,"olddisplay")||""}}return this}},hide:function(b,d,l){if(b||b===0)return this.animate(ha("hide",3),b,d,l);else{b=0;for(d=this.length;b<d;b++)if(this[b].style){l=r.css(this[b],"display");l!=="none"&&!r._data(this[b],"olddisplay")&&r._data(this[b],"olddisplay",
l)}for(b=0;b<d;b++)if(this[b].style)this[b].style.display="none";return this}},_toggle:r.fn.toggle,toggle:function(b,d,l){var m=typeof b==="boolean";if(r.isFunction(b)&&r.isFunction(d))this._toggle.apply(this,arguments);else b==null||m?this.each(function(){var u=m?b:r(this).is(":hidden");r(this)[u?"show":"hide"]()}):this.animate(ha("toggle",3),b,d,l);return this},fadeTo:function(b,d,l,m){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:d},b,l,m)},animate:function(b,d,l,
m){var u=r.speed(d,l,m);if(r.isEmptyObject(b))return this.each(u.complete,[false]);b=r.extend({},b);return this[u.queue===false?"each":"queue"](function(){u.queue===false&&r._mark(this);var z=r.extend({},u),C=this.nodeType===1,D=C&&r(this).is(":hidden"),J,L,P,ca,oa;z.animatedProperties={};for(P in b){J=r.camelCase(P);if(P!==J){b[J]=b[P];delete b[P]}L=b[J];if(r.isArray(L)){z.animatedProperties[J]=L[1];L=b[J]=L[0]}else z.animatedProperties[J]=z.specialEasing&&z.specialEasing[J]||z.easing||"swing";if(L===
"hide"&&D||L==="show"&&!D)return z.complete.call(this);if(C&&(J==="height"||J==="width")){z.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(r.css(this,"display")==="inline"&&r.css(this,"float")==="none")if(r.support.inlineBlockNeedsLayout){L=S(this.nodeName);if(L==="inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}}else this.style.display="inline-block"}}if(z.overflow!=null)this.style.overflow="hidden";for(P in b){C=new r.fx(this,
z,P);L=b[P];if(fc.test(L))C[L==="toggle"?D?"show":"hide":L]();else{J=pc.exec(L);ca=C.cur();if(J){L=parseFloat(J[2]);oa=J[3]||(r.cssNumber[P]?"":"px");if(oa!=="px"){r.style(this,P,(L||1)+oa);ca=(L||1)/C.cur()*ca;r.style(this,P,ca+oa)}if(J[1])L=(J[1]==="-="?-1:1)*L+ca;C.custom(ca,L,oa)}else C.custom(ca,L,"")}}return true})},stop:function(b,d){b&&this.queue([]);this.each(function(){var l=r.timers,m=l.length;for(d||r._unmark(true,this);m--;)if(l[m].elem===this){d&&l[m](true);l.splice(m,1)}});d||this.dequeue();
return this}});r.each({slideDown:ha("show",1),slideUp:ha("hide",1),slideToggle:ha("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,d){r.fn[b]=function(l,m,u){return this.animate(d,l,m,u)}});r.extend({speed:function(b,d,l){var m=b&&typeof b==="object"?r.extend({},b):{complete:l||!l&&d||r.isFunction(b)&&b,duration:b,easing:l&&d||d&&!r.isFunction(d)&&d};m.duration=r.fx.off?0:typeof m.duration==="number"?m.duration:m.duration in r.fx.speeds?r.fx.speeds[m.duration]:
r.fx.speeds._default;m.old=m.complete;m.complete=function(u){r.isFunction(m.old)&&m.old.call(this);if(m.queue!==false)r.dequeue(this);else u!==false&&r._unmark(this)};return m},easing:{linear:function(b,d,l,m){return l+m*b},swing:function(b,d,l,m){return(-Math.cos(b*Math.PI)/2+0.5)*m+l}},timers:[],fx:function(b,d,l){this.options=d;this.elem=b;this.prop=l;d.orig=d.orig||{}}});r.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(r.fx.step[this.prop]||
r.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var b,d=r.css(this.elem,this.prop);return isNaN(b=parseFloat(d))?!d||d==="auto"?0:d:b},custom:function(b,d,l){function m(D){return u.step(D)}var u=this,z=r.fx,C;this.startTime=Ma||W();this.start=b;this.end=d;this.unit=l||this.unit||(r.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;m.elem=this.elem;if(m()&&r.timers.push(m)&&
!Za)if(xb){Za=true;C=function(){if(Za){xb(C);z.tick()}};xb(C)}else Za=setInterval(z.tick,z.interval)},show:function(){this.options.orig[this.prop]=r.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());r(this.elem).show()},hide:function(){this.options.orig[this.prop]=r.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(b){var d=Ma||W(),l=true,m=this.elem,u=this.options,z;if(b||d>=u.duration+
this.startTime){this.now=this.end;this.pos=this.state=1;this.update();u.animatedProperties[this.prop]=true;for(z in u.animatedProperties)if(u.animatedProperties[z]!==true)l=false;if(l){u.overflow!=null&&!r.support.shrinkWrapBlocks&&r.each(["","X","Y"],function(D,J){m.style["overflow"+J]=u.overflow[D]});u.hide&&r(m).hide();if(u.hide||u.show)for(var C in u.animatedProperties)r.style(m,C,u.orig[C]);u.complete.call(m)}return false}else{if(u.duration==Infinity)this.now=d;else{b=d-this.startTime;this.state=
b/u.duration;this.pos=r.easing[u.animatedProperties[this.prop]](this.state,b,0,1,u.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update()}return true}};r.extend(r.fx,{tick:function(){for(var b=r.timers,d=0;d<b.length;++d)b[d]()||b.splice(d--,1);b.length||r.fx.stop()},interval:13,stop:function(){clearInterval(Za);Za=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(b){r.style(b.elem,"opacity",b.now)},_default:function(b){if(b.elem.style&&b.elem.style[b.prop]!=
null)b.elem.style[b.prop]=(b.prop==="width"||b.prop==="height"?Math.max(0,b.now):b.now)+b.unit;else b.elem[b.prop]=b.now}}});if(r.expr&&r.expr.filters)r.expr.filters.animated=function(b){return r.grep(r.timers,function(d){return b===d.elem}).length};var p=/^t(?:able|d|h)$/i,y=/^(?:body|html)$/i;r.fn.offset="getBoundingClientRect"in T.documentElement?function(b){var d=this[0],l;if(b)return this.each(function(C){r.offset.setOffset(this,b,C)});if(!d||!d.ownerDocument)return null;if(d===d.ownerDocument.body)return r.offset.bodyOffset(d);
try{l=d.getBoundingClientRect()}catch(m){}var u=d.ownerDocument,z=u.documentElement;if(!l||!r.contains(z,d))return l?{top:l.top,left:l.left}:{top:0,left:0};d=u.body;u=ba(u);return{top:l.top+(u.pageYOffset||r.support.boxModel&&z.scrollTop||d.scrollTop)-(z.clientTop||d.clientTop||0),left:l.left+(u.pageXOffset||r.support.boxModel&&z.scrollLeft||d.scrollLeft)-(z.clientLeft||d.clientLeft||0)}}:function(b){var d=this[0];if(b)return this.each(function(L){r.offset.setOffset(this,b,L)});if(!d||!d.ownerDocument)return null;
if(d===d.ownerDocument.body)return r.offset.bodyOffset(d);r.offset.initialize();var l,m=d.offsetParent,u=d.ownerDocument,z=u.documentElement,C=u.body;l=(u=u.defaultView)?u.getComputedStyle(d,null):d.currentStyle;for(var D=d.offsetTop,J=d.offsetLeft;(d=d.parentNode)&&d!==C&&d!==z;){if(r.offset.supportsFixedPosition&&l.position==="fixed")break;l=u?u.getComputedStyle(d,null):d.currentStyle;D-=d.scrollTop;J-=d.scrollLeft;if(d===m){D+=d.offsetTop;J+=d.offsetLeft;if(r.offset.doesNotAddBorder&&!(r.offset.doesAddBorderForTableAndCells&&
p.test(d.nodeName))){D+=parseFloat(l.borderTopWidth)||0;J+=parseFloat(l.borderLeftWidth)||0}m=d.offsetParent}if(r.offset.subtractsBorderForOverflowNotVisible&&l.overflow!=="visible"){D+=parseFloat(l.borderTopWidth)||0;J+=parseFloat(l.borderLeftWidth)||0}l=l}if(l.position==="relative"||l.position==="static"){D+=C.offsetTop;J+=C.offsetLeft}if(r.offset.supportsFixedPosition&&l.position==="fixed"){D+=Math.max(z.scrollTop,C.scrollTop);J+=Math.max(z.scrollLeft,C.scrollLeft)}return{top:D,left:J}};r.offset=
{initialize:function(){var b=T.body,d=T.createElement("div"),l,m,u,z=parseFloat(r.css(b,"marginTop"))||0;r.extend(d.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});d.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
b.insertBefore(d,b.firstChild);l=d.firstChild;m=l.firstChild;u=l.nextSibling.firstChild.firstChild;this.doesNotAddBorder=m.offsetTop!==5;this.doesAddBorderForTableAndCells=u.offsetTop===5;m.style.position="fixed";m.style.top="20px";this.supportsFixedPosition=m.offsetTop===20||m.offsetTop===15;m.style.position=m.style.top="";l.style.overflow="hidden";l.style.position="relative";this.subtractsBorderForOverflowNotVisible=m.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=b.offsetTop!==z;b.removeChild(d);
r.offset.initialize=r.noop},bodyOffset:function(b){var d=b.offsetTop,l=b.offsetLeft;r.offset.initialize();if(r.offset.doesNotIncludeMarginInBodyOffset){d+=parseFloat(r.css(b,"marginTop"))||0;l+=parseFloat(r.css(b,"marginLeft"))||0}return{top:d,left:l}},setOffset:function(b,d,l){var m=r.css(b,"position");if(m==="static")b.style.position="relative";var u=r(b),z=u.offset(),C=r.css(b,"top"),D=r.css(b,"left"),J={},L={};if((m==="absolute"||m==="fixed")&&r.inArray("auto",[C,D])>-1){L=u.position();m=L.top;
D=L.left}else{m=parseFloat(C)||0;D=parseFloat(D)||0}if(r.isFunction(d))d=d.call(b,l,z);if(d.top!=null)J.top=d.top-z.top+m;if(d.left!=null)J.left=d.left-z.left+D;"using"in d?d.using.call(b,J):u.css(J)}};r.fn.extend({position:function(){if(!this[0])return null;var b=this[0],d=this.offsetParent(),l=this.offset(),m=y.test(d[0].nodeName)?{top:0,left:0}:d.offset();l.top-=parseFloat(r.css(b,"marginTop"))||0;l.left-=parseFloat(r.css(b,"marginLeft"))||0;m.top+=parseFloat(r.css(d[0],"borderTopWidth"))||0;m.left+=
parseFloat(r.css(d[0],"borderLeftWidth"))||0;return{top:l.top-m.top,left:l.left-m.left}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||T.body;b&&!y.test(b.nodeName)&&r.css(b,"position")==="static";)b=b.offsetParent;return b})}});r.each(["Left","Top"],function(b,d){var l="scroll"+d;r.fn[l]=function(m){var u,z;if(m===g){u=this[0];if(!u)return null;return(z=ba(u))?"pageXOffset"in z?z[b?"pageYOffset":"pageXOffset"]:r.support.boxModel&&z.document.documentElement[l]||z.document.body[l]:
u[l]}return this.each(function(){if(z=ba(this))z.scrollTo(!b?m:r(z).scrollLeft(),b?m:r(z).scrollTop());else this[l]=m})}});r.each(["Height","Width"],function(b,d){var l=d.toLowerCase();r.fn["inner"+d]=function(){var m=this[0];return m&&m.style?parseFloat(r.css(m,l,"padding")):null};r.fn["outer"+d]=function(m){var u=this[0];return u&&u.style?parseFloat(r.css(u,l,m?"margin":"border")):null};r.fn[l]=function(m){var u=this[0];if(!u)return m==null?null:this;if(r.isFunction(m))return this.each(function(C){var D=
r(this);D[l](m.call(this,C,D[l]()))});if(r.isWindow(u)){var z=u.document.documentElement["client"+d];return u.document.compatMode==="CSS1Compat"&&z||u.document.body["client"+d]||z}else if(u.nodeType===9)return Math.max(u.documentElement["client"+d],u.body["scroll"+d],u.documentElement["scroll"+d],u.body["offset"+d],u.documentElement["offset"+d]);else if(m===g){u=r.css(u,l);z=parseFloat(u);return r.isNaN(z)?u:z}else return this.css(l,typeof m==="string"?m:m+"px")}});a.jQuery=a.$=r})(window);
(function(a){function g(s){var k=null;if(document.cookie&&document.cookie!=="")for(var q=document.cookie.split(";"),c=0;c<q.length;c++){var e=jQuery.trim(q[c]);if(e.substring(0,s.length+1)==s+"="){k=decodeURIComponent(e.substring(s.length+1));break}}return k}a.ajaxSetup({beforeSend:function(s,k){/^http:.*/.test(k.url)||/^https:.*/.test(k.url)||s.setRequestHeader("X-CSRFToken",g("csrftoken"))}})})(jQuery);
window.innerShiv=function(){function a(c,e,o){return/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i.test(o)?c:e+"></"+o+">"}var g,s=document,k,q="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" ");return function(c,e,o){if(!g){g=s.createElement("div");g.innerHTML="<nav></nav>";if(k=g.childNodes.length!==1){for(var w=s.createDocumentFragment(),A=q.length;A--;)w.createElement(q[A]);w.appendChild(g)}}c=
c.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(o!==false)c=c.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");c=c.replace(/(<([\w:]+)[^>]*?)\/>/g,a);g.innerHTML=(o=c.match(/^<(tbody|tr|td|th|col|colgroup|thead|tfoot)[\s\/>]/i))?"<table>"+c+"</table>":c;c=o?g.getElementsByTagName(o[1])[0].parentNode:g;if(e===false)return c.childNodes;e=s.createDocumentFragment();for(o=c.childNodes.length;o--;)e.appendChild(c.firstChild);return e}}();
(function(){var a=this,g=a._,s={},k=Array.prototype,q=Object.prototype,c=k.slice,e=k.unshift,o=q.toString,w=q.hasOwnProperty,A=k.forEach,B=k.map,x=k.reduce,n=k.reduceRight,f=k.filter,h=k.every,j=k.some,v=k.indexOf,E=k.lastIndexOf;q=Array.isArray;var F=Object.keys,K=Function.prototype.bind,G=function(H){return new S(H)};if(typeof module!=="undefined"&&module.exports){module.exports=G;G._=G}else a._=G;G.VERSION="1.1.5";var U=G.each=G.forEach=function(H,N,r){if(H!=null)if(A&&H.forEach===A)H.forEach(N,
r);else if(G.isNumber(H.length))for(var Y=0,R=H.length;Y<R;Y++){if(N.call(r,H[Y],Y,H)===s)break}else for(Y in H)if(w.call(H,Y))if(N.call(r,H[Y],Y,H)===s)break};G.map=function(H,N,r){var Y=[];if(H==null)return Y;if(B&&H.map===B)return H.map(N,r);U(H,function(R,Q,ia){Y[Y.length]=N.call(r,R,Q,ia)});return Y};G.reduce=G.foldl=G.inject=function(H,N,r,Y){var R=r!==void 0;if(H==null)H=[];if(x&&H.reduce===x){if(Y)N=G.bind(N,Y);return R?H.reduce(N,r):H.reduce(N)}U(H,function(Q,ia,la){if(!R&&ia===0){r=Q;R=
true}else r=N.call(Y,r,Q,ia,la)});if(!R)throw new TypeError("Reduce of empty array with no initial value");return r};G.reduceRight=G.foldr=function(H,N,r,Y){if(H==null)H=[];if(n&&H.reduceRight===n){if(Y)N=G.bind(N,Y);return r!==void 0?H.reduceRight(N,r):H.reduceRight(N)}H=(G.isArray(H)?H.slice():G.toArray(H)).reverse();return G.reduce(H,N,r,Y)};G.find=G.detect=function(H,N,r){var Y;W(H,function(R,Q,ia){if(N.call(r,R,Q,ia)){Y=R;return true}});return Y};G.filter=G.select=function(H,N,r){var Y=[];if(H==
null)return Y;if(f&&H.filter===f)return H.filter(N,r);U(H,function(R,Q,ia){if(N.call(r,R,Q,ia))Y[Y.length]=R});return Y};G.reject=function(H,N,r){var Y=[];if(H==null)return Y;U(H,function(R,Q,ia){N.call(r,R,Q,ia)||(Y[Y.length]=R)});return Y};G.every=G.all=function(H,N,r){N=N||G.identity;var Y=true;if(H==null)return Y;if(h&&H.every===h)return H.every(N,r);U(H,function(R,Q,ia){if(!(Y=Y&&N.call(r,R,Q,ia)))return s});return Y};var W=G.some=G.any=function(H,N,r){N=N||G.identity;var Y=false;if(H==null)return Y;
if(j&&H.some===j)return H.some(N,r);U(H,function(R,Q,ia){if(Y=N.call(r,R,Q,ia))return s});return Y};G.include=G.contains=function(H,N){var r=false;if(H==null)return r;if(v&&H.indexOf===v)return H.indexOf(N)!=-1;W(H,function(Y){if(r=Y===N)return true});return r};G.invoke=function(H,N){var r=c.call(arguments,2);return G.map(H,function(Y){return(N?Y[N]:Y).apply(Y,r)})};G.pluck=function(H,N){return G.map(H,function(r){return r[N]})};G.max=function(H,N,r){if(!N&&G.isArray(H))return Math.max.apply(Math,
H);var Y={computed:-Infinity};U(H,function(R,Q,ia){Q=N?N.call(r,R,Q,ia):R;Q>=Y.computed&&(Y={value:R,computed:Q})});return Y.value};G.min=function(H,N,r){if(!N&&G.isArray(H))return Math.min.apply(Math,H);var Y={computed:Infinity};U(H,function(R,Q,ia){Q=N?N.call(r,R,Q,ia):R;Q<Y.computed&&(Y={value:R,computed:Q})});return Y.value};G.sortBy=function(H,N,r){return G.pluck(G.map(H,function(Y,R,Q){return{value:Y,criteria:N.call(r,Y,R,Q)}}).sort(function(Y,R){var Q=Y.criteria,ia=R.criteria;return Q<ia?-1:
Q>ia?1:0}),"value")};G.sortedIndex=function(H,N,r){r=r||G.identity;for(var Y=0,R=H.length;Y<R;){var Q=Y+R>>1;r(H[Q])<r(N)?Y=Q+1:R=Q}return Y};G.toArray=function(H){if(!H)return[];if(H.toArray)return H.toArray();if(G.isArray(H))return H;if(G.isArguments(H))return c.call(H);return G.values(H)};G.size=function(H){return G.toArray(H).length};G.first=G.head=function(H,N,r){return N!=null&&!r?c.call(H,0,N):H[0]};G.rest=G.tail=function(H,N,r){return c.call(H,N==null||r?1:N)};G.last=function(H){return H[H.length-
1]};G.compact=function(H){return G.filter(H,function(N){return!!N})};G.flatten=function(H){return G.reduce(H,function(N,r){if(G.isArray(r))return N.concat(G.flatten(r));N[N.length]=r;return N},[])};G.without=function(H){var N=c.call(arguments,1);return G.filter(H,function(r){return!G.include(N,r)})};G.uniq=G.unique=function(H,N){return G.reduce(H,function(r,Y,R){if(0==R||(N===true?G.last(r)!=Y:!G.include(r,Y)))r[r.length]=Y;return r},[])};G.intersect=function(H){var N=c.call(arguments,1);return G.filter(G.uniq(H),
function(r){return G.every(N,function(Y){return G.indexOf(Y,r)>=0})})};G.zip=function(){for(var H=c.call(arguments),N=G.max(G.pluck(H,"length")),r=Array(N),Y=0;Y<N;Y++)r[Y]=G.pluck(H,""+Y);return r};G.indexOf=function(H,N,r){if(H==null)return-1;var Y;if(r){r=G.sortedIndex(H,N);return H[r]===N?r:-1}if(v&&H.indexOf===v)return H.indexOf(N);r=0;for(Y=H.length;r<Y;r++)if(H[r]===N)return r;return-1};G.lastIndexOf=function(H,N){if(H==null)return-1;if(E&&H.lastIndexOf===E)return H.lastIndexOf(N);for(var r=
H.length;r--;)if(H[r]===N)return r;return-1};G.range=function(H,N,r){if(arguments.length<=1){N=H||0;H=0}r=arguments[2]||1;for(var Y=Math.max(Math.ceil((N-H)/r),0),R=0,Q=Array(Y);R<Y;){Q[R++]=H;H+=r}return Q};G.bind=function(H,N){if(K&&H.bind===K)return H.bind.apply(H,c.call(arguments,1));var r=c.call(arguments,2);return function(){return H.apply(N,r.concat(c.call(arguments)))}};G.bindAll=function(H){var N=c.call(arguments,1);if(N.length==0)N=G.functions(H);U(N,function(r){H[r]=G.bind(H[r],H)});return H};
G.memoize=function(H,N){var r={};N=N||G.identity;return function(){var Y=N.apply(this,arguments);return w.call(r,Y)?r[Y]:r[Y]=H.apply(this,arguments)}};G.delay=function(H,N){var r=c.call(arguments,2);return setTimeout(function(){return H.apply(H,r)},N)};G.defer=function(H){return G.delay.apply(G,[H,1].concat(c.call(arguments,1)))};var V=function(H,N,r){var Y;return function(){var R=this,Q=arguments,ia=function(){Y=null;H.apply(R,Q)};r&&clearTimeout(Y);if(r||!Y)Y=setTimeout(ia,N)}};G.throttle=function(H,
N){return V(H,N,false)};G.debounce=function(H,N){return V(H,N,true)};G.once=function(H){var N=false,r;return function(){if(N)return r;N=true;return r=H.apply(this,arguments)}};G.wrap=function(H,N){return function(){var r=[H].concat(c.call(arguments));return N.apply(this,r)}};G.compose=function(){var H=c.call(arguments);return function(){for(var N=c.call(arguments),r=H.length-1;r>=0;r--)N=[H[r].apply(this,N)];return N[0]}};G.keys=F||function(H){if(H!==Object(H))throw new TypeError("Invalid object");
var N=[],r;for(r in H)if(w.call(H,r))N[N.length]=r;return N};G.values=function(H){return G.map(H,G.identity)};G.functions=G.methods=function(H){return G.filter(G.keys(H),function(N){return G.isFunction(H[N])}).sort()};G.extend=function(H){U(c.call(arguments,1),function(N){for(var r in N)H[r]=N[r]});return H};G.defaults=function(H){U(c.call(arguments,1),function(N){for(var r in N)if(H[r]==null)H[r]=N[r]});return H};G.clone=function(H){return G.isArray(H)?H.slice():G.extend({},H)};G.tap=function(H,
N){N(H);return H};G.isEqual=function(H,N){if(H===N)return true;var r=typeof H;if(r!=typeof N)return false;if(H==N)return true;if(!H&&N||H&&!N)return false;if(H._chain)H=H._wrapped;if(N._chain)N=N._wrapped;if(H.isEqual)return H.isEqual(N);if(G.isDate(H)&&G.isDate(N))return H.getTime()===N.getTime();if(G.isNaN(H)&&G.isNaN(N))return false;if(G.isRegExp(H)&&G.isRegExp(N))return H.source===N.source&&H.global===N.global&&H.ignoreCase===N.ignoreCase&&H.multiline===N.multiline;if(r!=="object")return false;
if(H.length&&H.length!==N.length)return false;r=G.keys(H);var Y=G.keys(N);if(r.length!=Y.length)return false;for(var R in H)if(!(R in N)||!G.isEqual(H[R],N[R]))return false;return true};G.isEmpty=function(H){if(G.isArray(H)||G.isString(H))return H.length===0;for(var N in H)if(w.call(H,N))return false;return true};G.isElement=function(H){return!!(H&&H.nodeType==1)};G.isArray=q||function(H){return o.call(H)==="[object Array]"};G.isArguments=function(H){return!!(H&&w.call(H,"callee"))};G.isFunction=
function(H){return!!(H&&H.constructor&&H.call&&H.apply)};G.isString=function(H){return!!(H===""||H&&H.charCodeAt&&H.substr)};G.isNumber=function(H){return!!(H===0||H&&H.toExponential&&H.toFixed)};G.isNaN=function(H){return H!==H};G.isBoolean=function(H){return H===true||H===false};G.isDate=function(H){return!!(H&&H.getTimezoneOffset&&H.setUTCFullYear)};G.isRegExp=function(H){return!!(H&&H.test&&H.exec&&(H.ignoreCase||H.ignoreCase===false))};G.isNull=function(H){return H===null};G.isUndefined=function(H){return H===
void 0};G.noConflict=function(){a._=g;return this};G.identity=function(H){return H};G.times=function(H,N,r){for(var Y=0;Y<H;Y++)N.call(r,Y)};G.mixin=function(H){U(G.functions(H),function(N){T(N,G[N]=H[N])})};var ha=0;G.uniqueId=function(H){var N=ha++;return H?H+N:N};G.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};G.template=function(H,N){var r=G.templateSettings;r="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+H.replace(/\\/g,
"\\\\").replace(/'/g,"\\'").replace(r.interpolate,function(Y,R){return"',"+R.replace(/\\'/g,"'")+",'"}).replace(r.evaluate||null,function(Y,R){return"');"+R.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";r=new Function("obj",r);return N?r(N):r};var S=function(H){this._wrapped=H};G.prototype=S.prototype;var ba=function(H,N){return N?G(H).chain():H},T=function(H,N){S.prototype[H]=function(){var r=
c.call(arguments);e.call(r,this._wrapped);return ba(N.apply(G,r),this._chain)}};G.mixin(G);U(["pop","push","reverse","shift","sort","splice","unshift"],function(H){var N=k[H];S.prototype[H]=function(){N.apply(this._wrapped,arguments);return ba(this._wrapped,this._chain)}});U(["concat","join","slice"],function(H){var N=k[H];S.prototype[H]=function(){return ba(N.apply(this._wrapped,arguments),this._chain)}});S.prototype.chain=function(){this._chain=true;return this};S.prototype.value=function(){return this._wrapped}})();
(function(){var a;a=typeof exports!=="undefined"?exports:this.Backbone={};a.VERSION="0.3.3";var g=this._;if(!g&&typeof require!=="undefined")g=require("underscore")._;var s=this.jQuery||this.Zepto;a.emulateHTTP=false;a.emulateJSON=false;a.Events={bind:function(f,h){this._callbacks||(this._callbacks={});(this._callbacks[f]||(this._callbacks[f]=[])).push(h);return this},unbind:function(f,h){var j;if(f){if(j=this._callbacks)if(h){j=j[f];if(!j)return this;for(var v=0,E=j.length;v<E;v++)if(h===j[v]){j.splice(v,
1);break}}else j[f]=[]}else this._callbacks={};return this},trigger:function(f){var h,j,v,E;if(!(j=this._callbacks))return this;if(h=j[f]){v=0;for(E=h.length;v<E;v++)h[v].apply(this,Array.prototype.slice.call(arguments,1))}if(h=j.all){v=0;for(E=h.length;v<E;v++)h[v].apply(this,arguments)}return this}};a.Model=function(f,h){f||(f={});if(this.defaults)f=g.extend({},this.defaults,f);this.attributes={};this._escapedAttributes={};this.cid=g.uniqueId("c");this.set(f,{silent:true});this._previousAttributes=
g.clone(this.attributes);if(h&&h.collection)this.collection=h.collection;this.initialize(f,h)};g.extend(a.Model.prototype,a.Events,{_previousAttributes:null,_changed:false,initialize:function(){},toJSON:function(){return g.clone(this.attributes)},get:function(f){return this.attributes[f]},escape:function(f){var h;if(h=this._escapedAttributes[f])return h;h=this.attributes[f];return this._escapedAttributes[f]=(h==null?"":h).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,
"&quot;")},set:function(f,h){h||(h={});if(!f)return this;if(f.attributes)f=f.attributes;var j=this.attributes,v=this._escapedAttributes;if(!h.silent&&this.validate&&!this._performValidation(f,h))return false;if("id"in f)this.id=f.id;for(var E in f){var F=f[E];if(!g.isEqual(j[E],F)){j[E]=F;delete v[E];if(!h.silent){this._changed=true;this.trigger("change:"+E,this,F,h)}}}!h.silent&&this._changed&&this.change(h);return this},unset:function(f,h){h||(h={});var j={};j[f]=void 0;if(!h.silent&&this.validate&&
!this._performValidation(j,h))return false;delete this.attributes[f];delete this._escapedAttributes[f];if(!h.silent){this._changed=true;this.trigger("change:"+f,this,void 0,h);this.change(h)}return this},clear:function(f){f||(f={});var h=this.attributes,j={};for(attr in h)j[attr]=void 0;if(!f.silent&&this.validate&&!this._performValidation(j,f))return false;this.attributes={};this._escapedAttributes={};if(!f.silent){this._changed=true;for(attr in h)this.trigger("change:"+attr,this,void 0,f);this.change(f)}return this},
fetch:function(f){f||(f={});var h=this,j=n(f.error,h,f);(this.sync||a.sync)("read",this,function(v){if(!h.set(h.parse(v),f))return false;f.success&&f.success(h,v)},j);return this},save:function(f,h){h||(h={});if(f&&!this.set(f,h))return false;var j=this,v=n(h.error,j,h),E=this.isNew()?"create":"update";(this.sync||a.sync)(E,this,function(F){if(!j.set(j.parse(F),h))return false;h.success&&h.success(j,F)},v);return this},destroy:function(f){f||(f={});var h=this,j=n(f.error,h,f);(this.sync||a.sync)("delete",
this,function(v){h.collection&&h.collection.remove(h);f.success&&f.success(h,v)},j);return this},url:function(){var f=x(this.collection);if(this.isNew())return f;return f+(f.charAt(f.length-1)=="/"?"":"/")+this.id},parse:function(f){return f},clone:function(){return new this.constructor(this)},isNew:function(){return!this.id},change:function(f){this.trigger("change",this,f);this._previousAttributes=g.clone(this.attributes);this._changed=false},hasChanged:function(f){if(f)return this._previousAttributes[f]!=
this.attributes[f];return this._changed},changedAttributes:function(f){f||(f=this.attributes);var h=this._previousAttributes,j=false,v;for(v in f)if(!g.isEqual(h[v],f[v])){j=j||{};j[v]=f[v]}return j},previous:function(f){if(!f||!this._previousAttributes)return null;return this._previousAttributes[f]},previousAttributes:function(){return g.clone(this._previousAttributes)},_performValidation:function(f,h){var j=this.validate(f);if(j){h.error?h.error(this,j):this.trigger("error",this,j,h);return false}return true}});
a.Collection=function(f,h){h||(h={});if(h.comparator){this.comparator=h.comparator;delete h.comparator}this._boundOnModelEvent=g.bind(this._onModelEvent,this);this._reset();f&&this.refresh(f,{silent:true});this.initialize(f,h)};g.extend(a.Collection.prototype,a.Events,{model:a.Model,initialize:function(){},toJSON:function(){return this.map(function(f){return f.toJSON()})},add:function(f,h){if(g.isArray(f))for(var j=0,v=f.length;j<v;j++)this._add(f[j],h);else this._add(f,h);return this},remove:function(f,
h){if(g.isArray(f))for(var j=0,v=f.length;j<v;j++)this._remove(f[j],h);else this._remove(f,h);return this},get:function(f){if(f==null)return null;return this._byId[f.id!=null?f.id:f]},getByCid:function(f){return f&&this._byCid[f.cid||f]},at:function(f){return this.models[f]},sort:function(f){f||(f={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);f.silent||this.trigger("refresh",this,f);return this},pluck:function(f){return g.map(this.models,
function(h){return h.get(f)})},refresh:function(f,h){f||(f=[]);h||(h={});this._reset();this.add(f,{silent:true});h.silent||this.trigger("refresh",this,h);return this},fetch:function(f){f||(f={});var h=this,j=n(f.error,h,f);(this.sync||a.sync)("read",this,function(v){h.refresh(h.parse(v));f.success&&f.success(h,v)},j);return this},create:function(f,h){var j=this;h||(h={});if(f instanceof a.Model)f.collection=j;else f=new this.model(f,{collection:j});return f.save(null,{success:function(v,E){j.add(v);
h.success&&h.success(v,E)},error:h.error})},parse:function(f){return f},chain:function(){return g(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_add:function(f,h){h||(h={});f instanceof a.Model||(f=new this.model(f,{collection:this}));var j=this.getByCid(f);if(j)throw Error(["Can't add the same model to a set twice",j.id]);this._byId[f.id]=f;this._byCid[f.cid]=f;f.collection=this;this.models.splice(this.comparator?this.sortedIndex(f,this.comparator):
this.length,0,f);f.bind("all",this._boundOnModelEvent);this.length++;h.silent||f.trigger("add",f,this,h);return f},_remove:function(f,h){h||(h={});f=this.getByCid(f)||this.get(f);if(!f)return null;delete this._byId[f.id];delete this._byCid[f.cid];delete f.collection;this.models.splice(this.indexOf(f),1);this.length--;h.silent||f.trigger("remove",f,this,h);f.unbind("all",this._boundOnModelEvent);return f},_onModelEvent:function(f,h){if(f==="change:id"){delete this._byId[h.previous("id")];this._byId[h.id]=
h}this.trigger.apply(this,arguments)}});g.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"],function(f){a.Collection.prototype[f]=function(){return g[f].apply(g,[this.models].concat(g.toArray(arguments)))}});a.Controller=function(f){f||(f={});if(f.routes)this.routes=f.routes;this._bindRoutes();
this.initialize(f)};var k=/:([\w\d]+)/g,q=/\*([\w\d]+)/g;g.extend(a.Controller.prototype,a.Events,{initialize:function(){},route:function(f,h,j){a.history||(a.history=new a.History);g.isRegExp(f)||(f=this._routeToRegExp(f));a.history.route(f,g.bind(function(v){v=this._extractParameters(f,v);j.apply(this,v);this.trigger.apply(this,["route:"+h].concat(v))},this))},saveLocation:function(f){a.history.saveLocation(f)},_bindRoutes:function(){if(this.routes)for(var f in this.routes){var h=this.routes[f];
this.route(f,h,this[h])}},_routeToRegExp:function(f){f=f.replace(k,"([^/]*)").replace(q,"(.*?)");return RegExp("^"+f+"$")},_extractParameters:function(f,h){return f.exec(h).slice(1)}});a.History=function(){this.handlers=[];this.fragment=this.getFragment();g.bindAll(this,"checkUrl")};var c=/^#*/;g.extend(a.History.prototype,{interval:50,getFragment:function(f){return(f||window.location).hash.replace(c,"")},start:function(){var f=document.documentMode;if(f=s.browser.msie&&(!f||f<=7))this.iframe=s('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;
"onhashchange"in window&&!f?s(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);return this.loadUrl()},route:function(f,h){this.handlers.push({route:f,callback:h})},checkUrl:function(){var f=this.getFragment();if(f==this.fragment&&this.iframe)f=this.getFragment(this.iframe.location);if(f==this.fragment||f==decodeURIComponent(this.fragment))return false;if(this.iframe)window.location.hash=this.iframe.location.hash=f;this.loadUrl()},loadUrl:function(){var f=this.fragment=
this.getFragment();return g.any(this.handlers,function(h){if(h.route.test(f)){h.callback(f);return true}})},saveLocation:function(f){f=(f||"").replace(c,"");if(this.fragment!=f){window.location.hash=this.fragment=f;if(this.iframe&&f!=this.getFragment(this.iframe.location)){this.iframe.document.open().close();this.iframe.location.hash=f}}}});a.View=function(f){this._configure(f||{});this._ensureElement();this.delegateEvents();this.initialize(f)};var e=/^(\w+)\s*(.*)$/;g.extend(a.View.prototype,a.Events,
{tagName:"div",$:function(f){return s(f,this.el)},initialize:function(){},render:function(){return this},remove:function(){s(this.el).remove();return this},make:function(f,h,j){f=document.createElement(f);h&&s(f).attr(h);j&&s(f).html(j);return f},delegateEvents:function(f){if(f||(f=this.events)){s(this.el).unbind();for(var h in f){var j=f[h],v=h.match(e),E=v[1];v=v[2];j=g.bind(this[j],this);v===""?s(this.el).bind(E,j):s(this.el).delegate(v,E,j)}}},_configure:function(f){if(this.options)f=g.extend({},
this.options,f);if(f.model)this.model=f.model;if(f.collection)this.collection=f.collection;if(f.el)this.el=f.el;if(f.id)this.id=f.id;if(f.className)this.className=f.className;if(f.tagName)this.tagName=f.tagName;this.options=f},_ensureElement:function(){if(!this.el){var f={};if(this.id)f.id=this.id;if(this.className)f["class"]=this.className;this.el=this.make(this.tagName,f)}}});var o=function(f,h){var j=B(this,f,h);j.extend=o;return j};a.Model.extend=a.Collection.extend=a.Controller.extend=a.View.extend=
o;var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};a.sync=function(f,h,j,v){var E=w[f];f=f==="create"||f==="update"?JSON.stringify(h.toJSON()):null;h={url:x(h),type:E,contentType:"application/json",data:f,dataType:"json",processData:false,success:j,error:v};if(a.emulateJSON){h.contentType="application/x-www-form-urlencoded";h.processData=true;h.data=f?{model:f}:{}}if(a.emulateHTTP)if(E==="PUT"||E==="DELETE"){if(a.emulateJSON)h.data._method=E;h.type="POST";h.beforeSend=function(F){F.setRequestHeader("X-HTTP-Method-Override",
E)}}s.ajax(h)};var A=function(){},B=function(f,h,j){var v;v=h&&h.hasOwnProperty("constructor")?h.constructor:function(){return f.apply(this,arguments)};A.prototype=f.prototype;v.prototype=new A;h&&g.extend(v.prototype,h);j&&g.extend(v,j);v.prototype.constructor=v;v.__super__=f.prototype;return v},x=function(f){if(!(f&&f.url))throw Error("A 'url' property or function must be specified");return g.isFunction(f.url)?f.url():f.url},n=function(f,h,j){return function(v){f?f(h,v):h.trigger("error",h,v,j)}}})();
(function(){var a,g,s,k,q,c=Array.prototype.slice;q=Object.keys||function(e){var o,w,A,B;if(e!==Object(e))throw new TypeError("Invalid object");B=[];w=0;for(A=e.length;w<A;w++){o=e[w];hasOwnProperty.call(e,o)&&B.push(o)}return B};g=window.decodeURIComponent;s=window.encodeURIComponent;a=function(){function e(o){var w,A,B,x;this.hash=o!=null?o:{};if(o=window.location.hash.replace(/^#/,"")){x=o.split("&");o=0;for(B=x.length;o<B;o++){w=x[o];A=w.split("=");w=A[0];A=A[1];this.hash[g(w)]=g(A)}}}e.prototype.extend=
function(o){var w,A;for(w in o){A=o[w];A!==void 0&&this.set(w,A)}return this};e.prototype.get=function(o,w){return this.hash[o]||w};e.prototype.keys=function(){return q(this.hash).sort()};e.prototype.remove=function(){var o,w,A,B;w=1<=arguments.length?c.call(arguments,0):[];A=0;for(B=w.length;A<B;A++){o=w[A];delete this.hash[o]}return this};e.prototype.set=function(){var o;o=1<=arguments.length?c.call(arguments,0):[];switch(o.length){case 1:this.extend(o[0]);break;case 2:this.hash[o[0]]=o[1]}return this};
e.prototype.apply=function(){window.location.hash="#"+this.toString();return this};e.prototype.toString=function(){var o;return function(){var w,A,B,x;B=this.keys();x=[];w=0;for(A=B.length;w<A;w++){o=B[w];x.push(""+s(o)+"="+s(this.hash[o]))}return x}.call(this).join("&")};return e}();k=window.Hash;a.noConflict=function(){if(window.Hash===a)window.Hash=k;return a};a.version="0.1.1";window.Hash=a}).call(this);
(function(a,g){function s(){this._parts=_.toArray(arguments)}String.prototype.score=function(c,e){if(this==c)return 1;if(c=="")return 0;for(var o=0,w=c.length,A=this,B=A.length,x,n=1,f=0,h,j,v,E;f<w;++f){v=c.charAt(f);h=A.indexOf(v.toLowerCase());j=A.indexOf(v.toUpperCase());E=Math.min(h,j);j=E>-1?E:Math.max(h,j);if(j===-1)if(e){n+=1-e;continue}else return 0;else h=0.1;if(A[j]===v)h+=0.1;if(j===0){h+=0.6;if(f===0)x=1}else if(A.charAt(j-1)===" ")h+=0.8;A=A.substring(j+1,B);o+=h}o=o/w;w=(o*(w/B)+o)/
2;w/=n;if(x&&w+0.15<1)w+=0.15;return w};Function.prototype.bind||(Function.prototype.bind=function(c){if(this==null)throw new TypeError("Cannot call method 'bind' of "+this);else if(typeof this!=="function")throw new TypeError("Object "+this+"has no method 'bind'");var e=[].slice,o=e.call(arguments,1),w=this,A=function(){},B=function(){return w.apply(this instanceof A?this:c||{},o.concat(e.call(arguments)))};B.prototype=this.prototype;return B});String.prototype.trim||(String.prototype.trim=function(){return g.trim(this)});
var k=a.BB||(a.BB={});s.prototype.endpoint=function(){var c=new s;c._parts=this._parts.concat(_.toArray(arguments));return c};s.prototype.url=function(){var c=_.toArray(arguments),e=c.length,o,w="",A=a.encodeURIComponent;if(e&&typeof c[e-1]==="object"){o=c.pop();e=_.keys(o);w=_.reduce(e.sort(),function(B,x,n){return B+(n?"&":"?")+A(x)+"="+A(o[x])},"")}return"/"+_.map(this._parts.concat(c),encodeURIComponent).join("/")+"/"+w};k.api=new s("!api","1.0");k.decorators={loginRequired:function(c){return function(){k.user.id!=
null&&c.apply(null,[].slice.apply(arguments))}}};k.delay=function(c,e){if(typeof c==="function"){e=c;c=0}return a.setTimeout(e,c)};k.gaqPush=function(c){return function(){if(c)if(k.debug)console.log(["_gaq.push(",_.map(arguments,function(e){return'  ["'+e.join('", "')+'"]'}).join(",\n"),");"].join("\n"));else{a._gaq||(a._gaq=[]);_gaq.push.apply(_gaq,_.toArray(arguments))}else{c=true;k.gaqPush(["_setAccount","UA-2456069-3"],["atl._setAccount","UA-6032469-33"]);k.gaqPush.apply(null,arguments)}}}();
k.log=function(){k.debug&&console.log.apply(console,_.toArray(arguments))};k.utils={prettySize:function(c){var e=" gb",o=+c/1073741824;if(o<1){o=+c/1048576;e=" mb";if(o<1){o=+c/1024;e=" kb";if(o<1){o=+c;e=" bytes"}}}return parseInt(o)+e},appendSlash:function(c){var e=c.length;return e&&c.charAt(e-1)==="/"?c:c+"/"},decorate:function(c){var e=_.toArray(arguments).slice(1),o=e.pop();return function(){c.apply(null,e);o.apply(null,_.toArray(arguments))}},addMentionAutocomplete:function(c){var e={},o=function(w){return(w=
/@(\w{3,})\s*$/.exec(w))?w[1]:""};c.bind("keydown",function(w){w.keyCode===g.ui.keyCode.TAB&&g(this).data("autocomplete").menu.active&&w.preventDefault()}).autocomplete({source:function(w,A){var B=this,x=o(w.term),n=e[x];if(n!==void 0)A(n);else B.xhr=g.ajax({url:"/xhr/users/",data:{term:o(w.term)},dataType:"json",success:function(f,h,j){e[x]=f;j===B.xhr&&A(f);B.xhr=null},error:function(f){f===B.xhr&&A([]);B.xhr=null}})},search:function(){if(!o(this.value)){g(this).autocomplete("close");return false}},
focus:function(){return false},select:function(w,A){this.value=this.value.replace(/@\w{3,}\s*$/,"@"+A.item.value);return false},extractLast:o})},guard:function(c,e){g(function(o){o=o(c);o.length==1&&typeof e=="function"&&e(o)})},join:function(){return _.toArray(arguments).join("")},enableFollowingLinks:function(c){c.preventDefault();c=g(this);var e=c.closest(".info-button"),o=c.closest(".followers");if(!(e.hasClass("info-button-requesting")||e.hasClass("info-button-readonly"))){e.addClass("info-button-requesting");
g.ajax({url:c.attr("href"),dataType:"json",complete:function(){e.removeClass("info-button-requesting")},success:function(w){o.removeClass("followers-following followers-not-following").addClass(w.following?"followers-following":"followers-not-following")}})}},placeholder:function(c){c=g(c||document.body);var e;if(!("placeholder"in document.createElement("input"))){e=c.find("input[placeholder]").focus(function(){var o=g(this);o.val()===o.attr("placeholder")&&o.removeClass("placeholder").val("")}).blur(function(){var o=
g(this);o.val()===""&&o.addClass("placeholder").val(o.attr("placeholder"))}).trigger("blur");e.closest("form").submit(function(){e.trigger("focus")});g(a).unload(function(){e.trigger("focus")});return c}},PUT:function(c){g.ajax(g.extend({type:"PUT",contentType:"text/plain",data:{}},c))},template:function(){return _.template(_.toArray(arguments).join(""))},linkifyTweet:function(c){c=linkify(c);return c=c.replace(/(^|\s+)(@[a-zA-Z0-9]+|#\S+)(?=\s+|$)/mg,function(e,o,w){w='<a href="'+(w[0]=="@"?"https://twitter.com/"+
escape(w.slice(1)):"https://twitter.com/search/"+escape(w))+'">'+w+"</a>";return o+w})}};a.__=k.utils.escape=function(c){return c.replace(/[&<>"'`]/g,function(e){return"&#"+e.charCodeAt(0)+";"})};k.views={WarningMessage:Backbone.View.extend({tagName:"div",className:"warning message",template:_.template("<p><%= message %></p>"),displayed:false,render:function(c){g(this.el).html(this.template({message:c.html||"<strong>"+__(c)+"</strong>"}));if(!this.displayed){this.options.insert(this.el);this.displayed=
true}},remove:function(c){var e=g(this.el).animate({opacity:0},function(){e.slideUp(function(){e.remove().css({opacity:1}).show();typeof c=="function"&&c()})});this.displayed=false}})};var q=[];g(document).keydown(function(c){q.push(c.keyCode);if(q.toString().indexOf("38,38,40,40,37,39,37,39,66,65")>-1){g.getScript("http://www.cornify.com/js/cornify.js",function(){cornify_add();g(document).keydown(cornify_add)});g(this).unbind("keydown",arguments.callee)}})})(this,jQuery);
(function(a){function g(s,k){return parseInt(a.curCSS(s.jquery?s[0]:s,k,true))||0}a.dimensions={version:"@VERSION"};a.each(["Height","Width"],function(s,k){a.fn["inner"+k]=function(){if(this[0]){var q=k=="Height"?"Top":"Left",c=k=="Height"?"Bottom":"Right";return this.css("display")!="none"?this[0]["client"+k]:g(this,k.toLowerCase())+g(this,"padding"+q)+g(this,"padding"+c)}};a.fn["outer"+k]=function(q){if(this[0]){var c=k=="Height"?"Top":"Left",e=k=="Height"?"Bottom":"Right";q=a.extend({margin:false},
q||{});return(this.css("display")!="none"?this[0]["offset"+k]:g(this,k.toLowerCase())+g(this,"border"+c+"Width")+g(this,"border"+e+"Width")+g(this,"padding"+c)+g(this,"padding"+e))+(q.margin?g(this,"margin"+c)+g(this,"margin"+e):0)}}});a.each(["Left","Top"],function(s,k){a.fn["scroll"+k]=function(q){if(this[0])return q!=undefined?this.each(function(){this==window||this==document?window.scrollTo(k=="Left"?q:a(window).scrollLeft(),k=="Top"?q:a(window).scrollTop()):this["scroll"+k]=q}):this[0]==window||
this[0]==document?self[k=="Left"?"pageXOffset":"pageYOffset"]||a.boxModel&&document.documentElement["scroll"+k]||document.body["scroll"+k]:this[0]["scroll"+k]}});a.fn.extend({position:function(){var s=this[0],k,q,c;if(s){c=this.offsetParent();k=this.offset();q=c.offset();k.top-=g(s,"marginTop");k.left-=g(s,"marginLeft");q.top+=g(c,"borderTopWidth");q.left+=g(c,"borderLeftWidth");k={top:k.top-q.top,left:k.left-q.left}}return k},offsetParent:function(){for(var s=this[0].offsetParent;s&&!/^body|html$/i.test(s.tagName)&&
a.css(s,"position")=="static";)s=s.offsetParent;return a(s)}})})(jQuery);
(function(a){function g(s){return s&&s.constructor===Number?s+"px":s}a.fn.bgiframe=a.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(s){s=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},s);var k='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+s.src+'"style="display:block;position:absolute;z-index:-1;'+(s.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(s.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":
g(s.top))+";left:"+(s.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":g(s.left))+";width:"+(s.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":g(s.width))+";height:"+(s.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":g(s.height))+';"/>';return this.each(function(){a(this).children("iframe.bgiframe").length===0&&this.insertBefore(document.createElement(k),this.firstChild)})}:function(){return this};a.fn.bgIframe=a.fn.bgiframe})(jQuery);
(function(a){var g=BB.utils.escape,s={append:function(k){a(k).hide().appendTo(this).fadeIn("slow");return this},appendTo:function(k){return this.hide().appendTo(k).fadeIn("slow")},conceal:function(){this.removeClass("revealed").find(".children").slideUp();return this},insert:function(k,q){var c=k.first_name,e=k.last_name,o=k.username,w=k.text,A=w?"<li><span>"+g(w)+'</span> <a href="#delete">Delete</a></li>':"",B=!this.hasClass("children"),x=this.children(B?"li[data-username]":"").first();if(B){w=
g(c&&e?c+" "+e:c||e||o);o=g(o);A=['<li data-username="',o,'"',q?' class="revealed"':"","><b>",w,"</b>",w===o?"":" ("+o+")",' <a href="#delete">Delete</a>',A?'<ol class="children">'+A+"</ol>":"","</li>"].join("")}for(;x.length;){if(w<jQuery.trim(x.text()))break;x=x.next()}return x.length?a(A).hide().insertBefore(x).fadeIn("slow"):this.bb("append",A)},remove:function(){function k(q){q.slideUp(function(){q.remove()})}return function(){this.find(".loading").addClass("removed").removeClass("loading");
if(this.attr("data-username"))return k(this);var q=this;this.slideUp(function(){q.parent().children().length==1?k(q.closest("li[data-username]")):q.remove()})}}(),reveal:function(){this.addClass("revealed").removeClass("loading").find(".children").slideDown();return this},select:function(){this.siblings().removeClass("selected");return this.addClass("selected")},toggle:function(){return this.bb(this.hasClass("revealed")?"conceal":"reveal")}};jQuery.fn.bb=function(k){var q=s[k];if(q)return q.apply(this,
_.toArray(arguments).slice(1))}})(jQuery);
jQuery.cookie=function(a,g,s){if(typeof g!="undefined"){s=s||{};if(g===null){g="";s.expires=-1}var k="";if(s.expires&&(typeof s.expires=="number"||s.expires.toUTCString)){if(typeof s.expires=="number"){k=new Date;k.setTime(k.getTime()+s.expires*24*60*60*1E3)}else k=s.expires;k="; expires="+k.toUTCString()}var q=s.path?"; path="+s.path:"",c=s.domain?"; domain="+s.domain:"";s=s.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(g),k,q,c,s].join("")}else{g=null;if(document.cookie&&document.cookie!=
""){s=document.cookie.split(";");for(k=0;k<s.length;k++){q=jQuery.trim(s[k]);if(q.substring(0,a.length+1)==a+"="){g=decodeURIComponent(q.substring(a.length+1));break}}}return g}};
jQuery.effects||function(a,g){function s(x){var n;if(x&&x.constructor==Array&&x.length==3)return x;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(x))return[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)];if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(x))return[parseFloat(n[1])*2.55,parseFloat(n[2])*2.55,parseFloat(n[3])*2.55];if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(x))return[parseInt(n[1],
16),parseInt(n[2],16),parseInt(n[3],16)];if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(x))return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(x))return w.transparent;return w[a.trim(x).toLowerCase()]}function k(){var x=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,n={},f,h;if(x&&x.length&&x[0]&&x[x[0]])for(var j=x.length;j--;){f=x[j];if(typeof x[f]=="string"){h=f.replace(/\-(\w)/g,function(v,E){return E.toUpperCase()});
n[h]=x[f]}}else for(f in x)if(typeof x[f]==="string")n[f]=x[f];return n}function q(x){var n,f;for(n in x){f=x[n];if(f==null||a.isFunction(f)||n in B||/scrollbar/.test(n)||!/color/i.test(n)&&isNaN(parseFloat(f)))delete x[n]}return x}function c(x,n){var f={_:0},h;for(h in n)if(x[h]!=n[h])f[h]=n[h];return f}function e(x,n,f,h){if(typeof x=="object"){h=n;f=null;n=x;x=n.effect}if(a.isFunction(n)){h=n;f=null;n={}}if(typeof n=="number"||a.fx.speeds[n]){h=f;f=n;n={}}if(a.isFunction(f)){h=f;f=null}n=n||{};
f=f||n.duration;f=a.fx.off?0:typeof f=="number"?f:f in a.fx.speeds?a.fx.speeds[f]:a.fx.speeds._default;h=h||n.complete;return[x,n,f,h]}function o(x){if(!x||typeof x==="number"||a.fx.speeds[x])return true;if(typeof x==="string"&&!a.effects[x])return true;return false}a.effects={};a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(x,n){a.fx.step[n]=function(f){if(!f.colorInit){var h;h=f.elem;var j=n,v;do{v=
a.curCSS(h,j);if(v!=""&&v!="transparent"||a.nodeName(h,"body"))break;j="backgroundColor"}while(h=h.parentNode);h=s(v);f.start=h;f.end=s(f.end);f.colorInit=true}f.elem.style[n]="rgb("+Math.max(Math.min(parseInt(f.pos*(f.end[0]-f.start[0])+f.start[0],10),255),0)+","+Math.max(Math.min(parseInt(f.pos*(f.end[1]-f.start[1])+f.start[1],10),255),0)+","+Math.max(Math.min(parseInt(f.pos*(f.end[2]-f.start[2])+f.start[2],10),255),0)+")"}});var w={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,
0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,
211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},A=["add","remove","toggle"],B={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(x,n,f,
h){if(a.isFunction(f)){h=f;f=null}return this.queue("fx",function(){var j=a(this),v=j.attr("style")||" ",E=q(k.call(this)),F,K=j.attr("className");a.each(A,function(G,U){x[U]&&j[U+"Class"](x[U])});F=q(k.call(this));j.attr("className",K);j.animate(c(E,F),n,f,function(){a.each(A,function(G,U){x[U]&&j[U+"Class"](x[U])});if(typeof j.attr("style")=="object"){j.attr("style").cssText="";j.attr("style").cssText=v}else j.attr("style",v);h&&h.apply(this,arguments)});E=a.queue(this);F=E.splice(E.length-1,1)[0];
E.splice(1,0,F);a.dequeue(this)})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(x,n,f,h){return n?a.effects.animateClass.apply(this,[{add:x},n,f,h]):this._addClass(x)},_removeClass:a.fn.removeClass,removeClass:function(x,n,f,h){return n?a.effects.animateClass.apply(this,[{remove:x},n,f,h]):this._removeClass(x)},_toggleClass:a.fn.toggleClass,toggleClass:function(x,n,f,h,j){return typeof n=="boolean"||n===g?f?a.effects.animateClass.apply(this,[n?{add:x}:{remove:x},f,h,j]):this._toggleClass(x,
n):a.effects.animateClass.apply(this,[{toggle:x},n,f,h])},switchClass:function(x,n,f,h,j){return a.effects.animateClass.apply(this,[{add:n,remove:x},f,h,j])}});a.extend(a.effects,{version:"1.8.9",save:function(x,n){for(var f=0;f<n.length;f++)n[f]!==null&&x.data("ec.storage."+n[f],x[0].style[n[f]])},restore:function(x,n){for(var f=0;f<n.length;f++)n[f]!==null&&x.css(n[f],x.data("ec.storage."+n[f]))},setMode:function(x,n){if(n=="toggle")n=x.is(":hidden")?"show":"hide";return n},getBaseline:function(x,
n){var f,h;switch(x[0]){case "top":f=0;break;case "middle":f=0.5;break;case "bottom":f=1;break;default:f=x[0]/n.height}switch(x[1]){case "left":h=0;break;case "center":h=0.5;break;case "right":h=1;break;default:h=x[1]/n.width}return{x:h,y:f}},createWrapper:function(x){if(x.parent().is(".ui-effects-wrapper"))return x.parent();var n={width:x.outerWidth(true),height:x.outerHeight(true),"float":x.css("float")},f=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",
border:"none",margin:0,padding:0});x.wrap(f);f=x.parent();if(x.css("position")=="static"){f.css({position:"relative"});x.css({position:"relative"})}else{a.extend(n,{position:x.css("position"),zIndex:x.css("z-index")});a.each(["top","left","bottom","right"],function(h,j){n[j]=x.css(j);if(isNaN(parseInt(n[j],10)))n[j]="auto"});x.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return f.css(n).show()},removeWrapper:function(x){if(x.parent().is(".ui-effects-wrapper"))return x.parent().replaceWith(x);
return x},setTransition:function(x,n,f,h){h=h||{};a.each(n,function(j,v){unit=x.cssUnit(v);if(unit[0]>0)h[v]=unit[0]*f+unit[1]});return h}});a.fn.extend({effect:function(x){var n=e.apply(this,arguments),f={options:n[1],duration:n[2],callback:n[3]};n=f.options.mode;var h=a.effects[x];if(a.fx.off||!h)return n?this[n](f.duration,f.callback):this.each(function(){f.callback&&f.callback.call(this)});return h.call(this,f)},_show:a.fn.show,show:function(x){if(o(x))return this._show.apply(this,arguments);
else{var n=e.apply(this,arguments);n[1].mode="show";return this.effect.apply(this,n)}},_hide:a.fn.hide,hide:function(x){if(o(x))return this._hide.apply(this,arguments);else{var n=e.apply(this,arguments);n[1].mode="hide";return this.effect.apply(this,n)}},__toggle:a.fn.toggle,toggle:function(x){if(o(x)||typeof x==="boolean"||a.isFunction(x))return this.__toggle.apply(this,arguments);else{var n=e.apply(this,arguments);n[1].mode="toggle";return this.effect.apply(this,n)}},cssUnit:function(x){var n=this.css(x),
f=[];a.each(["em","px","%","pt"],function(h,j){if(n.indexOf(j)>0)f=[parseFloat(n),j]});return f}});a.easing.jswing=a.easing.swing;a.extend(a.easing,{def:"easeOutQuad",swing:function(x,n,f,h,j){return a.easing[a.easing.def](x,n,f,h,j)},easeInQuad:function(x,n,f,h,j){return h*(n/=j)*n+f},easeOutQuad:function(x,n,f,h,j){return-h*(n/=j)*(n-2)+f},easeInOutQuad:function(x,n,f,h,j){if((n/=j/2)<1)return h/2*n*n+f;return-h/2*(--n*(n-2)-1)+f},easeInCubic:function(x,n,f,h,j){return h*(n/=j)*n*n+f},easeOutCubic:function(x,
n,f,h,j){return h*((n=n/j-1)*n*n+1)+f},easeInOutCubic:function(x,n,f,h,j){if((n/=j/2)<1)return h/2*n*n*n+f;return h/2*((n-=2)*n*n+2)+f},easeInQuart:function(x,n,f,h,j){return h*(n/=j)*n*n*n+f},easeOutQuart:function(x,n,f,h,j){return-h*((n=n/j-1)*n*n*n-1)+f},easeInOutQuart:function(x,n,f,h,j){if((n/=j/2)<1)return h/2*n*n*n*n+f;return-h/2*((n-=2)*n*n*n-2)+f},easeInQuint:function(x,n,f,h,j){return h*(n/=j)*n*n*n*n+f},easeOutQuint:function(x,n,f,h,j){return h*((n=n/j-1)*n*n*n*n+1)+f},easeInOutQuint:function(x,
n,f,h,j){if((n/=j/2)<1)return h/2*n*n*n*n*n+f;return h/2*((n-=2)*n*n*n*n+2)+f},easeInSine:function(x,n,f,h,j){return-h*Math.cos(n/j*(Math.PI/2))+h+f},easeOutSine:function(x,n,f,h,j){return h*Math.sin(n/j*(Math.PI/2))+f},easeInOutSine:function(x,n,f,h,j){return-h/2*(Math.cos(Math.PI*n/j)-1)+f},easeInExpo:function(x,n,f,h,j){return n==0?f:h*Math.pow(2,10*(n/j-1))+f},easeOutExpo:function(x,n,f,h,j){return n==j?f+h:h*(-Math.pow(2,-10*n/j)+1)+f},easeInOutExpo:function(x,n,f,h,j){if(n==0)return f;if(n==
j)return f+h;if((n/=j/2)<1)return h/2*Math.pow(2,10*(n-1))+f;return h/2*(-Math.pow(2,-10*--n)+2)+f},easeInCirc:function(x,n,f,h,j){return-h*(Math.sqrt(1-(n/=j)*n)-1)+f},easeOutCirc:function(x,n,f,h,j){return h*Math.sqrt(1-(n=n/j-1)*n)+f},easeInOutCirc:function(x,n,f,h,j){if((n/=j/2)<1)return-h/2*(Math.sqrt(1-n*n)-1)+f;return h/2*(Math.sqrt(1-(n-=2)*n)+1)+f},easeInElastic:function(x,n,f,h,j){x=1.70158;var v=0,E=h;if(n==0)return f;if((n/=j)==1)return f+h;v||(v=j*0.3);if(E<Math.abs(h)){E=h;x=v/4}else x=
v/(2*Math.PI)*Math.asin(h/E);return-(E*Math.pow(2,10*(n-=1))*Math.sin((n*j-x)*2*Math.PI/v))+f},easeOutElastic:function(x,n,f,h,j){x=1.70158;var v=0,E=h;if(n==0)return f;if((n/=j)==1)return f+h;v||(v=j*0.3);if(E<Math.abs(h)){E=h;x=v/4}else x=v/(2*Math.PI)*Math.asin(h/E);return E*Math.pow(2,-10*n)*Math.sin((n*j-x)*2*Math.PI/v)+h+f},easeInOutElastic:function(x,n,f,h,j){x=1.70158;var v=0,E=h;if(n==0)return f;if((n/=j/2)==2)return f+h;v||(v=j*0.3*1.5);if(E<Math.abs(h)){E=h;x=v/4}else x=v/(2*Math.PI)*Math.asin(h/
E);if(n<1)return-0.5*E*Math.pow(2,10*(n-=1))*Math.sin((n*j-x)*2*Math.PI/v)+f;return E*Math.pow(2,-10*(n-=1))*Math.sin((n*j-x)*2*Math.PI/v)*0.5+h+f},easeInBack:function(x,n,f,h,j,v){if(v==g)v=1.70158;return h*(n/=j)*n*((v+1)*n-v)+f},easeOutBack:function(x,n,f,h,j,v){if(v==g)v=1.70158;return h*((n=n/j-1)*n*((v+1)*n+v)+1)+f},easeInOutBack:function(x,n,f,h,j,v){if(v==g)v=1.70158;if((n/=j/2)<1)return h/2*n*n*(((v*=1.525)+1)*n-v)+f;return h/2*((n-=2)*n*(((v*=1.525)+1)*n+v)+2)+f},easeInBounce:function(x,
n,f,h,j){return h-a.easing.easeOutBounce(x,j-n,0,h,j)+f},easeOutBounce:function(x,n,f,h,j){return(n/=j)<1/2.75?h*7.5625*n*n+f:n<2/2.75?h*(7.5625*(n-=1.5/2.75)*n+0.75)+f:n<2.5/2.75?h*(7.5625*(n-=2.25/2.75)*n+0.9375)+f:h*(7.5625*(n-=2.625/2.75)*n+0.984375)+f},easeInOutBounce:function(x,n,f,h,j){if(n<j/2)return a.easing.easeInBounce(x,n*2,0,h,j)*0.5+f;return a.easing.easeOutBounce(x,n*2-j,0,h,j)*0.5+h*0.5+f}})}(jQuery);
(function(a){a.effects.highlight=function(g){return this.queue(function(){var s=a(this),k=["backgroundImage","backgroundColor","opacity"],q=a.effects.setMode(s,g.options.mode||"show"),c={backgroundColor:s.css("backgroundColor")};if(q=="hide")c.opacity=0;a.effects.save(s,k);s.show().css({backgroundImage:"none",backgroundColor:g.options.color||"#ffff99"}).animate(c,{queue:false,duration:g.duration,easing:g.options.easing,complete:function(){q=="hide"&&s.hide();a.effects.restore(s,k);q=="show"&&!a.support.opacity&&
this.style.removeAttribute("filter");g.callback&&g.callback.apply(this,arguments);s.dequeue()}})})}})(jQuery);
(function(a){function g(c){function e(j,v){var E="",F="",K;a.each((v.replace("~","~T").replace("%%","~P")+"%").split(""),function(G,U){if(E)if(U===K||E==="%")E+=U;else{E=E.substr(1);F+=w.hasOwnProperty(E)?h.escaped?a("<b>").text(w[E](j)).html():w[E](j):E}if(!/%/.test(E))if(/%/.test(v))if(U==="%")E="%";else{E="";F+=U}else E="%"+U;K=U});return F.replace("~P","%").replace("~T","~")}function o(j,v){return(j+1E3+"").substr(4-(v||2))}var w={yy:function(j){return o(w.yyyy(j)%100)},yyyy:function(j){return j.getFullYear()},
m:function(j){return j.getMonth()+1},mm:function(j){return o(w.m(j))},mmm:function(j){return h.abbrMonths[w.m(j)-1]},mmmm:function(j){return h.fullMonths[w.m(j)-1]},d:function(j){return j.getDate()},dd:function(j){return o(w.d(j))},ddd:function(j){return h.abbrDays[j.getDay()]},dddd:function(j){return h.fullDays[j.getDay()]},o:function(j){return h.ordinals(w.d(j))},h:function(j){return w.H(j)%12||12},hh:function(j){return o(w.h(j))},H:function(j){return j.getHours()},HH:function(j){return o(w.H(j))},
M:function(j){return j.getMinutes()},MM:function(j){return o(w.M(j))},s:function(j){return j.getSeconds()},ss:function(j){return o(w.s(j))},S:function(j){return w.s(j)+"."+o(j%1E3,3)},SS:function(j){return w.ss(j)+"."+o(j%1E3,3)},a:function(j){return h.periods[+(w.H(j)>11)]},Z:function(j){j=-j.getTimezoneOffset();var v=Math.abs(j);return(j<0?"-":"+")+o(v/60>>0)+":"+o(v%60)}},A=arguments,B,x,n,f=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(?:[.](\d+))?)?(?:([-+]\d\d):(\d\d)|Z)$/,h=k({},s);if(c)if(typeof c===
"object")k(h,c);else h.format=c;x=h.format;B=typeof x==="function";n=h.escaped?"html":"text";return this.each(function(){var j=a(this),v,E,F;if(/^time$/i.test(this.nodeName))E=f.exec(j.attr("datetime")||e(new Date,"yyyy-mm-ddTHH:MM:ssZ"));if(E){F=E[7]||"000";v=4-F.length;if(v>1)F+=Array(v).join(0);else F=F.substr(0,3);v=new Date(Date.UTC(+E[1],E[2]-1,+E[3],+E[4],+E[5],+E[6]||0,+F));F=+E[8];var K=E[9];if(K)v.setHours(w.H(v)-F,w.M(v)+(F>0?-K:+K));j.attr("datetime",e(v,"yyyy-mm-ddTHH:MM"+(E[7]?":SS":
E[6]?":ss":"")+"Z"))[n](B?x.apply(j,[v].concat(q.call(A,1))):e(v,x))}})}var s={abbrDays:"Sun0Mon0Tues0Wed0Thurs0Fri0Sat".split(0),abbrMonths:"Jan0Feb0Mar0Apr0May0Jun0Jul0Aug0Sep0Oct0Nov0Dec".split(0),format:"d mmmm yyyy",fullDays:"Sunday0Monday0Tuesday0Wednesday0Thursday0Friday0Saturday".split(0),fullMonths:"January0February0March0April0May0June0July0August0September0October0November0December".split(0),ordinals:function(c){if(c<11||c>13)switch(c%10){case 1:return c+"st";case 2:return c+"nd";case 3:return c+
"rd"}return c+"th"},periods:["AM","PM"]},k=a.extend,q=[].slice;a.fn.localize=function(c){if(this instanceof a)return g.apply(this,arguments);if(typeof c==="object")k(s,c);else s.format=c};a.fn.localize.version="0.6"})(jQuery);
(function(a){function g(w){return function(){location.href=w}}function s(w){if(w.bootstrap)for(var A=0;A<w.menu.length;A++){var B=w.menu[A];q.addDockMenuItem(B.text,g(B.href))}A=parseInt(w.unread);if(A>0)q.dockBadge=A;for(A=0;A<w.events.length;A++){B=w.events[A];var x=false;if(B.icon)x="http://bitbucket.org"+B.icon;q.showGrowlNotification({title:B.title,description:B.text,icon:x,priority:1,sticky:false,identifier:"bitbucket"+parseInt(A)})}}function k(w,A){a.getJSON(A||e,s);return true}var q=window.fluid,
c,e="/xhr/account/?c=?";if(q){var o={stop:function(){if(c){window.clearInterval(c);c=null}},running:false};c=window.setInterval(function(){try{o.running=false;k(o)||o.stop()}finally{o.running=false}},6E4);k(null,e+"&b=1")}})(jQuery);
(function(a){function g(e,o){this.name={now:e,then:o};this.lines=[]}function s(e){this.number={};var o=this;_.each(e,function(w,A){o[A]=w})}function k(e,o){if(o.indexOf(e)>-1)o=o.substr(e.length,o.length);return o.replace(/^[ab]\//,"")}function q(e){var o=e.html().replace(/\r?\n$/,""),w,A,B=[],x=e.hasClass("conflicts"),n;_.each(o.split("\n"),function(f,h,j){switch(f.charAt(0)){case "-":if(/^--- /.test(f)){A&&B.push(A);A=new g(k("+++ ",j[h+1]),k("--- ",f))}else A.append(new s({text:f.replace(/^\-/,
""),type:"del",file:A,number:{then:++w[0]}}));break;case "@":if(/^@@ /.test(f)){A.append(new s({text:f,type:"context",file:A}));f=f.match(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@(.*)/);w=[--f[1],+f[2]+f[1],--f[3],+f[4]+f[3]]}break;case "+":if(!/^\+\+\+ /.test(f)){h="ins";if(x)if(f.match(/^\+(?:&lt;){7} /)){n="conflict-a";h="marker"}else if(f.match(/^\+(?:\|\|\|\|\|\|\||=======)/)){n="conflict-b";h="marker"}else if(f.match(/^\+(?:&gt;){7} /)){n=null;h="marker"}if(n&&h!="marker")h=n;A.append(new s({text:f.replace(/^\+/,
""),type:h,file:A,number:{now:++w[2]}}))}break;default:A&&A.append(new s({text:f.replace(/^ /,""),type:n,file:A,number:{now:++w[2],then:++w[0]}}))}});B.push(A);return B}var c;g.prototype.append=function(e){this.lines.push(e);return this};c=s.prototype;c.charAt=function(){return String.prototype.charAt.apply(this.text,_.toArray(arguments))};c.diff=function(e){for(var o=this.text.length,w=e.text.length,A=Math.min(o,w),B=0,x=-1;B<A&&this.charAt(B)===e.charAt(B);++B);for(;-x<=A-B&&this.charAt(o+x)===
e.charAt(w+x);--x);this.render(B,x+1);e.render(B,x+1)};c.$number=function(e,o){var w=a("<td>").addClass("number"),A=this.number[e];A&&w.text(A);typeof o==="function"&&o.call(w,this,e);return w};c.render=function(e,o){var w=o+this.text.length;this.$el.html([this.substr(0,e),"<",this.type,">",this.substr(e,w-e),"</",this.type,">",this.substr(w)].join(""));return this};c.substr=function(){return String.prototype.substr.apply(this.text,_.toArray(arguments))};a.fn.udiff=function(e){var o=this,w=function(){var A=
window.setTimeout,B=o.first();if(B.length){o=o.not(B);_.each(q(B),function(x){var n={},f=a("<table>");if(x){_.each(x.lines,function(h,j,v){var E=a("<td>").addClass("code").html(h.text);a("<tr>").addClass(h.type).append(h.$number("now",e)).append(h.$number("then",e)).append(E).appendTo(f);h.$el=E;E=v[j-2];var F=v[j-1];j=v[j+1];if(typeof F!=="undefined"&&F.type=="del"&&h.type=="ins"&&(typeof E==="undefined"||E.type!="ins"&&E.type!="del")&&(typeof j==="undefined"||j.type!="ins"&&j.type!="del"))F.diff(h)});
if(x=B.attr("class"))n["class"]=x;if(x=B.attr("id"))n.id=x;B.replaceWith(f.attr(n))}});A(w,0)}};if(e==="version")return"0.2.3mod";w();return this}})(jQuery);
window.linkify=function(){var a=RegExp("(?:\\b[a-z\\d.-]+://[^<>\\s]+|\\b(?:(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\\\|;:'\",.<>/?]+)\\.)+(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw)|(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]))(?:[;/][^#?<>\\s]*)?(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?(?!\\w)|(?:mailto:)?[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\\\|;:'\",.<>/?]+)\\.)+(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw)|(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]))(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?(?!\\w))","ig"),
g=/^[a-z\d.-]+:\/\//i,s={"'":"`",">":"<",")":"(","]":"[","}":"{","\u00bb":"\u00ab","\u203a":"\u2039"},k={callback:function(q,c){return c?'<a href="'+c+'" title="'+c+'">'+q+"</a>":q},punct_regexp:/(?:[!?.,:;'"]|(?:&|&amp;)(?:lt|gt|quot|apos|raquo|laquo|rsaquo|lsaquo);)$/};return function(q,c){c=c||{};var e,o,w="",A=[],B,x,n,f,h;for(e in k)if(c[e]===undefined)c[e]=k[e];for(;e=a.exec(q);){e=e[0];x=a.lastIndex;n=x-e.length;if(!/[\/:]/.test(q.charAt(n-1))){do{o=e;h=e.substr(-1);if(f=s[h]){f=e.match(RegExp("\\"+
f+"(?!$)","g"));h=e.match(RegExp("\\"+h,"g"));if((f?f.length:0)<(h?h.length:0)){e=e.substr(0,e.length-1);x--}}if(c.punct_regexp)e=e.replace(c.punct_regexp,function(j){x-=j.length;return""})}while(e.length&&e!==o);o=e;g.test(o)||(o=(o.indexOf("@")!==-1?!o.indexOf("mailto:")?"":"mailto:":!o.indexOf("irc.")?"irc://":!o.indexOf("ftp.")?"ftp://":"http://")+o);if(B!=n){A.push([q.slice(B,n)]);B=x}A.push([e,o])}}A.push([q.substr(B)]);for(e=0;e<A.length;e++)w+=c.callback.apply(window,A[e]);return w||q}}();
var Filtering={init:function(){$("#addfilter").bind("change",function(){this.selectedIndex>0&&Filtering.create(this.options[this.selectedIndex].value)});if(types)for(t in types)types[t].type=="select"&&types[t].options.length<=0&&$("#addfilter option[value='"+types[t].name+"']").remove();if(currentfilters)for(t in currentfilters)for(var a=0;a<currentfilters[t].length;a++)Filtering.create(t,currentfilters[t][a][0],currentfilters[t][a][1])},generate_select:function(a,g,s){/^responsible\d+$/.test(a)&&
g.unshift({text:"unassigned",value:""});var k=document.createElement("select");k.name=a;for(a=0;a<g.length;a++){if(typeof g[a]=="object"){var q=new Option(g[a].text,g[a].value);if(g[a].value==s)q.selected=true}else{q=new Option(g[a],g[a]);if(g[a]==s)q.selected=true}k.options[k.options.length]=q}return k},generate_remove_button:function(){var a=document.createElement("img");a.src="/m/img/icons/fugue/minus_circle.png";a.alt="Remove filter";a.className="filter-remove";return a},remove:function(){var a=
$(this).parent().parent();if(a.attr("class")==a.next("tr").attr("class")){var g=a.find(".filter-header").text();a.next("tr").find(".filter-header").text(g)}a.remove()},generate_comp_select:function(a,g,s){var k={text:[{text:"contains",value:"~"},{text:"doesn't contain",value:"!~"},{text:"begins with",value:"^"},{text:"ends with",value:"$"},{text:"is",value:""},{text:"is not",value:"!"}],select:[{text:"is",value:""},{text:"is not",value:"!"}]};if(g=="text"||g=="select")return this.generate_select(a,
k[g],s)},create:function(a,g,s){var k=types[a],q=document.getElementById("filters"),c=false,e=1;if($("#filters tr").hasClass("filter_"+a)){c=true;e=$("#filters tr.filter_"+a).length+1}var o=document.createElement("tr");o.className="filter_"+a;var w=document.createElement("td");w.className="filter-header";c?w.appendChild(document.createTextNode("or")):w.appendChild(document.createTextNode(k.header));o.appendChild(w);w=document.createElement("td");w.className="filter-comp";if(k.type=="text"||k.type==
"select")w.appendChild(Filtering.generate_comp_select("comp_"+k.name+e,k.type,g));o.appendChild(w);w=document.createElement("td");if(k.type=="text"){var A=document.createElement("input");A.type="text";A.name=a+e;A.value=s?s:"";A.size=30}else if(k.type=="select")A=this.generate_select(a+e,k.options,s);A&&w.appendChild(A);o.appendChild(w);w=document.createElement("td");g=this.generate_remove_button();w.appendChild(g);o.appendChild(w);$(g).click(Filtering.remove);if(c){$("#filters .filter_"+a+":last").after(o);
$("#filters .filter_"+a+" td").removeClass("last-of-type");$("#filters .filter_"+a+":last td").addClass("last-of-type")}else q.appendChild(o);$("#addfilter").get(0).selectedIndex=0}};function handle_save_defaults(a){var g=a.find("input[type='submit']:first").replaceWith(loader.clone()),s={csfr:token};a.find("input, select").each(function(){s[$(this).attr("name")]=$(this).val()});$.post(url,s,function(){a.find("img:first").replaceWith(g)})}
function handle_add(a,g){var s=a.find("input[name='name']:first"),k=s.val(),q=__(k),c=a.find("input[type='submit']:first").replaceWith(loader.clone());$.post(url,{csfr:token,action:g,name:k},function(e,o){if(o=="success"&&e.indexOf("failed")==-1){var w=e.split(" ")[1],A=g.split("-")[1],B=$("#defaults-form select[name='issue_default_"+A+"']:first"),x=B[0].selectedIndex;B[0].options[B[0].options.length]=new Option(q,w);B[0].selectedIndex=x;B=$("<li />");x=$('<form method="post" action="." class="xhr" />');
x.append('<input type="hidden" name="action" value="'+g.replace("add","delete")+'" />');x.append('<input type="hidden" name="id" value="'+w+'" />');x.append('<input type="image" src="'+BB.MEDIA_URL+'img/icons/fugue/minus_circle.png" title="Delete '+A+" "+q+'" />');B.append(x).append("&raquo; "+q);add_submit_handler(x);a.parent("div").find("ul:first").append(B);B.hide().fadeIn("fast");s.val("").focus()}a.find("img:first").replaceWith(c)})}
function handle_delete(a,g){var s=a.find("input[name='id']:first").attr("value"),k=a.find("input[type='image']:first").replaceWith(loader.clone());$.post(url,{csfr:token,action:g,id:s},function(q,c){if(c=="success"&&q.indexOf("failed")==-1){for(var e=$("#defaults-form select[name='issue_default_"+g.split("-")[1]+"']:first"),o=e.val(),w=e[0].options,A=0;A<w.length;A++)if(w[A].value==s){e[0].remove(A);break}o==s?e.val(""):e.val(o);a.parent().fadeOut("fast",function(){$(this).remove()})}else a.find("img:first").replaceWith(k)})}
function add_submit_handler(a){var g=a.find("input[name='action']:first").attr("value");a.submit(function(){g.indexOf("delete")>-1?handle_delete(a,g):handle_add(a,g);return false})}jQuery(function(a){var g=a(),s=a(),k=a("#associate-openid").delegate('a[href^="#"]',"click",function(q){k.show();g.removeClass("selected");g=a(this).addClass("selected");s.hide();s=a(g.attr("href")).show();q.preventDefault()}).find("#openid_submit")});
$(function(){$("#id_attachments").parent().parent().remove();$("#attachment_link").live("click",function(a){a.preventDefault();a=$(this);a.parent().parent().before('<tr><th><label for="id_attachments">File:</label></th><td><input type="file" id="id_attachments" name="attachments" /><a href="#" class="attachment_remove">remove</a></td></tr>');a.html("Attach another file")});$(".attachment_remove").live("click",function(a){a.preventDefault();$(this).parent().parent().remove();$("#id_attachments").length<
1&&$("#attachment_link").html("Attach a file")})});
(function(a){a.fn.editable=function(g,s){if("disable"==g)a(this).data("disabled.editable",true);else if("enable"==g)a(this).data("disabled.editable",false);else if("destroy"==g)a(this).unbind(a(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable");else{var k=a.extend({},a.fn.editable.defaults,{target:g},s),q=a.editable.types[k.type].plugin||function(){},c=a.editable.types[k.type].submit||function(){},e=a.editable.types[k.type].buttons||a.editable.types.defaults.buttons,
o=a.editable.types[k.type].content||a.editable.types.defaults.content,w=a.editable.types[k.type].element||a.editable.types.defaults.element,A=a.editable.types[k.type].reset||a.editable.types.defaults.reset,B=k.callback||function(){},x=k.onedit||function(){},n=k.onsubmit||function(){},f=k.onreset||function(){},h=k.onerror||A;k.tooltip&&a(this).attr("title",k.tooltip);k.autowidth="auto"==k.width;k.autoheight="auto"==k.height;return this.each(function(){var j=this,v=a(j).width(),E=a(j).height();a(this).data("event.editable",
k.event);a.trim(a(this).html())||a(this).html(k.placeholder);a(this).bind(k.event,function(F){if(true!==a(this).data("disabled.editable"))if(!j.editing)if(false!==x.apply(this,[k,j])){F.preventDefault();F.stopPropagation();k.tooltip&&a(j).removeAttr("title");if(0==a(j).width()){k.width=v;k.height=E}else{if(k.width!="none")k.width=k.autowidth?a(j).width():k.width;if(k.height!="none")k.height=k.autoheight?a(j).height():k.height}a(this).html().toLowerCase().replace(/(;|"|\/)/g,"")==k.placeholder.toLowerCase().replace(/(;|"|\/)/g,
"")&&a(this).html("");j.editing=true;j.revert=a(j).text();a(j).html("");var K=a("<form />");if(k.cssclass)"inherit"==k.cssclass?K.attr("class",a(j).attr("class")):K.attr("class",k.cssclass);if(k.style)if("inherit"==k.style){K.attr("style",a(j).attr("style"));K.css("display",a(j).css("display"))}else K.attr("style",k.style);var G=w.apply(K,[k,j]),U;if(k.loadurl){var W=setTimeout(function(){G.disabled=true;o.apply(K,[k.loadtext,k,j])},100);F={};F[k.id]=j.id;a.isFunction(k.loaddata)?a.extend(F,k.loaddata.apply(j,
[j.revert,k])):a.extend(F,k.loaddata);a.ajax({type:k.loadtype,url:k.loadurl,data:F,async:false,success:function(V){window.clearTimeout(W);U=V;G.disabled=false}})}else if(k.data){U=k.data;if(a.isFunction(k.data))U=k.data.apply(j,[j.revert,k])}else U=j.revert;o.apply(K,[U,k,j]);G.attr("name",k.name);e.apply(K,[k,j]);a(j).append(K);q.apply(K,[k,j]);a(":input:visible:enabled:first",K).focus();k.select&&G.select();G.keydown(function(V){if(V.keyCode==27){V.preventDefault();A.apply(K,[k,j])}});if("cancel"==
k.onblur)G.blur(function(){W=setTimeout(function(){A.apply(K,[k,j])},500)});else if("submit"==k.onblur)G.blur(function(){W=setTimeout(function(){K.submit()},200)});else a.isFunction(k.onblur)?G.blur(function(){k.onblur.apply(j,[G.val(),k])}):G.blur(function(){});K.submit(function(V){W&&clearTimeout(W);V.preventDefault();if(false!==n.apply(K,[k,j]))if(false!==c.apply(K,[k,j]))if(a.isFunction(k.target)){V=k.target.apply(j,[G.val(),k]);a(j).text(V);j.editing=false;B.apply(j,[j.innerHTML,k]);a.trim(a(j).html())||
a(j).html(k.placeholder)}else{V={};V[k.name]=G.val();V[k.id]=j.id;a.isFunction(k.submitdata)?a.extend(V,k.submitdata.apply(j,[j.revert,k])):a.extend(V,k.submitdata);if("PUT"==k.method)V._method="put";a(j).html(k.indicator);var ha={type:"POST",data:V,dataType:"html",url:k.target,success:function(S){ha.dataType=="html"&&a(j).html(S);j.editing=false;B.apply(j,[S,k]);a.trim(a(j).html())||a(j).html(k.placeholder)},error:function(S){h.apply(K,[k,j,S])}};a.extend(ha,k.ajaxoptions);a.ajax(ha)}a(j).attr("title",
k.tooltip);return false})}});this.reset=function(F){if(this.editing)if(false!==f.apply(F,[k,j])){a(j).text(j.revert);j.editing=false;a.trim(a(j).html())||a(j).html(k.placeholder);k.tooltip&&a(j).attr("title",k.tooltip)}}})}};a.editable={types:{defaults:{element:function(){var g=a('<input type="hidden"></input>');a(this).append(g);return g},content:function(g){a(":input:first",this).val(g)},reset:function(g,s){s.reset(this)},buttons:function(g,s){var k=this;if(g.submit){if(g.submit.match(/>$/))var q=
a(g.submit).click(function(){q.attr("type")!="submit"&&k.submit()});else{q=a('<button type="submit" />');q.html(g.submit)}a(this).append(q)}if(g.cancel){if(g.cancel.match(/>$/))var c=a(g.cancel);else{c=a('<button type="cancel" />');c.html(g.cancel)}a(this).append(c);a(c).click(function(){(a.isFunction(a.editable.types[g.type].reset)?a.editable.types[g.type].reset:a.editable.types.defaults.reset).apply(k,[g,s]);return false})}}},text:{element:function(g){var s=a("<input />");g.width!="none"&&s.attr("width",
g.width);g.height!="none"&&s.attr("height",g.height);s.attr("autocomplete","off");a(this).append(s);return s}},textarea:{element:function(g){var s=a("<textarea />");if(g.rows)s.attr("rows",g.rows);else g.height!="none"&&s.height(g.height);if(g.cols)s.attr("cols",g.cols);else g.width!="none"&&s.width(g.width);a(this).append(s);return s}},select:{element:function(){var g=a("<select />");a(this).append(g);return g},content:function(g,s,k){if(String==g.constructor)eval("var json = "+g);else var q=g;for(var c in q)if(q.hasOwnProperty(c))if("selected"!=
c){g=a("<option />").val(c).append(q[c]);a("select",this).append(g)}a("select",this).children().each(function(){if(a(this).val()==q.selected||a(this).text()==a.trim(k.revert))a(this).attr("selected","selected")});if(!s.submit){var e=this;a("select",this).change(function(){e.submit()})}}}},addInputType:function(g,s){a.editable.types[g]=s}};a.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",
placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{}}})(jQuery);
Date.prototype.toISO8601String=function(a,g){a||(a=6);if(g){var s=g.match(/([-+])([0-9]{2}):([0-9]{2})/),k=Number(s[2])*60+Number(s[3]);k*=s[1]=="-"?-1:1;q=new Date(Number(Number(this)+k*6E4))}else{g="Z";var q=this}s=function(c){return(c<10?"0":"")+c};k="";k+=q.getUTCFullYear();if(a>1)k+="-"+s(q.getUTCMonth()+1);if(a>2)k+="-"+s(q.getUTCDate());if(a>3)k+="T"+s(q.getUTCHours())+":"+s(q.getUTCMinutes());if(a>5){q=Number(q.getUTCSeconds()+"."+(q.getUTCMilliseconds()<100?"0":"")+s(q.getUTCMilliseconds()));
k+=":"+s(q)}else if(a>4)k+=":"+s(q.getUTCSeconds());if(a>3)k+=g;return k};
jQuery(function(a){a(".spam-xhr").click(function(){a(this).html('<img src="/m/img/loading.gif" />');var g=a(this).attr("href"),s=a(this),k=null;k=s.prev().prev().attr("id")=="issue_content"?a("#issues-issue"):s.parent().parent();a.getJSON(g,function(q){if(q.spam){s.removeClass("spam");s.addClass("ham");s.text("Not spam");k.addClass("is-spam")}else{s.removeClass("ham");s.addClass("spam");s.text("Spam");k.removeClass("is-spam")}});return false})});
(function(a,g){function s(k){return!a(k).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.7",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(k,q){return typeof k==="number"?this.each(function(){var c=this;setTimeout(function(){a(c).focus();q&&q.call(c)},k)}):this._focus.apply(this,arguments)},scrollParent:function(){var k;k=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,
"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!k.length?a(document):k},zIndex:function(k){if(k!==g)return this.css("zIndex",k);if(this.length){k=a(this[0]);for(var q;k.length&&k[0]!==document;){q=k.css("position");
if(q==="absolute"||q==="relative"||q==="fixed"){q=parseInt(k.css("zIndex"),10);if(!isNaN(q)&&q!==0)return q}k=k.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(k){k.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.each(["Width","Height"],function(k,q){function c(A,B,x,n){a.each(e,function(){B-=parseFloat(a.curCSS(A,"padding"+this,true))||0;if(x)B-=parseFloat(a.curCSS(A,
"border"+this+"Width",true))||0;if(n)B-=parseFloat(a.curCSS(A,"margin"+this,true))||0});return B}var e=q==="Width"?["Left","Right"]:["Top","Bottom"],o=q.toLowerCase(),w={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+q]=function(A){if(A===g)return w["inner"+q].call(this);return this.each(function(){a(this).css(o,c(this,A)+"px")})};a.fn["outer"+q]=function(A,B){if(typeof A!=="number")return w["outer"+q].call(this,A);return this.each(function(){a(this).css(o,
c(this,A,true,B)+"px")})}});a.extend(a.expr[":"],{data:function(k,q,c){return!!a.data(k,c[3])},focusable:function(k){var q=k.nodeName.toLowerCase(),c=a.attr(k,"tabindex");if("area"===q){q=k.parentNode;c=q.name;if(!k.href||!c||q.nodeName.toLowerCase()!=="map")return false;k=a("img[usemap=#"+c+"]")[0];return!!k&&s(k)}return(/input|select|textarea|button|object/.test(q)?!k.disabled:"a"==q?k.href||!isNaN(c):!isNaN(c))&&s(k)},tabbable:function(k){var q=a.attr(k,"tabindex");return(isNaN(q)||q>=0)&&a(k).is(":focusable")}});
a(function(){var k=document.body,q=k.appendChild(q=document.createElement("div"));a.extend(q.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=q.offsetHeight===100;a.support.selectstart="onselectstart"in q;k.removeChild(q).style.display="none"});a.extend(a.ui,{plugin:{add:function(k,q,c){k=a.ui[k].prototype;for(var e in c){k.plugins[e]=k.plugins[e]||[];k.plugins[e].push([q,c[e]])}},call:function(k,q,c){if((q=k.plugins[q])&&k.element[0].parentNode)for(var e=0;e<q.length;e++)k.options[q[e][0]]&&
q[e][1].apply(k.element,c)}},contains:function(k,q){return document.compareDocumentPosition?k.compareDocumentPosition(q)&16:k!==q&&k.contains(q)},hasScroll:function(k,q){if(a(k).css("overflow")==="hidden")return false;var c=q&&q==="left"?"scrollLeft":"scrollTop",e=false;if(k[c]>0)return true;k[c]=1;e=k[c]>0;k[c]=0;return e},isOverAxis:function(k,q,c){return k>q&&k<q+c},isOver:function(k,q,c,e,o,w){return a.ui.isOverAxis(k,c,o)&&a.ui.isOverAxis(q,e,w)}})}})(jQuery);
(function(a){a.ui=a.ui||{};var g=/left|center|right/,s=/top|center|bottom/,k=a.fn.position,q=a.fn.offset;a.fn.position=function(c){if(!c||!c.of)return k.apply(this,arguments);c=a.extend({},c);var e=a(c.of),o=e[0],w=(c.collision||"flip").split(" "),A=c.offset?c.offset.split(" "):[0,0],B,x,n;if(o.nodeType===9){B=e.width();x=e.height();n={top:0,left:0}}else if(o.setTimeout){B=e.width();x=e.height();n={top:e.scrollTop(),left:e.scrollLeft()}}else if(o.preventDefault){c.at="left top";B=x=0;n={top:c.of.pageY,
left:c.of.pageX}}else{B=e.outerWidth();x=e.outerHeight();n=e.offset()}a.each(["my","at"],function(){var f=(c[this]||"").split(" ");if(f.length===1)f=g.test(f[0])?f.concat(["center"]):s.test(f[0])?["center"].concat(f):["center","center"];f[0]=g.test(f[0])?f[0]:"center";f[1]=s.test(f[1])?f[1]:"center";c[this]=f});if(w.length===1)w[1]=w[0];A[0]=parseInt(A[0],10)||0;if(A.length===1)A[1]=A[0];A[1]=parseInt(A[1],10)||0;if(c.at[0]==="right")n.left+=B;else if(c.at[0]==="center")n.left+=B/2;if(c.at[1]==="bottom")n.top+=
x;else if(c.at[1]==="center")n.top+=x/2;n.left+=A[0];n.top+=A[1];return this.each(function(){var f=a(this),h=f.outerWidth(),j=f.outerHeight(),v=parseInt(a.curCSS(this,"marginLeft",true))||0,E=parseInt(a.curCSS(this,"marginTop",true))||0,F=h+v+parseInt(a.curCSS(this,"marginRight",true))||0,K=j+E+parseInt(a.curCSS(this,"marginBottom",true))||0,G=a.extend({},n),U;if(c.my[0]==="right")G.left-=h;else if(c.my[0]==="center")G.left-=h/2;if(c.my[1]==="bottom")G.top-=j;else if(c.my[1]==="center")G.top-=j/2;
G.left=Math.round(G.left);G.top=Math.round(G.top);U={left:G.left-v,top:G.top-E};a.each(["left","top"],function(W,V){a.ui.position[w[W]]&&a.ui.position[w[W]][V](G,{targetWidth:B,targetHeight:x,elemWidth:h,elemHeight:j,collisionPosition:U,collisionWidth:F,collisionHeight:K,offset:A,my:c.my,at:c.at})});a.fn.bgiframe&&f.bgiframe();f.offset(a.extend(G,{using:c.using}))})};a.ui.position={fit:{left:function(c,e){var o=a(window);o=e.collisionPosition.left+e.collisionWidth-o.width()-o.scrollLeft();c.left=
o>0?c.left-o:Math.max(c.left-e.collisionPosition.left,c.left)},top:function(c,e){var o=a(window);o=e.collisionPosition.top+e.collisionHeight-o.height()-o.scrollTop();c.top=o>0?c.top-o:Math.max(c.top-e.collisionPosition.top,c.top)}},flip:{left:function(c,e){if(e.at[0]!=="center"){var o=a(window);o=e.collisionPosition.left+e.collisionWidth-o.width()-o.scrollLeft();var w=e.my[0]==="left"?-e.elemWidth:e.my[0]==="right"?e.elemWidth:0,A=e.at[0]==="left"?e.targetWidth:-e.targetWidth,B=-2*e.offset[0];c.left+=
e.collisionPosition.left<0?w+A+B:o>0?w+A+B:0}},top:function(c,e){if(e.at[1]!=="center"){var o=a(window);o=e.collisionPosition.top+e.collisionHeight-o.height()-o.scrollTop();var w=e.my[1]==="top"?-e.elemHeight:e.my[1]==="bottom"?e.elemHeight:0,A=e.at[1]==="top"?e.targetHeight:-e.targetHeight,B=-2*e.offset[1];c.top+=e.collisionPosition.top<0?w+A+B:o>0?w+A+B:0}}}};if(!a.offset.setOffset){a.offset.setOffset=function(c,e){if(/static/.test(a.curCSS(c,"position")))c.style.position="relative";var o=a(c),
w=o.offset(),A=parseInt(a.curCSS(c,"top",true),10)||0,B=parseInt(a.curCSS(c,"left",true),10)||0;w={top:e.top-w.top+A,left:e.left-w.left+B};"using"in e?e.using.call(c,w):o.css(w)};a.fn.offset=function(c){var e=this[0];if(!e||!e.ownerDocument)return null;if(c)return this.each(function(){a.offset.setOffset(this,c)});return q.call(this)}}})(jQuery);
(function(a,g){if(a.cleanData){var s=a.cleanData;a.cleanData=function(q){for(var c=0,e;(e=q[c])!=null;c++)a(e).triggerHandler("remove");s(q)}}else{var k=a.fn.remove;a.fn.remove=function(q,c){return this.each(function(){if(!c)if(!q||a.filter(q,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return k.call(a(this),q,c)})}}a.widget=function(q,c,e){var o=q.split(".")[0],w;q=q.split(".")[1];w=o+"-"+q;if(!e){e=c;c=a.Widget}a.expr[":"][w]=function(A){return!!a.data(A,
q)};a[o]=a[o]||{};a[o][q]=function(A,B){arguments.length&&this._createWidget(A,B)};c=new c;c.options=a.extend(true,{},c.options);a[o][q].prototype=a.extend(true,c,{namespace:o,widgetName:q,widgetEventPrefix:a[o][q].prototype.widgetEventPrefix||q,widgetBaseClass:w},e);a.widget.bridge(q,a[o][q])};a.widget.bridge=function(q,c){a.fn[q]=function(e){var o=typeof e==="string",w=Array.prototype.slice.call(arguments,1),A=this;e=!o&&w.length?a.extend.apply(null,[true,e].concat(w)):e;if(o&&e.charAt(0)==="_")return A;
o?this.each(function(){var B=a.data(this,q),x=B&&a.isFunction(B[e])?B[e].apply(B,w):B;if(x!==B&&x!==g){A=x;return false}}):this.each(function(){var B=a.data(this,q);B?B.option(e||{})._init():a.data(this,q,new c(e,this))});return A}};a.Widget=function(q,c){arguments.length&&this._createWidget(q,c)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(q,c){a.data(c,this.widgetName,this);this.element=a(c);this.options=a.extend(true,{},this.options,
this._getCreateOptions(),q);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},
widget:function(){return this.element},option:function(q,c){var e=q;if(arguments.length===0)return a.extend({},this.options);if(typeof q==="string"){if(c===g)return this.options[q];e={};e[q]=c}this._setOptions(e);return this},_setOptions:function(q){var c=this;a.each(q,function(e,o){c._setOption(e,o)});return this},_setOption:function(q,c){this.options[q]=c;if(q==="disabled")this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},
enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(q,c,e){var o=this.options[q];c=a.Event(c);c.type=(q===this.widgetEventPrefix?q:this.widgetEventPrefix+q).toLowerCase();e=e||{};if(c.originalEvent){q=a.event.props.length;for(var w;q;){w=a.event.props[--q];c[w]=c.originalEvent[w]}}this.element.trigger(c,e);return!(a.isFunction(o)&&o.call(this.element[0],c,e)===false||c.isDefaultPrevented())}}})(jQuery);
(function(a){a.widget("ui.autocomplete",{options:{appendTo:"body",delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,extractLast:null},_create:function(){var g=this,s=this.element[0].ownerDocument,k;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(q){if(!(g.options.disabled||g.element.attr("readonly"))){k=false;var c=a.ui.keyCode;
switch(q.keyCode){case c.PAGE_UP:g._move("previousPage",q);break;case c.PAGE_DOWN:g._move("nextPage",q);break;case c.UP:if(g.menu.element.is(":visible")){g._move("previous",q);q.preventDefault()}break;case c.DOWN:if(g.menu.element.is(":visible")){g._move("next",q);q.preventDefault()}break;case c.ENTER:case c.NUMPAD_ENTER:if(g.menu.active){k=true;q.preventDefault()}case c.TAB:if(!g.menu.active)break;g.menu.select(q);break;case c.ESCAPE:g.element.val(g.term);g.close(q);break;default:clearTimeout(g.searching);
g.searching=setTimeout(function(){if(g.term!=g.element.val()){g.selectedItem=null;g.search(null,q)}},g.options.delay)}}}).bind("keypress.autocomplete",function(q){if(k){k=false;q.preventDefault()}}).bind("focus.autocomplete",function(){if(!g.options.disabled){g.selectedItem=null;g.previous=g.element.val()}}).bind("blur.autocomplete",function(q){if(!g.options.disabled){clearTimeout(g.searching);g.closing=setTimeout(function(){g.close(q);g._change(q)},150)}});this._initSource();this.response=function(){return g._response.apply(g,
arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",s)[0]).mousedown(function(q){var c=g.menu.element[0];a(q.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(e){e.target!==g.element[0]&&e.target!==c&&!a.ui.contains(c,e.target)&&g.close()})},1);setTimeout(function(){clearTimeout(g.closing)},13)}).menu({focus:function(q,c){var e=c.item.data("item.autocomplete");false!==g._trigger("focus",q,{item:e})&&
/^key/.test(q.originalEvent.type)&&g.element.val(e.value)},selected:function(q,c){var e=c.item.data("item.autocomplete"),o=g.previous;if(g.element[0]!==s.activeElement){g.element.focus();g.previous=o;setTimeout(function(){g.previous=o;g.selectedItem=e},1)}false!==g._trigger("select",q,{item:e})&&g.element.val(e.value);g.term=g.element.val();g.close(q);g.selectedItem=e},blur:function(){g.menu.element.is(":visible")&&g.element.val()!==g.term&&g.element.val(g.term)}}).zIndex(this.element.zIndex()+1).css({top:0,
left:0}).hide().data("menu");a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(g,s){a.Widget.prototype._setOption.apply(this,arguments);g==="source"&&this._initSource();if(g==="appendTo")this.menu.element.appendTo(a(s||"body",this.element[0].ownerDocument)[0])},
_initSource:function(){var g=this,s,k;this.cache=this.cache||{};if(a.isArray(this.options.source)){s=this.options.source;this.source=function(q,c){c(a.ui.autocomplete.filter(s,q.term))}}else if(typeof this.options.source==="string"){k=this.options.source;this.source=function(q,c){g.xhr&&g.xhr.abort();var e=q.term;if(e in g.cache)c(g.cache[e]);else g.xhr=a.ajax({url:k,data:q,dataType:"json",success:function(o,w,A){g.cache[e]=o;A===g.xhr&&c(o);g.xhr=null},error:function(o){o===g.xhr&&c([]);g.xhr=null}})}}else this.source=
this.options.source},search:function(g,s){g=g!=null?g:this.element.val();this.term=this.element.val();if(g.length<this.options.minLength)return this.close(s);clearTimeout(this.closing);if(this._trigger("search",s)!==false)return this._search(g)},_search:function(g){this.element.addClass("ui-autocomplete-loading");this.source({term:g},this.response)},_response:function(g){if(g&&g.length){g=this._normalize(g);this._suggest(g);this._trigger("open")}else this.close();this.element.removeClass("ui-autocomplete-loading")},
close:function(g){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",g)}},_change:function(g){this.previous!==this.element.val()&&this._trigger("change",g,{item:this.selectedItem})},_normalize:function(g){if(g.length&&g[0].label&&g[0].value)return g;return a.map(g,function(s){if(typeof s==="string")return{label:s,value:s};return a.extend({label:s.label||s.value,value:s.value||s.label},s)})},_suggest:function(g){var s=
this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(s,g);this.menu.deactivate();this.menu.refresh();s.show();this._resizeMenu();s.position(a.extend({of:this.element},this.options.position))},_resizeMenu:function(){var g=this.menu.element;g.outerWidth(Math.max(g.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(g,s){var k=this;a.each(s,function(q,c){k._renderItem(g,c)})},_escape:function(g){return g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,
"&gt;")},_renderItem:function(g,s){var k=this.options.extractLast==null?a(this.element).val():this.options.extractLast(a(this.element).val());k=RegExp("(?![^&;]+;)(?!<[^<>]*)("+k.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi");return a("<li></li>").data("item.autocomplete",s).append(a("<a></a>").html(this._escape(s.label).replace(k,"<strong>$1</strong>"))).appendTo(g)},_move:function(g,s){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(g)||
this.menu.last()&&/^next/.test(g)){this.element.val(this.term);this.menu.deactivate()}else this.menu[g](s);else this.search(null,s)},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(g){return g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(g,s){var k=RegExp(a.ui.autocomplete.escapeRegex(s),"i");return a.grep(g,function(q){return k.test(q.label||q.value||q)})}})})(jQuery);
(function(a){a.widget("ui.menu",{_create:function(){var g=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(s){if(a(s.target).closest(".ui-menu-item a").length){s.preventDefault();g.select(s)}});this.refresh()},refresh:function(){var g=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
-1).mouseenter(function(s){g.activate(s,a(this).parent())}).mouseleave(function(){g.deactivate()})},activate:function(g,s){this.deactivate();if(this.hasScroll()){var k=s.offset().top-this.element.offset().top,q=this.element.attr("scrollTop"),c=this.element.height();if(k<0)this.element.attr("scrollTop",q+k);else k>=c&&this.element.attr("scrollTop",q+k-c+s.height())}this.active=s.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",g,{item:s})},
deactivate:function(){if(this.active){this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null}},next:function(g){this.move("next",".ui-menu-item:first",g)},previous:function(g){this.move("prev",".ui-menu-item:last",g)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(g,s,k){if(this.active){g=this.active[g+"All"](".ui-menu-item").eq(0);
g.length?this.activate(k,g):this.activate(k,this.element.children(s))}else this.activate(k,this.element.children(s))},nextPage:function(g){if(this.hasScroll())if(!this.active||this.last())this.activate(g,this.element.children(".ui-menu-item:first"));else{var s=this.active.offset().top,k=this.element.height(),q=this.element.children(".ui-menu-item").filter(function(){var c=a(this).offset().top-s-k+a(this).height();return c<10&&c>-10});q.length||(q=this.element.children(".ui-menu-item:last"));this.activate(g,
q)}else this.activate(g,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(g){if(this.hasScroll())if(!this.active||this.first())this.activate(g,this.element.children(".ui-menu-item:last"));else{var s=this.active.offset().top,k=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var q=a(this).offset().top-s+k-a(this).height();return q<10&&q>-10});result.length||(result=this.element.children(".ui-menu-item:first"));
this.activate(g,result)}else this.activate(g,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(g){this._trigger("selected",g,{item:this.active})}})})(jQuery);
(function(a,g){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove();a.Widget.prototype.destroy.apply(this,arguments)},value:function(s){if(s===g)return this._value();this._setOption("value",s);return this},_setOption:function(s,k){if(s==="value"){this.options.value=k;this._refreshValue();this._value()===this.options.max&&this._trigger("complete")}a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var s=this.options.value;if(typeof s!=="number")s=0;return Math.min(this.options.max,Math.max(this.min,s))},_percentage:function(){return 100*
this._value()/this.options.max},_refreshValue:function(){var s=this.value(),k=this._percentage();if(this.oldValue!==s){this.oldValue=s;this._trigger("change")}this.valueDiv.toggleClass("ui-corner-right",s===this.options.max).width(k.toFixed(0)+"%");this.element.attr("aria-valuenow",s)}});a.extend(a.ui.progressbar,{version:"@VERSION"})})(jQuery);
(function(a,g){function s(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass=
"ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su",
"Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",
minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};a.extend(this._defaults,this.regional[""]);this.dpDiv=a('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}function k(c,e){a.extend(c,e);for(var o in e)if(e[o]==
null||e[o]==g)c[o]=e[o];return c}a.extend(a.ui,{datepicker:{version:"1.8.12"}});var q=(new Date).getTime();a.extend(s.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(c){k(this._defaults,c||{});return this},_attachDatepicker:function(c,e){var o=null,w;for(w in this._defaults){var A=c.getAttribute("date:"+w);if(A){o=o||{};try{o[w]=eval(A)}catch(B){o[w]=A}}}w=c.nodeName.toLowerCase();
A=w=="div"||w=="span";if(!c.id){this.uuid+=1;c.id="dp"+this.uuid}var x=this._newInst(a(c),A);x.settings=a.extend({},e||{},o||{});if(w=="input")this._connectDatepicker(c,x);else A&&this._inlineDatepicker(c,x)},_newInst:function(c,e){return{id:c[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:!e?this.dpDiv:a('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}},
_connectDatepicker:function(c,e){var o=a(c);e.append=a([]);e.trigger=a([]);if(!o.hasClass(this.markerClassName)){this._attachments(o,e);o.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(w,A,B){e.settings[A]=B}).bind("getData.datepicker",function(w,A){return this._get(e,A)});this._autoSize(e);a.data(c,"datepicker",e)}},_attachments:function(c,e){var o=this._get(e,"appendText"),w=this._get(e,"isRTL");e.append&&
e.append.remove();if(o){e.append=a('<span class="'+this._appendClass+'">'+o+"</span>");c[w?"before":"after"](e.append)}c.unbind("focus",this._showDatepicker);e.trigger&&e.trigger.remove();o=this._get(e,"showOn");if(o=="focus"||o=="both")c.focus(this._showDatepicker);if(o=="button"||o=="both"){o=this._get(e,"buttonText");var A=this._get(e,"buttonImage");e.trigger=a(this._get(e,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:A,alt:o,title:o}):a('<button type="button"></button>').addClass(this._triggerClass).html(A==
""?o:a("<img/>").attr({src:A,alt:o,title:o})));c[w?"before":"after"](e.trigger);e.trigger.click(function(){a.datepicker._datepickerShowing&&a.datepicker._lastInput==c[0]?a.datepicker._hideDatepicker():a.datepicker._showDatepicker(c[0]);return false})}},_autoSize:function(c){if(this._get(c,"autoSize")&&!c.inline){var e=new Date(2009,11,20),o=this._get(c,"dateFormat");if(o.match(/[DM]/)){var w=function(A){for(var B=0,x=0,n=0;n<A.length;n++)if(A[n].length>B){B=A[n].length;x=n}return x};e.setMonth(w(this._get(c,
o.match(/MM/)?"monthNames":"monthNamesShort")));e.setDate(w(this._get(c,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}c.input.attr("size",this._formatDate(c,e).length)}},_inlineDatepicker:function(c,e){var o=a(c);if(!o.hasClass(this.markerClassName)){o.addClass(this.markerClassName).append(e.dpDiv).bind("setData.datepicker",function(w,A,B){e.settings[A]=B}).bind("getData.datepicker",function(w,A){return this._get(e,A)});a.data(c,"datepicker",e);this._setDate(e,this._getDefaultDate(e),
true);this._updateDatepicker(e);this._updateAlternate(e);e.dpDiv.show()}},_dialogDatepicker:function(c,e,o,w,A){c=this._dialogInst;if(!c){this.uuid+=1;this._dialogInput=a('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);a("body").append(this._dialogInput);c=this._dialogInst=this._newInst(this._dialogInput,false);c.settings={};a.data(this._dialogInput[0],"datepicker",c)}k(c.settings,w||{});
e=e&&e.constructor==Date?this._formatDate(c,e):e;this._dialogInput.val(e);this._pos=A?A.length?A:[A.pageX,A.pageY]:null;if(!this._pos)this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)];this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");c.settings.onSelect=o;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);
this._showDatepicker(this._dialogInput[0]);a.blockUI&&a.blockUI(this.dpDiv);a.data(this._dialogInput[0],"datepicker",c);return this},_destroyDatepicker:function(c){var e=a(c),o=a.data(c,"datepicker");if(e.hasClass(this.markerClassName)){var w=c.nodeName.toLowerCase();a.removeData(c,"datepicker");if(w=="input"){o.append.remove();o.trigger.remove();e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",
this._doKeyUp)}else if(w=="div"||w=="span")e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(c){var e=a(c),o=a.data(c,"datepicker");if(e.hasClass(this.markerClassName)){var w=c.nodeName.toLowerCase();if(w=="input"){c.disabled=false;o.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(w=="div"||w=="span")e.children("."+this._inlineClass).children().removeClass("ui-state-disabled");this._disabledInputs=a.map(this._disabledInputs,
function(A){return A==c?null:A})}},_disableDatepicker:function(c){var e=a(c),o=a.data(c,"datepicker");if(e.hasClass(this.markerClassName)){var w=c.nodeName.toLowerCase();if(w=="input"){c.disabled=true;o.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(w=="div"||w=="span")e.children("."+this._inlineClass).children().addClass("ui-state-disabled");this._disabledInputs=a.map(this._disabledInputs,function(A){return A==c?null:
A});this._disabledInputs[this._disabledInputs.length]=c}},_isDisabledDatepicker:function(c){if(!c)return false;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]==c)return true;return false},_getInst:function(c){try{return a.data(c,"datepicker")}catch(e){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(c,e,o){var w=this._getInst(c);if(arguments.length==2&&typeof e=="string")return e=="defaults"?a.extend({},a.datepicker._defaults):w?e=="all"?a.extend({},
w.settings):this._get(w,e):null;var A=e||{};if(typeof e=="string"){A={};A[e]=o}if(w){this._curInst==w&&this._hideDatepicker();var B=this._getDateDatepicker(c,true),x=this._getMinMaxDate(w,"min"),n=this._getMinMaxDate(w,"max");k(w.settings,A);if(x!==null&&A.dateFormat!==g&&A.minDate===g)w.settings.minDate=this._formatDate(w,x);if(n!==null&&A.dateFormat!==g&&A.maxDate===g)w.settings.maxDate=this._formatDate(w,n);this._attachments(a(c),w);this._autoSize(w);this._setDateDatepicker(c,B);this._updateDatepicker(w)}},
_changeDatepicker:function(c,e,o){this._optionDatepicker(c,e,o)},_refreshDatepicker:function(c){(c=this._getInst(c))&&this._updateDatepicker(c)},_setDateDatepicker:function(c,e){var o=this._getInst(c);if(o){this._setDate(o,e);this._updateDatepicker(o);this._updateAlternate(o)}},_getDateDatepicker:function(c,e){var o=this._getInst(c);o&&!o.inline&&this._setDateFromField(o,e);return o?this._getDate(o):null},_doKeyDown:function(c){var e=a.datepicker._getInst(c.target),o=true,w=e.dpDiv.is(".ui-datepicker-rtl");
e._keyEvent=true;if(a.datepicker._datepickerShowing)switch(c.keyCode){case 9:a.datepicker._hideDatepicker();o=false;break;case 13:o=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",e.dpDiv);o[0]?a.datepicker._selectDay(c.target,e.selectedMonth,e.selectedYear,o[0]):a.datepicker._hideDatepicker();return false;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(c.target,c.ctrlKey?-a.datepicker._get(e,"stepBigMonths"):-a.datepicker._get(e,"stepMonths"),
"M");break;case 34:a.datepicker._adjustDate(c.target,c.ctrlKey?+a.datepicker._get(e,"stepBigMonths"):+a.datepicker._get(e,"stepMonths"),"M");break;case 35:if(c.ctrlKey||c.metaKey)a.datepicker._clearDate(c.target);o=c.ctrlKey||c.metaKey;break;case 36:if(c.ctrlKey||c.metaKey)a.datepicker._gotoToday(c.target);o=c.ctrlKey||c.metaKey;break;case 37:if(c.ctrlKey||c.metaKey)a.datepicker._adjustDate(c.target,w?+1:-1,"D");o=c.ctrlKey||c.metaKey;if(c.originalEvent.altKey)a.datepicker._adjustDate(c.target,c.ctrlKey?
-a.datepicker._get(e,"stepBigMonths"):-a.datepicker._get(e,"stepMonths"),"M");break;case 38:if(c.ctrlKey||c.metaKey)a.datepicker._adjustDate(c.target,-7,"D");o=c.ctrlKey||c.metaKey;break;case 39:if(c.ctrlKey||c.metaKey)a.datepicker._adjustDate(c.target,w?-1:+1,"D");o=c.ctrlKey||c.metaKey;if(c.originalEvent.altKey)a.datepicker._adjustDate(c.target,c.ctrlKey?+a.datepicker._get(e,"stepBigMonths"):+a.datepicker._get(e,"stepMonths"),"M");break;case 40:if(c.ctrlKey||c.metaKey)a.datepicker._adjustDate(c.target,
+7,"D");o=c.ctrlKey||c.metaKey;break;default:o=false}else if(c.keyCode==36&&c.ctrlKey)a.datepicker._showDatepicker(this);else o=false;if(o){c.preventDefault();c.stopPropagation()}},_doKeyPress:function(c){var e=a.datepicker._getInst(c.target);if(a.datepicker._get(e,"constrainInput")){e=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat"));var o=String.fromCharCode(c.charCode==g?c.keyCode:c.charCode);return c.ctrlKey||c.metaKey||o<" "||!e||e.indexOf(o)>-1}},_doKeyUp:function(c){c=a.datepicker._getInst(c.target);
if(c.input.val()!=c.lastVal)try{if(a.datepicker.parseDate(a.datepicker._get(c,"dateFormat"),c.input?c.input.val():null,a.datepicker._getFormatConfig(c))){a.datepicker._setDateFromField(c);a.datepicker._updateAlternate(c);a.datepicker._updateDatepicker(c)}}catch(e){a.datepicker.log(e)}return true},_showDatepicker:function(c){c=c.target||c;if(c.nodeName.toLowerCase()!="input")c=a("input",c.parentNode)[0];if(!(a.datepicker._isDisabledDatepicker(c)||a.datepicker._lastInput==c)){var e=a.datepicker._getInst(c);
a.datepicker._curInst&&a.datepicker._curInst!=e&&a.datepicker._curInst.dpDiv.stop(true,true);var o=a.datepicker._get(e,"beforeShow");k(e.settings,o?o.apply(c,[c,e]):{});e.lastVal=null;a.datepicker._lastInput=c;a.datepicker._setDateFromField(e);if(a.datepicker._inDialog)c.value="";if(!a.datepicker._pos){a.datepicker._pos=a.datepicker._findPos(c);a.datepicker._pos[1]+=c.offsetHeight}var w=false;a(c).parents().each(function(){w|=a(this).css("position")=="fixed";return!w});if(w&&a.browser.opera){a.datepicker._pos[0]-=
document.documentElement.scrollLeft;a.datepicker._pos[1]-=document.documentElement.scrollTop}o={left:a.datepicker._pos[0],top:a.datepicker._pos[1]};a.datepicker._pos=null;e.dpDiv.empty();e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});a.datepicker._updateDatepicker(e);o=a.datepicker._checkOffset(e,o,w);e.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":w?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"});if(!e.inline){o=a.datepicker._get(e,"showAnim");
var A=a.datepicker._get(e,"duration"),B=function(){a.datepicker._datepickerShowing=true;var x=e.dpDiv.find("iframe.ui-datepicker-cover");if(x.length){var n=a.datepicker._getBorders(e.dpDiv);x.css({left:-n[0],top:-n[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()})}};e.dpDiv.zIndex(a(c).zIndex()+1);a.effects&&a.effects[o]?e.dpDiv.show(o,a.datepicker._get(e,"showOptions"),A,B):e.dpDiv[o||"show"](o?A:null,B);if(!o||!A)B();e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus();a.datepicker._curInst=
e}}},_updateDatepicker:function(c){var e=this,o=a.datepicker._getBorders(c.dpDiv);c.dpDiv.empty().append(this._generateHTML(c));var w=c.dpDiv.find("iframe.ui-datepicker-cover");w.length&&w.css({left:-o[0],top:-o[1],width:c.dpDiv.outerWidth(),height:c.dpDiv.outerHeight()});c.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){a(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&a(this).removeClass("ui-datepicker-prev-hover");
this.className.indexOf("ui-datepicker-next")!=-1&&a(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){if(!e._isDisabledDatepicker(c.inline?c.dpDiv.parent()[0]:c.input[0])){a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");a(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&a(this).addClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&a(this).addClass("ui-datepicker-next-hover")}}).end().find("."+
this._dayOverClass+" a").trigger("mouseover").end();o=this._getNumberOfMonths(c);w=o[1];w>1?c.dpDiv.addClass("ui-datepicker-multi-"+w).css("width",17*w+"em"):c.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");c.dpDiv[(o[0]!=1||o[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");c.dpDiv[(this._get(c,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");c==a.datepicker._curInst&&a.datepicker._datepickerShowing&&c.input&&c.input.is(":visible")&&!c.input.is(":disabled")&&
c.input[0]!=document.activeElement&&c.input.focus();if(c.yearshtml){var A=c.yearshtml;setTimeout(function(){A===c.yearshtml&&c.dpDiv.find("select.ui-datepicker-year:first").replaceWith(c.yearshtml);A=c.yearshtml=null},0)}},_getBorders:function(c){var e=function(o){return{thin:1,medium:2,thick:3}[o]||o};return[parseFloat(e(c.css("border-left-width"))),parseFloat(e(c.css("border-top-width")))]},_checkOffset:function(c,e,o){var w=c.dpDiv.outerWidth(),A=c.dpDiv.outerHeight(),B=c.input?c.input.outerWidth():
0,x=c.input?c.input.outerHeight():0,n=document.documentElement.clientWidth+a(document).scrollLeft(),f=document.documentElement.clientHeight+a(document).scrollTop();e.left-=this._get(c,"isRTL")?w-B:0;e.left-=o&&e.left==c.input.offset().left?a(document).scrollLeft():0;e.top-=o&&e.top==c.input.offset().top+x?a(document).scrollTop():0;e.left-=Math.min(e.left,e.left+w>n&&n>w?Math.abs(e.left+w-n):0);e.top-=Math.min(e.top,e.top+A>f&&f>A?Math.abs(A+x):0);return e},_findPos:function(c){for(var e=this._get(this._getInst(c),
"isRTL");c&&(c.type=="hidden"||c.nodeType!=1||a.expr.filters.hidden(c));)c=c[e?"previousSibling":"nextSibling"];c=a(c).offset();return[c.left,c.top]},_hideDatepicker:function(c){var e=this._curInst;if(!(!e||c&&e!=a.data(c,"datepicker")))if(this._datepickerShowing){c=this._get(e,"showAnim");var o=this._get(e,"duration"),w=function(){a.datepicker._tidyDialog(e);this._curInst=null};a.effects&&a.effects[c]?e.dpDiv.hide(c,a.datepicker._get(e,"showOptions"),o,w):e.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?
"fadeOut":"hide"](c?o:null,w);c||w();if(c=this._get(e,"onClose"))c.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]);this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(a.blockUI){a.unblockUI();a("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(c){c.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(c){if(a.datepicker._curInst){c=
a(c.target);c[0].id!=a.datepicker._mainDivId&&c.parents("#"+a.datepicker._mainDivId).length==0&&!c.hasClass(a.datepicker.markerClassName)&&!c.hasClass(a.datepicker._triggerClass)&&a.datepicker._datepickerShowing&&!(a.datepicker._inDialog&&a.blockUI)&&a.datepicker._hideDatepicker()}},_adjustDate:function(c,e,o){c=a(c);var w=this._getInst(c[0]);if(!this._isDisabledDatepicker(c[0])){this._adjustInstDate(w,e+(o=="M"?this._get(w,"showCurrentAtPos"):0),o);this._updateDatepicker(w)}},_gotoToday:function(c){c=
a(c);var e=this._getInst(c[0]);if(this._get(e,"gotoCurrent")&&e.currentDay){e.selectedDay=e.currentDay;e.drawMonth=e.selectedMonth=e.currentMonth;e.drawYear=e.selectedYear=e.currentYear}else{var o=new Date;e.selectedDay=o.getDate();e.drawMonth=e.selectedMonth=o.getMonth();e.drawYear=e.selectedYear=o.getFullYear()}this._notifyChange(e);this._adjustDate(c)},_selectMonthYear:function(c,e,o){c=a(c);var w=this._getInst(c[0]);w._selectingMonthYear=false;w["selected"+(o=="M"?"Month":"Year")]=w["draw"+(o==
"M"?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10);this._notifyChange(w);this._adjustDate(c)},_clickMonthYear:function(c){var e=this._getInst(a(c)[0]);e.input&&e._selectingMonthYear&&setTimeout(function(){e.input.focus()},0);e._selectingMonthYear=!e._selectingMonthYear},_selectDay:function(c,e,o,w){var A=a(c);if(!(a(w).hasClass(this._unselectableClass)||this._isDisabledDatepicker(A[0]))){A=this._getInst(A[0]);A.selectedDay=A.currentDay=a("a",w).html();A.selectedMonth=A.currentMonth=
e;A.selectedYear=A.currentYear=o;this._selectDate(c,this._formatDate(A,A.currentDay,A.currentMonth,A.currentYear))}},_clearDate:function(c){c=a(c);this._getInst(c[0]);this._selectDate(c,"")},_selectDate:function(c,e){var o=this._getInst(a(c)[0]);e=e!=null?e:this._formatDate(o);o.input&&o.input.val(e);this._updateAlternate(o);var w=this._get(o,"onSelect");if(w)w.apply(o.input?o.input[0]:null,[e,o]);else o.input&&o.input.trigger("change");if(o.inline)this._updateDatepicker(o);else{this._hideDatepicker();
this._lastInput=o.input[0];typeof o.input[0]!="object"&&o.input.focus();this._lastInput=null}},_updateAlternate:function(c){var e=this._get(c,"altField");if(e){var o=this._get(c,"altFormat")||this._get(c,"dateFormat"),w=this._getDate(c),A=this.formatDate(o,w,this._getFormatConfig(c));a(e).each(function(){a(this).val(A)})}},noWeekends:function(c){c=c.getDay();return[c>0&&c<6,""]},iso8601Week:function(c){c=new Date(c.getTime());c.setDate(c.getDate()+4-(c.getDay()||7));var e=c.getTime();c.setMonth(0);
c.setDate(1);return Math.floor(Math.round((e-c)/864E5)/7)+1},parseDate:function(c,e,o){if(c==null||e==null)throw"Invalid arguments";e=typeof e=="object"?e.toString():e+"";if(e=="")return null;var w=(o?o.shortYearCutoff:null)||this._defaults.shortYearCutoff;w=typeof w!="string"?w:(new Date).getFullYear()%100+parseInt(w,10);for(var A=(o?o.dayNamesShort:null)||this._defaults.dayNamesShort,B=(o?o.dayNames:null)||this._defaults.dayNames,x=(o?o.monthNamesShort:null)||this._defaults.monthNamesShort,n=(o?
o.monthNames:null)||this._defaults.monthNames,f=o=-1,h=-1,j=-1,v=false,E=function(ha){(ha=W+1<c.length&&c.charAt(W+1)==ha)&&W++;return ha},F=function(ha){var S=E(ha);ha=RegExp("^\\d{1,"+(ha=="@"?14:ha=="!"?20:ha=="y"&&S?4:ha=="o"?3:2)+"}");ha=e.substring(U).match(ha);if(!ha)throw"Missing number at position "+U;U+=ha[0].length;return parseInt(ha[0],10)},K=function(ha,S,ba){ha=E(ha)?ba:S;for(S=0;S<ha.length;S++)if(e.substr(U,ha[S].length).toLowerCase()==ha[S].toLowerCase()){U+=ha[S].length;return S+
1}throw"Unknown name at position "+U;},G=function(){if(e.charAt(U)!=c.charAt(W))throw"Unexpected literal at position "+U;U++},U=0,W=0;W<c.length;W++)if(v)if(c.charAt(W)=="'"&&!E("'"))v=false;else G();else switch(c.charAt(W)){case "d":h=F("d");break;case "D":K("D",A,B);break;case "o":j=F("o");break;case "m":f=F("m");break;case "M":f=K("M",x,n);break;case "y":o=F("y");break;case "@":var V=new Date(F("@"));o=V.getFullYear();f=V.getMonth()+1;h=V.getDate();break;case "!":V=new Date((F("!")-this._ticksTo1970)/
1E4);o=V.getFullYear();f=V.getMonth()+1;h=V.getDate();break;case "'":if(E("'"))G();else v=true;break;default:G()}if(o==-1)o=(new Date).getFullYear();else if(o<100)o+=(new Date).getFullYear()-(new Date).getFullYear()%100+(o<=w?0:-100);if(j>-1){f=1;h=j;do{w=this._getDaysInMonth(o,f-1);if(h<=w)break;f++;h-=w}while(1)}V=this._daylightSavingAdjust(new Date(o,f-1,h));if(V.getFullYear()!=o||V.getMonth()+1!=f||V.getDate()!=h)throw"Invalid date";return V},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",
RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1E7,formatDate:function(c,e,o){if(!e)return"";var w=(o?o.dayNamesShort:null)||this._defaults.dayNamesShort,A=(o?o.dayNames:null)||this._defaults.dayNames,B=(o?o.monthNamesShort:null)||this._defaults.monthNamesShort;o=(o?o.monthNames:null)||this._defaults.monthNames;
var x=function(E){(E=v+1<c.length&&c.charAt(v+1)==E)&&v++;return E},n=function(E,F,K){F=""+F;if(x(E))for(;F.length<K;)F="0"+F;return F},f=function(E,F,K,G){return x(E)?G[F]:K[F]},h="",j=false;if(e)for(var v=0;v<c.length;v++)if(j)if(c.charAt(v)=="'"&&!x("'"))j=false;else h+=c.charAt(v);else switch(c.charAt(v)){case "d":h+=n("d",e.getDate(),2);break;case "D":h+=f("D",e.getDay(),w,A);break;case "o":h+=n("o",(e.getTime()-(new Date(e.getFullYear(),0,0)).getTime())/864E5,3);break;case "m":h+=n("m",e.getMonth()+
1,2);break;case "M":h+=f("M",e.getMonth(),B,o);break;case "y":h+=x("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case "@":h+=e.getTime();break;case "!":h+=e.getTime()*1E4+this._ticksTo1970;break;case "'":if(x("'"))h+="'";else j=true;break;default:h+=c.charAt(v)}return h},_possibleChars:function(c){for(var e="",o=false,w=function(B){(B=A+1<c.length&&c.charAt(A+1)==B)&&A++;return B},A=0;A<c.length;A++)if(o)if(c.charAt(A)=="'"&&!w("'"))o=false;else e+=c.charAt(A);else switch(c.charAt(A)){case "d":case "m":case "y":case "@":e+=
"0123456789";break;case "D":case "M":return null;case "'":if(w("'"))e+="'";else o=true;break;default:e+=c.charAt(A)}return e},_get:function(c,e){return c.settings[e]!==g?c.settings[e]:this._defaults[e]},_setDateFromField:function(c,e){if(c.input.val()!=c.lastVal){var o=this._get(c,"dateFormat"),w=c.lastVal=c.input?c.input.val():null,A,B;A=B=this._getDefaultDate(c);var x=this._getFormatConfig(c);try{A=this.parseDate(o,w,x)||B}catch(n){this.log(n);w=e?"":w}c.selectedDay=A.getDate();c.drawMonth=c.selectedMonth=
A.getMonth();c.drawYear=c.selectedYear=A.getFullYear();c.currentDay=w?A.getDate():0;c.currentMonth=w?A.getMonth():0;c.currentYear=w?A.getFullYear():0;this._adjustInstDate(c)}},_getDefaultDate:function(c){return this._restrictMinMax(c,this._determineDate(c,this._get(c,"defaultDate"),new Date))},_determineDate:function(c,e,o){var w=function(B){var x=new Date;x.setDate(x.getDate()+B);return x},A=function(B){try{return a.datepicker.parseDate(a.datepicker._get(c,"dateFormat"),B,a.datepicker._getFormatConfig(c))}catch(x){}var n=
(B.toLowerCase().match(/^c/)?a.datepicker._getDate(c):null)||new Date,f=n.getFullYear(),h=n.getMonth();n=n.getDate();for(var j=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,v=j.exec(B);v;){switch(v[2]||"d"){case "d":case "D":n+=parseInt(v[1],10);break;case "w":case "W":n+=parseInt(v[1],10)*7;break;case "m":case "M":h+=parseInt(v[1],10);n=Math.min(n,a.datepicker._getDaysInMonth(f,h));break;case "y":case "Y":f+=parseInt(v[1],10);n=Math.min(n,a.datepicker._getDaysInMonth(f,h))}v=j.exec(B)}return new Date(f,
h,n)};if(e=(e=e==null||e===""?o:typeof e=="string"?A(e):typeof e=="number"?isNaN(e)?o:w(e):new Date(e.getTime()))&&e.toString()=="Invalid Date"?o:e){e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0)}return this._daylightSavingAdjust(e)},_daylightSavingAdjust:function(c){if(!c)return null;c.setHours(c.getHours()>12?c.getHours()+2:0);return c},_setDate:function(c,e,o){var w=!e,A=c.selectedMonth,B=c.selectedYear;e=this._restrictMinMax(c,this._determineDate(c,e,new Date));c.selectedDay=
c.currentDay=e.getDate();c.drawMonth=c.selectedMonth=c.currentMonth=e.getMonth();c.drawYear=c.selectedYear=c.currentYear=e.getFullYear();if((A!=c.selectedMonth||B!=c.selectedYear)&&!o)this._notifyChange(c);this._adjustInstDate(c);if(c.input)c.input.val(w?"":this._formatDate(c))},_getDate:function(c){return!c.currentYear||c.input&&c.input.val()==""?null:this._daylightSavingAdjust(new Date(c.currentYear,c.currentMonth,c.currentDay))},_generateHTML:function(c){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),
e.getMonth(),e.getDate()));var o=this._get(c,"isRTL"),w=this._get(c,"showButtonPanel"),A=this._get(c,"hideIfNoPrevNext"),B=this._get(c,"navigationAsDateFormat"),x=this._getNumberOfMonths(c),n=this._get(c,"showCurrentAtPos"),f=this._get(c,"stepMonths"),h=x[0]!=1||x[1]!=1,j=this._daylightSavingAdjust(!c.currentDay?new Date(9999,9,9):new Date(c.currentYear,c.currentMonth,c.currentDay)),v=this._getMinMaxDate(c,"min"),E=this._getMinMaxDate(c,"max");n=c.drawMonth-n;var F=c.drawYear;if(n<0){n+=12;F--}if(E){var K=
this._daylightSavingAdjust(new Date(E.getFullYear(),E.getMonth()-x[0]*x[1]+1,E.getDate()));for(K=v&&K<v?v:K;this._daylightSavingAdjust(new Date(F,n,1))>K;){n--;if(n<0){n=11;F--}}}c.drawMonth=n;c.drawYear=F;K=this._get(c,"prevText");K=!B?K:this.formatDate(K,this._daylightSavingAdjust(new Date(F,n-f,1)),this._getFormatConfig(c));K=this._canAdjustMonth(c,-1,F,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+q+".datepicker._adjustDate('#"+c.id+"', -"+f+", 'M');\" title=\""+K+'"><span class="ui-icon ui-icon-circle-triangle-'+
(o?"e":"w")+'">'+K+"</span></a>":A?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+K+'"><span class="ui-icon ui-icon-circle-triangle-'+(o?"e":"w")+'">'+K+"</span></a>";var G=this._get(c,"nextText");G=!B?G:this.formatDate(G,this._daylightSavingAdjust(new Date(F,n+f,1)),this._getFormatConfig(c));A=this._canAdjustMonth(c,+1,F,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+q+".datepicker._adjustDate('#"+c.id+"', +"+f+", 'M');\" title=\""+G+'"><span class="ui-icon ui-icon-circle-triangle-'+
(o?"w":"e")+'">'+G+"</span></a>":A?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+G+'"><span class="ui-icon ui-icon-circle-triangle-'+(o?"w":"e")+'">'+G+"</span></a>";f=this._get(c,"currentText");G=this._get(c,"gotoCurrent")&&c.currentDay?j:e;f=!B?f:this.formatDate(f,G,this._getFormatConfig(c));B=!c.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+q+'.datepicker._hideDatepicker();">'+this._get(c,
"closeText")+"</button>":"";w=w?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(o?B:"")+(this._isInRange(c,G)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+q+".datepicker._gotoToday('#"+c.id+"');\">"+f+"</button>":"")+(o?"":B)+"</div>":"";B=parseInt(this._get(c,"firstDay"),10);B=isNaN(B)?0:B;f=this._get(c,"showWeek");G=this._get(c,"dayNames");this._get(c,"dayNamesShort");var U=this._get(c,"dayNamesMin"),W=
this._get(c,"monthNames"),V=this._get(c,"monthNamesShort"),ha=this._get(c,"beforeShowDay"),S=this._get(c,"showOtherMonths"),ba=this._get(c,"selectOtherMonths");this._get(c,"calculateWeek");for(var T=this._getDefaultDate(c),H="",N=0;N<x[0];N++){for(var r="",Y=0;Y<x[1];Y++){var R=this._daylightSavingAdjust(new Date(F,n,c.selectedDay)),Q=" ui-corner-all",ia="";if(h){ia+='<div class="ui-datepicker-group';if(x[1]>1)switch(Y){case 0:ia+=" ui-datepicker-group-first";Q=" ui-corner-"+(o?"right":"left");break;
case x[1]-1:ia+=" ui-datepicker-group-last";Q=" ui-corner-"+(o?"left":"right");break;default:ia+=" ui-datepicker-group-middle";Q=""}ia+='">'}ia+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+Q+'">'+(/all|left/.test(Q)&&N==0?o?A:K:"")+(/all|right/.test(Q)&&N==0?o?K:A:"")+this._generateMonthYearHeader(c,n,F,v,E,N>0||Y>0,W,V)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var la=f?'<th class="ui-datepicker-week-col">'+this._get(c,"weekHeader")+"</th>":"";for(Q=0;Q<
7;Q++){var na=(Q+B)%7;la+="<th"+((Q+B+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+G[na]+'">'+U[na]+"</span></th>"}ia+=la+"</tr></thead><tbody>";la=this._getDaysInMonth(F,n);if(F==c.selectedYear&&n==c.selectedMonth)c.selectedDay=Math.min(c.selectedDay,la);Q=(this._getFirstDayOfMonth(F,n)-B+7)%7;la=h?6:Math.ceil((Q+la)/7);na=this._daylightSavingAdjust(new Date(F,n,1-Q));for(var Aa=0;Aa<la;Aa++){ia+="<tr>";var Da=!f?"":'<td class="ui-datepicker-week-col">'+this._get(c,"calculateWeek")(na)+
"</td>";for(Q=0;Q<7;Q++){var Ga=ha?ha.apply(c.input?c.input[0]:null,[na]):[true,""],ua=na.getMonth()!=n,qa=ua&&!ba||!Ga[0]||v&&na<v||E&&na>E;Da+='<td class="'+((Q+B+6)%7>=5?" ui-datepicker-week-end":"")+(ua?" ui-datepicker-other-month":"")+(na.getTime()==R.getTime()&&n==c.selectedMonth&&c._keyEvent||T.getTime()==na.getTime()&&T.getTime()==R.getTime()?" "+this._dayOverClass:"")+(qa?" "+this._unselectableClass+" ui-state-disabled":"")+(ua&&!S?"":" "+Ga[1]+(na.getTime()==j.getTime()?" "+this._currentClass:
"")+(na.getTime()==e.getTime()?" ui-datepicker-today":""))+'"'+((!ua||S)&&Ga[2]?' title="'+Ga[2]+'"':"")+(qa?"":' onclick="DP_jQuery_'+q+".datepicker._selectDay('#"+c.id+"',"+na.getMonth()+","+na.getFullYear()+', this);return false;"')+">"+(ua&&!S?"&#xa0;":qa?'<span class="ui-state-default">'+na.getDate()+"</span>":'<a class="ui-state-default'+(na.getTime()==e.getTime()?" ui-state-highlight":"")+(na.getTime()==j.getTime()?" ui-state-active":"")+(ua?" ui-priority-secondary":"")+'" href="#">'+na.getDate()+
"</a>")+"</td>";na.setDate(na.getDate()+1);na=this._daylightSavingAdjust(na)}ia+=Da+"</tr>"}n++;if(n>11){n=0;F++}ia+="</tbody></table>"+(h?"</div>"+(x[0]>0&&Y==x[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");r+=ia}H+=r}H+=w+(a.browser.msie&&parseInt(a.browser.version,10)<7&&!c.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");c._keyEvent=false;return H},_generateMonthYearHeader:function(c,e,o,w,A,B,x,n){var f=this._get(c,"changeMonth"),
h=this._get(c,"changeYear"),j=this._get(c,"showMonthAfterYear"),v='<div class="ui-datepicker-title">',E="";if(B||!f)E+='<span class="ui-datepicker-month">'+x[e]+"</span>";else{x=w&&w.getFullYear()==o;var F=A&&A.getFullYear()==o;E+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+q+".datepicker._selectMonthYear('#"+c.id+"', this, 'M');\" onclick=\"DP_jQuery_"+q+".datepicker._clickMonthYear('#"+c.id+"');\">";for(var K=0;K<12;K++)if((!x||K>=w.getMonth())&&(!F||K<=A.getMonth()))E+='<option value="'+
K+'"'+(K==e?' selected="selected"':"")+">"+n[K]+"</option>";E+="</select>"}j||(v+=E+(B||!(f&&h)?"&#xa0;":""));if(!c.yearshtml){c.yearshtml="";if(B||!h)v+='<span class="ui-datepicker-year">'+o+"</span>";else{n=this._get(c,"yearRange").split(":");var G=(new Date).getFullYear();x=function(U){U=U.match(/c[+-].*/)?o+parseInt(U.substring(1),10):U.match(/[+-].*/)?G+parseInt(U,10):parseInt(U,10);return isNaN(U)?G:U};e=x(n[0]);n=Math.max(e,x(n[1]||""));e=w?Math.max(e,w.getFullYear()):e;n=A?Math.min(n,A.getFullYear()):
n;for(c.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+q+".datepicker._selectMonthYear('#"+c.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+q+".datepicker._clickMonthYear('#"+c.id+"');\">";e<=n;e++)c.yearshtml+='<option value="'+e+'"'+(e==o?' selected="selected"':"")+">"+e+"</option>";c.yearshtml+="</select>";if(a.browser.mozilla)v+='<select class="ui-datepicker-year"><option value="'+o+'" selected="selected">'+o+"</option></select>";else{v+=c.yearshtml;c.yearshtml=null}}}v+=this._get(c,
"yearSuffix");if(j)v+=(B||!(f&&h)?"&#xa0;":"")+E;v+="</div>";return v},_adjustInstDate:function(c,e,o){var w=c.drawYear+(o=="Y"?e:0),A=c.drawMonth+(o=="M"?e:0);e=Math.min(c.selectedDay,this._getDaysInMonth(w,A))+(o=="D"?e:0);w=this._restrictMinMax(c,this._daylightSavingAdjust(new Date(w,A,e)));c.selectedDay=w.getDate();c.drawMonth=c.selectedMonth=w.getMonth();c.drawYear=c.selectedYear=w.getFullYear();if(o=="M"||o=="Y")this._notifyChange(c)},_restrictMinMax:function(c,e){var o=this._getMinMaxDate(c,
"min"),w=this._getMinMaxDate(c,"max");o=o&&e<o?o:e;return o=w&&o>w?w:o},_notifyChange:function(c){var e=this._get(c,"onChangeMonthYear");if(e)e.apply(c.input?c.input[0]:null,[c.selectedYear,c.selectedMonth+1,c])},_getNumberOfMonths:function(c){c=this._get(c,"numberOfMonths");return c==null?[1,1]:typeof c=="number"?[1,c]:c},_getMinMaxDate:function(c,e){return this._determineDate(c,this._get(c,e+"Date"),null)},_getDaysInMonth:function(c,e){return 32-this._daylightSavingAdjust(new Date(c,e,32)).getDate()},
_getFirstDayOfMonth:function(c,e){return(new Date(c,e,1)).getDay()},_canAdjustMonth:function(c,e,o,w){var A=this._getNumberOfMonths(c);o=this._daylightSavingAdjust(new Date(o,w+(e<0?e:A[0]*A[1]),1));e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth()));return this._isInRange(c,o)},_isInRange:function(c,e){var o=this._getMinMaxDate(c,"min"),w=this._getMinMaxDate(c,"max");return(!o||e.getTime()>=o.getTime())&&(!w||e.getTime()<=w.getTime())},_getFormatConfig:function(c){var e=this._get(c,
"shortYearCutoff");e=typeof e!="string"?e:(new Date).getFullYear()%100+parseInt(e,10);return{shortYearCutoff:e,dayNamesShort:this._get(c,"dayNamesShort"),dayNames:this._get(c,"dayNames"),monthNamesShort:this._get(c,"monthNamesShort"),monthNames:this._get(c,"monthNames")}},_formatDate:function(c,e,o,w){if(!e){c.currentDay=c.selectedDay;c.currentMonth=c.selectedMonth;c.currentYear=c.selectedYear}e=e?typeof e=="object"?e:this._daylightSavingAdjust(new Date(w,o,e)):this._daylightSavingAdjust(new Date(c.currentYear,
c.currentMonth,c.currentDay));return this.formatDate(this._get(c,"dateFormat"),e,this._getFormatConfig(c))}});a.fn.datepicker=function(c){if(!this.length)return this;if(!a.datepicker.initialized){a(document).mousedown(a.datepicker._checkExternalClick).find("body").append(a.datepicker.dpDiv);a.datepicker.initialized=true}var e=Array.prototype.slice.call(arguments,1);if(typeof c=="string"&&(c=="isDisabled"||c=="getDate"||c=="widget"))return a.datepicker["_"+c+"Datepicker"].apply(a.datepicker,[this[0]].concat(e));
if(c=="option"&&arguments.length==2&&typeof arguments[1]=="string")return a.datepicker["_"+c+"Datepicker"].apply(a.datepicker,[this[0]].concat(e));return this.each(function(){typeof c=="string"?a.datepicker["_"+c+"Datepicker"].apply(a.datepicker,[this].concat(e)):a.datepicker._attachDatepicker(this,c)})};a.datepicker=new s;a.datepicker.initialized=false;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.8.12";window["DP_jQuery_"+q]=a})(jQuery);
(function(a,g){var s={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},k={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};a.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(q){var c=a(this).css(q).offset().top;c<0&&
a(this).css("top",q.top-c)}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string")this.originalTitle="";this.options.title=this.options.title||this.originalTitle;var q=this,c=q.options,e=c.title||"&#160;",o=a.ui.dialog.getTitleId(q.element),w=(q.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",
-1).css("outline",0).keydown(function(x){if(c.closeOnEscape&&x.keyCode&&x.keyCode===a.ui.keyCode.ESCAPE){q.close(x);x.preventDefault()}}).attr({role:"dialog","aria-labelledby":o}).mousedown(function(x){q.moveToTop(false,x)});q.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(w);var A=(q.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(w),B=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role",
"button").hover(function(){B.addClass("ui-state-hover")},function(){B.removeClass("ui-state-hover")}).focus(function(){B.addClass("ui-state-focus")}).blur(function(){B.removeClass("ui-state-focus")}).click(function(x){q.close(x);return false}).appendTo(A);(q.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(B);a("<span></span>").addClass("ui-dialog-title").attr("id",o).html(e).prependTo(A);if(a.isFunction(c.beforeclose)&&!a.isFunction(c.beforeClose))c.beforeClose=
c.beforeclose;A.find("*").add(A).disableSelection();c.draggable&&a.fn.draggable&&q._makeDraggable();c.resizable&&a.fn.resizable&&q._makeResizable();q._createButtons(c.buttons);q._isOpen=false;a.fn.bgiframe&&w.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){this.overlay&&this.overlay.destroy();this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();
this.originalTitle&&this.element.attr("title",this.originalTitle);return this},widget:function(){return this.uiDialog},close:function(q){var c=this,e,o;if(false!==c._trigger("beforeClose",q)){c.overlay&&c.overlay.destroy();c.uiDialog.unbind("keypress.ui-dialog");c._isOpen=false;if(c.options.hide)c.uiDialog.hide(c.options.hide,function(){c._trigger("close",q)});else{c.uiDialog.hide();c._trigger("close",q)}a.ui.dialog.overlay.resize();if(c.options.modal){e=0;a(".ui-dialog").each(function(){if(this!==
c.uiDialog[0]){o=a(this).css("z-index");isNaN(o)||(e=Math.max(e,o))}});a.ui.dialog.maxZ=e}return c}},isOpen:function(){return this._isOpen},moveToTop:function(q,c){var e=this.options;if(e.modal&&!q||!e.stack&&!e.modal)return this._trigger("focus",c);if(e.zIndex>a.ui.dialog.maxZ)a.ui.dialog.maxZ=e.zIndex;if(this.overlay){a.ui.dialog.maxZ+=1;this.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)}e={scrollTop:this.element.attr("scrollTop"),scrollLeft:this.element.attr("scrollLeft")};
a.ui.dialog.maxZ+=1;this.uiDialog.css("z-index",a.ui.dialog.maxZ);this.element.attr(e);this._trigger("focus",c);return this},open:function(){if(!this._isOpen){var q=this.options,c=this.uiDialog;this.overlay=q.modal?new a.ui.dialog.overlay(this):null;this._size();this._position(q.position);c.show(q.show);this.moveToTop(true);q.modal&&c.bind("keypress.ui-dialog",function(e){if(e.keyCode===a.ui.keyCode.TAB){var o=a(":tabbable",this),w=o.filter(":first");o=o.filter(":last");if(e.target===o[0]&&!e.shiftKey){w.focus(1);
return false}else if(e.target===w[0]&&e.shiftKey){o.focus(1);return false}}});a(this.element.find(":tabbable").get().concat(c.find(".ui-dialog-buttonpane :tabbable").get().concat(c.get()))).eq(0).focus();this._isOpen=true;this._trigger("open");return this}},_createButtons:function(q){var c=this,e=false,o=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),w=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(o);c.uiDialog.find(".ui-dialog-buttonpane").remove();
typeof q==="object"&&q!==null&&a.each(q,function(){return!(e=true)});if(e){a.each(q,function(A,B){B=a.isFunction(B)?{click:B,text:A}:B;var x=a('<button type="button"></button>').attr(B,true).unbind("click").click(function(){B.click.apply(c.element[0],arguments)}).appendTo(w);a.fn.button&&x.button()});o.appendTo(c.uiDialog)}},_makeDraggable:function(){function q(A){return{position:A.position,offset:A.offset}}var c=this,e=c.options,o=a(document),w;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(A,B){w=e.height==="auto"?"auto":a(this).height();a(this).height(a(this).height()).addClass("ui-dialog-dragging");c._trigger("dragStart",A,q(B))},drag:function(A,B){c._trigger("drag",A,q(B))},stop:function(A,B){e.position=[B.position.left-o.scrollLeft(),B.position.top-o.scrollTop()];a(this).removeClass("ui-dialog-dragging").height(w);c._trigger("dragStop",A,q(B));a.ui.dialog.overlay.resize()}})},_makeResizable:function(q){function c(A){return{originalPosition:A.originalPosition,
originalSize:A.originalSize,position:A.position,size:A.size}}q=q===g?this.options.resizable:q;var e=this,o=e.options,w=e.uiDialog.css("position");q=typeof q==="string"?q:"n,e,s,w,se,sw,ne,nw";e.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:e.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:e._minHeight(),handles:q,start:function(A,B){a(this).addClass("ui-dialog-resizing");e._trigger("resizeStart",A,c(B))},resize:function(A,B){e._trigger("resize",
A,c(B))},stop:function(A,B){a(this).removeClass("ui-dialog-resizing");o.height=a(this).height();o.width=a(this).width();e._trigger("resizeStop",A,c(B));a.ui.dialog.overlay.resize()}}).css("position",w).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var q=this.options;return q.height==="auto"?q.minHeight:Math.min(q.minHeight,q.height)},_position:function(q){var c=[],e=[0,0],o;if(q){if(typeof q==="string"||typeof q==="object"&&"0"in q){c=q.split?q.split(" "):
[q[0],q[1]];if(c.length===1)c[1]=c[0];a.each(["left","top"],function(w,A){if(+c[w]===c[w]){e[w]=c[w];c[w]=A}});q={my:c.join(" "),at:c.join(" "),offset:e.join(" ")}}q=a.extend({},a.ui.dialog.prototype.options.position,q)}else q=a.ui.dialog.prototype.options.position;(o=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},q));o||this.uiDialog.hide()},_setOptions:function(q){var c=this,e={},o=false;a.each(q,function(w,A){c._setOption(w,A);
if(w in s)o=true;if(w in k)e[w]=A});o&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(q,c){var e=this.uiDialog;switch(q){case "beforeclose":q="beforeClose";break;case "buttons":this._createButtons(c);break;case "closeText":this.uiDialogTitlebarCloseText.text(""+c);break;case "dialogClass":e.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c);break;case "disabled":c?e.addClass("ui-dialog-disabled"):
e.removeClass("ui-dialog-disabled");break;case "draggable":var o=e.is(":data(draggable)");o&&!c&&e.draggable("destroy");!o&&c&&this._makeDraggable();break;case "position":this._position(c);break;case "resizable":(o=e.is(":data(resizable)"))&&!c&&e.resizable("destroy");o&&typeof c==="string"&&e.resizable("option","handles",c);!o&&c!==false&&this._makeResizable(c);break;case "title":a(".ui-dialog-title",this.uiDialogTitlebar).html(""+(c||"&#160;"))}a.Widget.prototype._setOption.apply(this,arguments)},
_size:function(){var q=this.options,c,e,o=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(q.minWidth>q.width)q.width=q.minWidth;c=this.uiDialog.css({height:"auto",width:q.width}).height();e=Math.max(0,q.minHeight-c);if(q.height==="auto")if(a.support.minHeight)this.element.css({minHeight:e,height:"auto"});else{this.uiDialog.show();q=this.element.css("height","auto").height();o||this.uiDialog.hide();this.element.height(Math.max(q,e))}else this.element.height(Math.max(q.height-
c,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});a.extend(a.ui.dialog,{version:"1.8.7",uuid:0,maxZ:0,getTitleId:function(q){q=q.attr("id");if(!q){this.uuid+=1;q=this.uuid}return"ui-dialog-title-"+q},overlay:function(q){this.$el=a.ui.dialog.overlay.create(q)}});a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(q){return q+".dialog-overlay"}).join(" "),
create:function(q){if(this.instances.length===0){setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(e){if(a(e.target).zIndex()<a.ui.dialog.overlay.maxZ)return false})},1);a(document).bind("keydown.dialog-overlay",function(e){if(q.options.closeOnEscape&&e.keyCode&&e.keyCode===a.ui.keyCode.ESCAPE){q.close(e);e.preventDefault()}});a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize)}var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),
height:this.height()});a.fn.bgiframe&&c.bgiframe();this.instances.push(c);return c},destroy:function(q){var c=a.inArray(q,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]);this.instances.length===0&&a([document,window]).unbind(".dialog-overlay");q.remove();var e=0;a.each(this.instances,function(){e=Math.max(e,this.css("z-index"))});this.maxZ=e},height:function(){var q,c;if(a.browser.msie&&a.browser.version<7){q=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);
c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return q<c?a(window).height()+"px":q+"px"}else return a(document).height()+"px"},width:function(){var q,c;if(a.browser.msie&&a.browser.version<7){q=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return q<c?a(window).width()+"px":q+"px"}else return a(document).width()+"px"},resize:function(){var q=a([]);a.each(a.ui.dialog.overlay.instances,
function(){q=q.add(this)});q.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}});a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,g,s,k,q){return jQuery.easing[jQuery.easing.def](a,g,s,k,q)},easeInQuad:function(a,g,s,k,q){return k*(g/=q)*g+s},easeOutQuad:function(a,g,s,k,q){return-k*(g/=q)*(g-2)+s},easeInOutQuad:function(a,g,s,k,q){if((g/=q/2)<1)return k/2*g*g+s;return-k/2*(--g*(g-2)-1)+s},easeInCubic:function(a,g,s,k,q){return k*(g/=q)*g*g+s},easeOutCubic:function(a,g,s,k,q){return k*((g=g/q-1)*g*g+1)+s},easeInOutCubic:function(a,g,s,k,q){if((g/=q/2)<1)return k/
2*g*g*g+s;return k/2*((g-=2)*g*g+2)+s},easeInQuart:function(a,g,s,k,q){return k*(g/=q)*g*g*g+s},easeOutQuart:function(a,g,s,k,q){return-k*((g=g/q-1)*g*g*g-1)+s},easeInOutQuart:function(a,g,s,k,q){if((g/=q/2)<1)return k/2*g*g*g*g+s;return-k/2*((g-=2)*g*g*g-2)+s},easeInQuint:function(a,g,s,k,q){return k*(g/=q)*g*g*g*g+s},easeOutQuint:function(a,g,s,k,q){return k*((g=g/q-1)*g*g*g*g+1)+s},easeInOutQuint:function(a,g,s,k,q){if((g/=q/2)<1)return k/2*g*g*g*g*g+s;return k/2*((g-=2)*g*g*g*g+2)+s},easeInSine:function(a,
g,s,k,q){return-k*Math.cos(g/q*(Math.PI/2))+k+s},easeOutSine:function(a,g,s,k,q){return k*Math.sin(g/q*(Math.PI/2))+s},easeInOutSine:function(a,g,s,k,q){return-k/2*(Math.cos(Math.PI*g/q)-1)+s},easeInExpo:function(a,g,s,k,q){return g==0?s:k*Math.pow(2,10*(g/q-1))+s},easeOutExpo:function(a,g,s,k,q){return g==q?s+k:k*(-Math.pow(2,-10*g/q)+1)+s},easeInOutExpo:function(a,g,s,k,q){if(g==0)return s;if(g==q)return s+k;if((g/=q/2)<1)return k/2*Math.pow(2,10*(g-1))+s;return k/2*(-Math.pow(2,-10*--g)+2)+s},
easeInCirc:function(a,g,s,k,q){return-k*(Math.sqrt(1-(g/=q)*g)-1)+s},easeOutCirc:function(a,g,s,k,q){return k*Math.sqrt(1-(g=g/q-1)*g)+s},easeInOutCirc:function(a,g,s,k,q){if((g/=q/2)<1)return-k/2*(Math.sqrt(1-g*g)-1)+s;return k/2*(Math.sqrt(1-(g-=2)*g)+1)+s},easeInElastic:function(a,g,s,k,q){a=1.70158;var c=0,e=k;if(g==0)return s;if((g/=q)==1)return s+k;c||(c=q*0.3);if(e<Math.abs(k)){e=k;a=c/4}else a=c/(2*Math.PI)*Math.asin(k/e);return-(e*Math.pow(2,10*(g-=1))*Math.sin((g*q-a)*2*Math.PI/c))+s},easeOutElastic:function(a,
g,s,k,q){a=1.70158;var c=0,e=k;if(g==0)return s;if((g/=q)==1)return s+k;c||(c=q*0.3);if(e<Math.abs(k)){e=k;a=c/4}else a=c/(2*Math.PI)*Math.asin(k/e);return e*Math.pow(2,-10*g)*Math.sin((g*q-a)*2*Math.PI/c)+k+s},easeInOutElastic:function(a,g,s,k,q){a=1.70158;var c=0,e=k;if(g==0)return s;if((g/=q/2)==2)return s+k;c||(c=q*0.3*1.5);if(e<Math.abs(k)){e=k;a=c/4}else a=c/(2*Math.PI)*Math.asin(k/e);if(g<1)return-0.5*e*Math.pow(2,10*(g-=1))*Math.sin((g*q-a)*2*Math.PI/c)+s;return e*Math.pow(2,-10*(g-=1))*Math.sin((g*
q-a)*2*Math.PI/c)*0.5+k+s},easeInBack:function(a,g,s,k,q,c){if(c==undefined)c=1.70158;return k*(g/=q)*g*((c+1)*g-c)+s},easeOutBack:function(a,g,s,k,q,c){if(c==undefined)c=1.70158;return k*((g=g/q-1)*g*((c+1)*g+c)+1)+s},easeInOutBack:function(a,g,s,k,q,c){if(c==undefined)c=1.70158;if((g/=q/2)<1)return k/2*g*g*(((c*=1.525)+1)*g-c)+s;return k/2*((g-=2)*g*(((c*=1.525)+1)*g+c)+2)+s},easeInBounce:function(a,g,s,k,q){return k-jQuery.easing.easeOutBounce(a,q-g,0,k,q)+s},easeOutBounce:function(a,g,s,k,q){return(g/=
q)<1/2.75?k*7.5625*g*g+s:g<2/2.75?k*(7.5625*(g-=1.5/2.75)*g+0.75)+s:g<2.5/2.75?k*(7.5625*(g-=2.25/2.75)*g+0.9375)+s:k*(7.5625*(g-=2.625/2.75)*g+0.984375)+s},easeInOutBounce:function(a,g,s,k,q){if(g<q/2)return jQuery.easing.easeInBounce(a,g*2,0,k,q)*0.5+s;return jQuery.easing.easeOutBounce(a,g*2-q,0,k,q)*0.5+k*0.5+s}});
(function(a){function g(k){var q=k||window.event,c=[].slice.call(arguments,1),e=0,o=0,w=0;k=a.event.fix(q);k.type="mousewheel";if(k.wheelDelta)e=k.wheelDelta/120;if(k.detail)e=-k.detail/3;w=e;if(q.axis!==undefined&&q.axis===q.HORIZONTAL_AXIS){w=0;o=-1*e}if(q.wheelDeltaY!==undefined)w=q.wheelDeltaY/120;if(q.wheelDeltaX!==undefined)o=-1*q.wheelDeltaX/120;c.unshift(k,e,o,w);return a.event.handle.apply(this,c)}var s=["DOMMouseScroll","mousewheel"];a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var k=
s.length;k;)this.addEventListener(s[--k],g,false);else this.onmousewheel=g},teardown:function(){if(this.removeEventListener)for(var k=s.length;k;)this.removeEventListener(s[--k],g,false);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(k){return k?this.bind("mousewheel",k):this.trigger("mousewheel")},unmousewheel:function(k){return this.unbind("mousewheel",k)}})})(jQuery);
jQuery.effects||function(a,g){function s(x){var n;if(x&&x.constructor==Array&&x.length==3)return x;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(x))return[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)];if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(x))return[parseFloat(n[1])*2.55,parseFloat(n[2])*2.55,parseFloat(n[3])*2.55];if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(x))return[parseInt(n[1],
16),parseInt(n[2],16),parseInt(n[3],16)];if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(x))return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(x))return w.transparent;return w[a.trim(x).toLowerCase()]}function k(){var x=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,n={},f,h;if(x&&x.length&&x[0]&&x[x[0]])for(var j=x.length;j--;){f=x[j];if(typeof x[f]=="string"){h=f.replace(/\-(\w)/g,function(v,E){return E.toUpperCase()});
n[h]=x[f]}}else for(f in x)if(typeof x[f]==="string")n[f]=x[f];return n}function q(x){var n,f;for(n in x){f=x[n];if(f==null||a.isFunction(f)||n in B||/scrollbar/.test(n)||!/color/i.test(n)&&isNaN(parseFloat(f)))delete x[n]}return x}function c(x,n){var f={_:0},h;for(h in n)if(x[h]!=n[h])f[h]=n[h];return f}function e(x,n,f,h){if(typeof x=="object"){h=n;f=null;n=x;x=n.effect}if(a.isFunction(n)){h=n;f=null;n={}}if(typeof n=="number"||a.fx.speeds[n]){h=f;f=n;n={}}if(a.isFunction(f)){h=f;f=null}n=n||{};
f=f||n.duration;f=a.fx.off?0:typeof f=="number"?f:f in a.fx.speeds?a.fx.speeds[f]:a.fx.speeds._default;h=h||n.complete;return[x,n,f,h]}function o(x){if(!x||typeof x==="number"||a.fx.speeds[x])return true;if(typeof x==="string"&&!a.effects[x])return true;return false}a.effects={};a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(x,n){a.fx.step[n]=function(f){if(!f.colorInit){var h;h=f.elem;var j=n,v;do{v=
a.curCSS(h,j);if(v!=""&&v!="transparent"||a.nodeName(h,"body"))break;j="backgroundColor"}while(h=h.parentNode);h=s(v);f.start=h;f.end=s(f.end);f.colorInit=true}f.elem.style[n]="rgb("+Math.max(Math.min(parseInt(f.pos*(f.end[0]-f.start[0])+f.start[0],10),255),0)+","+Math.max(Math.min(parseInt(f.pos*(f.end[1]-f.start[1])+f.start[1],10),255),0)+","+Math.max(Math.min(parseInt(f.pos*(f.end[2]-f.start[2])+f.start[2],10),255),0)+")"}});var w={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,
0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,
211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},A=["add","remove","toggle"],B={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(x,n,f,
h){if(a.isFunction(f)){h=f;f=null}return this.queue("fx",function(){var j=a(this),v=j.attr("style")||" ",E=q(k.call(this)),F,K=j.attr("className");a.each(A,function(G,U){x[U]&&j[U+"Class"](x[U])});F=q(k.call(this));j.attr("className",K);j.animate(c(E,F),n,f,function(){a.each(A,function(G,U){x[U]&&j[U+"Class"](x[U])});if(typeof j.attr("style")=="object"){j.attr("style").cssText="";j.attr("style").cssText=v}else j.attr("style",v);h&&h.apply(this,arguments)});E=a.queue(this);F=E.splice(E.length-1,1)[0];
E.splice(1,0,F);a.dequeue(this)})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(x,n,f,h){return n?a.effects.animateClass.apply(this,[{add:x},n,f,h]):this._addClass(x)},_removeClass:a.fn.removeClass,removeClass:function(x,n,f,h){return n?a.effects.animateClass.apply(this,[{remove:x},n,f,h]):this._removeClass(x)},_toggleClass:a.fn.toggleClass,toggleClass:function(x,n,f,h,j){return typeof n=="boolean"||n===g?f?a.effects.animateClass.apply(this,[n?{add:x}:{remove:x},f,h,j]):this._toggleClass(x,
n):a.effects.animateClass.apply(this,[{toggle:x},n,f,h])},switchClass:function(x,n,f,h,j){return a.effects.animateClass.apply(this,[{add:n,remove:x},f,h,j])}});a.extend(a.effects,{version:"1.8.9",save:function(x,n){for(var f=0;f<n.length;f++)n[f]!==null&&x.data("ec.storage."+n[f],x[0].style[n[f]])},restore:function(x,n){for(var f=0;f<n.length;f++)n[f]!==null&&x.css(n[f],x.data("ec.storage."+n[f]))},setMode:function(x,n){if(n=="toggle")n=x.is(":hidden")?"show":"hide";return n},getBaseline:function(x,
n){var f,h;switch(x[0]){case "top":f=0;break;case "middle":f=0.5;break;case "bottom":f=1;break;default:f=x[0]/n.height}switch(x[1]){case "left":h=0;break;case "center":h=0.5;break;case "right":h=1;break;default:h=x[1]/n.width}return{x:h,y:f}},createWrapper:function(x){if(x.parent().is(".ui-effects-wrapper"))return x.parent();var n={width:x.outerWidth(true),height:x.outerHeight(true),"float":x.css("float")},f=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",
border:"none",margin:0,padding:0});x.wrap(f);f=x.parent();if(x.css("position")=="static"){f.css({position:"relative"});x.css({position:"relative"})}else{a.extend(n,{position:x.css("position"),zIndex:x.css("z-index")});a.each(["top","left","bottom","right"],function(h,j){n[j]=x.css(j);if(isNaN(parseInt(n[j],10)))n[j]="auto"});x.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return f.css(n).show()},removeWrapper:function(x){if(x.parent().is(".ui-effects-wrapper"))return x.parent().replaceWith(x);
return x},setTransition:function(x,n,f,h){h=h||{};a.each(n,function(j,v){unit=x.cssUnit(v);if(unit[0]>0)h[v]=unit[0]*f+unit[1]});return h}});a.fn.extend({effect:function(x){var n=e.apply(this,arguments),f={options:n[1],duration:n[2],callback:n[3]};n=f.options.mode;var h=a.effects[x];if(a.fx.off||!h)return n?this[n](f.duration,f.callback):this.each(function(){f.callback&&f.callback.call(this)});return h.call(this,f)},_show:a.fn.show,show:function(x){if(o(x))return this._show.apply(this,arguments);
else{var n=e.apply(this,arguments);n[1].mode="show";return this.effect.apply(this,n)}},_hide:a.fn.hide,hide:function(x){if(o(x))return this._hide.apply(this,arguments);else{var n=e.apply(this,arguments);n[1].mode="hide";return this.effect.apply(this,n)}},__toggle:a.fn.toggle,toggle:function(x){if(o(x)||typeof x==="boolean"||a.isFunction(x))return this.__toggle.apply(this,arguments);else{var n=e.apply(this,arguments);n[1].mode="toggle";return this.effect.apply(this,n)}},cssUnit:function(x){var n=this.css(x),
f=[];a.each(["em","px","%","pt"],function(h,j){if(n.indexOf(j)>0)f=[parseFloat(n),j]});return f}});a.easing.jswing=a.easing.swing;a.extend(a.easing,{def:"easeOutQuad",swing:function(x,n,f,h,j){return a.easing[a.easing.def](x,n,f,h,j)},easeInQuad:function(x,n,f,h,j){return h*(n/=j)*n+f},easeOutQuad:function(x,n,f,h,j){return-h*(n/=j)*(n-2)+f},easeInOutQuad:function(x,n,f,h,j){if((n/=j/2)<1)return h/2*n*n+f;return-h/2*(--n*(n-2)-1)+f},easeInCubic:function(x,n,f,h,j){return h*(n/=j)*n*n+f},easeOutCubic:function(x,
n,f,h,j){return h*((n=n/j-1)*n*n+1)+f},easeInOutCubic:function(x,n,f,h,j){if((n/=j/2)<1)return h/2*n*n*n+f;return h/2*((n-=2)*n*n+2)+f},easeInQuart:function(x,n,f,h,j){return h*(n/=j)*n*n*n+f},easeOutQuart:function(x,n,f,h,j){return-h*((n=n/j-1)*n*n*n-1)+f},easeInOutQuart:function(x,n,f,h,j){if((n/=j/2)<1)return h/2*n*n*n*n+f;return-h/2*((n-=2)*n*n*n-2)+f},easeInQuint:function(x,n,f,h,j){return h*(n/=j)*n*n*n*n+f},easeOutQuint:function(x,n,f,h,j){return h*((n=n/j-1)*n*n*n*n+1)+f},easeInOutQuint:function(x,
n,f,h,j){if((n/=j/2)<1)return h/2*n*n*n*n*n+f;return h/2*((n-=2)*n*n*n*n+2)+f},easeInSine:function(x,n,f,h,j){return-h*Math.cos(n/j*(Math.PI/2))+h+f},easeOutSine:function(x,n,f,h,j){return h*Math.sin(n/j*(Math.PI/2))+f},easeInOutSine:function(x,n,f,h,j){return-h/2*(Math.cos(Math.PI*n/j)-1)+f},easeInExpo:function(x,n,f,h,j){return n==0?f:h*Math.pow(2,10*(n/j-1))+f},easeOutExpo:function(x,n,f,h,j){return n==j?f+h:h*(-Math.pow(2,-10*n/j)+1)+f},easeInOutExpo:function(x,n,f,h,j){if(n==0)return f;if(n==
j)return f+h;if((n/=j/2)<1)return h/2*Math.pow(2,10*(n-1))+f;return h/2*(-Math.pow(2,-10*--n)+2)+f},easeInCirc:function(x,n,f,h,j){return-h*(Math.sqrt(1-(n/=j)*n)-1)+f},easeOutCirc:function(x,n,f,h,j){return h*Math.sqrt(1-(n=n/j-1)*n)+f},easeInOutCirc:function(x,n,f,h,j){if((n/=j/2)<1)return-h/2*(Math.sqrt(1-n*n)-1)+f;return h/2*(Math.sqrt(1-(n-=2)*n)+1)+f},easeInElastic:function(x,n,f,h,j){x=1.70158;var v=0,E=h;if(n==0)return f;if((n/=j)==1)return f+h;v||(v=j*0.3);if(E<Math.abs(h)){E=h;x=v/4}else x=
v/(2*Math.PI)*Math.asin(h/E);return-(E*Math.pow(2,10*(n-=1))*Math.sin((n*j-x)*2*Math.PI/v))+f},easeOutElastic:function(x,n,f,h,j){x=1.70158;var v=0,E=h;if(n==0)return f;if((n/=j)==1)return f+h;v||(v=j*0.3);if(E<Math.abs(h)){E=h;x=v/4}else x=v/(2*Math.PI)*Math.asin(h/E);return E*Math.pow(2,-10*n)*Math.sin((n*j-x)*2*Math.PI/v)+h+f},easeInOutElastic:function(x,n,f,h,j){x=1.70158;var v=0,E=h;if(n==0)return f;if((n/=j/2)==2)return f+h;v||(v=j*0.3*1.5);if(E<Math.abs(h)){E=h;x=v/4}else x=v/(2*Math.PI)*Math.asin(h/
E);if(n<1)return-0.5*E*Math.pow(2,10*(n-=1))*Math.sin((n*j-x)*2*Math.PI/v)+f;return E*Math.pow(2,-10*(n-=1))*Math.sin((n*j-x)*2*Math.PI/v)*0.5+h+f},easeInBack:function(x,n,f,h,j,v){if(v==g)v=1.70158;return h*(n/=j)*n*((v+1)*n-v)+f},easeOutBack:function(x,n,f,h,j,v){if(v==g)v=1.70158;return h*((n=n/j-1)*n*((v+1)*n+v)+1)+f},easeInOutBack:function(x,n,f,h,j,v){if(v==g)v=1.70158;if((n/=j/2)<1)return h/2*n*n*(((v*=1.525)+1)*n-v)+f;return h/2*((n-=2)*n*(((v*=1.525)+1)*n+v)+2)+f},easeInBounce:function(x,
n,f,h,j){return h-a.easing.easeOutBounce(x,j-n,0,h,j)+f},easeOutBounce:function(x,n,f,h,j){return(n/=j)<1/2.75?h*7.5625*n*n+f:n<2/2.75?h*(7.5625*(n-=1.5/2.75)*n+0.75)+f:n<2.5/2.75?h*(7.5625*(n-=2.25/2.75)*n+0.9375)+f:h*(7.5625*(n-=2.625/2.75)*n+0.984375)+f},easeInOutBounce:function(x,n,f,h,j){if(n<j/2)return a.easing.easeInBounce(x,n*2,0,h,j)*0.5+f;return a.easing.easeOutBounce(x,n*2-j,0,h,j)*0.5+h*0.5+f}})}(jQuery);
(function(a){var g,s,k,q,c,e,o,w,A,B,x=0,n={},f=[],h=0,j={},v=[],E=null,F=new Image,K=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,G=/[^\.]\.(swf)\s*$/i,U,W=1,V=0,ha="",S,ba,T=false,H=a.extend(a("<div/>")[0],{prop:0}),N=a.browser.msie&&a.browser.version<7&&!window.XMLHttpRequest,r=function(){s.hide();F.onerror=F.onload=null;E&&E.abort();g.empty()},Y=function(){if(false===n.onError(f,x,n)){s.hide();T=false}else{n.titleShow=false;n.width="auto";n.height="auto";g.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');
Q()}},R=function(){var X=f[x],ja,Ea,Ia,Wa,$a,Va;r();n=a.extend({},a.fn.fancybox.defaults,typeof a(X).data("fancybox")=="undefined"?n:a(X).data("fancybox"));Va=n.onStart(f,x,n);if(Va===false)T=false;else{if(typeof Va=="object")n=a.extend(n,Va);Ia=n.title||(X.nodeName?a(X).attr("title"):X.title)||"";if(X.nodeName&&!n.orig)n.orig=a(X).children("img:first").length?a(X).children("img:first"):a(X);if(Ia===""&&n.orig&&n.titleFromAlt)Ia=n.orig.attr("alt");ja=n.href||(X.nodeName?a(X).attr("href"):X.href)||
null;if(/^(?:javascript)/i.test(ja)||ja=="#")ja=null;if(n.type){Ea=n.type;if(!ja)ja=n.content}else if(n.content)Ea="html";else if(ja)Ea=ja.match(K)?"image":ja.match(G)?"swf":a(X).hasClass("iframe")?"iframe":ja.indexOf("#")===0?"inline":"ajax";if(Ea){if(Ea=="inline"){X=ja.substr(ja.indexOf("#"));Ea=a(X).length>0?"inline":"ajax"}n.type=Ea;n.href=ja;n.title=Ia;if(n.autoDimensions)if(n.type=="html"||n.type=="inline"||n.type=="ajax"){n.width="auto";n.height="auto"}else n.autoDimensions=false;if(n.modal){n.overlayShow=
true;n.hideOnOverlayClick=false;n.hideOnContentClick=false;n.enableEscapeButton=false;n.showCloseButton=false}n.padding=parseInt(n.padding,10);n.margin=parseInt(n.margin,10);g.css("padding",n.padding+n.margin);a(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){a(this).replaceWith(e.children())});switch(Ea){case "html":g.html(n.content);Q();break;case "inline":if(a(X).parent().is("#fancybox-content")===true){T=false;break}a('<div class="fancybox-inline-tmp" />').hide().insertBefore(a(X)).bind("fancybox-cleanup",
function(){a(this).replaceWith(e.children())}).bind("fancybox-cancel",function(){a(this).replaceWith(g.children())});a(X).appendTo(g);Q();break;case "image":T=false;a.fancybox.showActivity();F=new Image;F.onerror=function(){Y()};F.onload=function(){T=true;F.onerror=F.onload=null;n.width=F.width;n.height=F.height;a("<img />").attr({id:"fancybox-img",src:F.src,alt:n.title}).appendTo(g);ia()};F.src=ja;break;case "swf":n.scrolling="no";Wa='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+
n.width+'" height="'+n.height+'"><param name="movie" value="'+ja+'"></param>';$a="";a.each(n.swf,function(Xa,ib){Wa+='<param name="'+Xa+'" value="'+ib+'"></param>';$a+=" "+Xa+'="'+ib+'"'});Wa+='<embed src="'+ja+'" type="application/x-shockwave-flash" width="'+n.width+'" height="'+n.height+'"'+$a+"></embed></object>";g.html(Wa);Q();break;case "ajax":T=false;a.fancybox.showActivity();n.ajax.win=n.ajax.success;E=a.ajax(a.extend({},n.ajax,{url:ja,data:n.ajax.data||{},error:function(Xa){Xa.status>0&&Y()},
success:function(Xa,ib,jb){if((typeof jb=="object"?jb:E).status==200){if(typeof n.ajax.win=="function"){Va=n.ajax.win(ja,Xa,ib,jb);if(Va===false){s.hide();return}else if(typeof Va=="string"||typeof Va=="object")Xa=Va}g.html(Xa);Q()}}}));break;case "iframe":ia()}}else Y()}},Q=function(){var X=n.width,ja=n.height;X=X.toString().indexOf("%")>-1?parseInt((a(window).width()-n.margin*2)*parseFloat(X)/100,10)+"px":X=="auto"?"auto":X+"px";ja=ja.toString().indexOf("%")>-1?parseInt((a(window).height()-n.margin*
2)*parseFloat(ja)/100,10)+"px":ja=="auto"?"auto":ja+"px";g.wrapInner('<div style="width:'+X+";height:"+ja+";overflow: "+(n.scrolling=="auto"?"auto":n.scrolling=="yes"?"scroll":"hidden")+';position:relative;"></div>');n.width=g.width();n.height=g.height();ia()},ia=function(){var X,ja;s.hide();if(q.is(":visible")&&false===j.onCleanup(v,h,j)){a.event.trigger("fancybox-cancel");T=false}else{T=true;a(e.add(k)).unbind();a(window).unbind("resize.fb scroll.fb");a(document).unbind("keydown.fb");q.is(":visible")&&
j.titlePosition!=="outside"&&q.css("height",q.height());v=f;h=x;j=n;if(j.overlayShow){k.css({"background-color":j.overlayColor,opacity:j.overlayOpacity,cursor:j.hideOnOverlayClick?"pointer":"auto",height:a(document).height()});if(!k.is(":visible")){N&&a("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});k.show()}}else k.hide();ba=Ga();ha=j.title||"";V=0;w.empty().removeAttr("style").removeClass();
if(j.titleShow!==false){if(a.isFunction(j.titleFormat))X=j.titleFormat(ha,v,h,j);else X=ha&&ha.length?j.titlePosition=="float"?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+ha+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+j.titlePosition+'">'+ha+"</div>":false;ha=X;if(!(!ha||ha==="")){w.addClass("fancybox-title-"+j.titlePosition).html(ha).appendTo("body").show();
switch(j.titlePosition){case "inside":w.css({width:ba.width-j.padding*2,marginLeft:j.padding,marginRight:j.padding});V=w.outerHeight(true);w.appendTo(c);ba.height+=V;break;case "over":w.css({marginLeft:j.padding,width:ba.width-j.padding*2,bottom:j.padding}).appendTo(c);break;case "float":w.css("left",parseInt((w.width()-ba.width-40)/2,10)*-1).appendTo(q);break;default:w.css({width:ba.width-j.padding*2,paddingLeft:j.padding,paddingRight:j.padding}).appendTo(q)}}}w.hide();if(q.is(":visible")){a(o.add(A).add(B)).hide();
X=q.position();S={top:X.top,left:X.left,width:q.width(),height:q.height()};ja=S.width==ba.width&&S.height==ba.height;e.fadeTo(j.changeFade,0.3,function(){var Ea=function(){e.html(g.contents()).fadeTo(j.changeFade,1,na)};a.event.trigger("fancybox-change");e.empty().removeAttr("filter").css({"border-width":j.padding,width:ba.width-j.padding*2,height:n.autoDimensions?"auto":ba.height-V-j.padding*2});if(ja)Ea();else{H.prop=0;a(H).animate({prop:1},{duration:j.changeSpeed,easing:j.easingChange,step:Aa,
complete:Ea})}})}else{q.removeAttr("style");e.css("border-width",j.padding);if(j.transitionIn=="elastic"){S=ua();e.html(g.contents());q.show();if(j.opacity)ba.opacity=0;H.prop=0;a(H).animate({prop:1},{duration:j.speedIn,easing:j.easingIn,step:Aa,complete:na})}else{j.titlePosition=="inside"&&V>0&&w.show();e.css({width:ba.width-j.padding*2,height:n.autoDimensions?"auto":ba.height-V-j.padding*2}).html(g.contents());q.css(ba).fadeIn(j.transitionIn=="none"?0:j.speedIn,na)}}}},la=function(){if(j.enableEscapeButton||
j.enableKeyboardNav)a(document).bind("keydown.fb",function(X){if(X.keyCode==27&&j.enableEscapeButton){X.preventDefault();a.fancybox.close()}else if((X.keyCode==37||X.keyCode==39)&&j.enableKeyboardNav&&X.target.tagName!=="INPUT"&&X.target.tagName!=="TEXTAREA"&&X.target.tagName!=="SELECT"){X.preventDefault();a.fancybox[X.keyCode==37?"prev":"next"]()}});if(j.showNavArrows){if(j.cyclic&&v.length>1||h!==0)A.show();if(j.cyclic&&v.length>1||h!=v.length-1)B.show()}else{A.hide();B.hide()}},na=function(){if(!a.support.opacity){e.get(0).style.removeAttribute("filter");
q.get(0).style.removeAttribute("filter")}n.autoDimensions&&e.css("height","auto");q.css("height","auto");ha&&ha.length&&w.show();j.showCloseButton&&o.show();la();j.hideOnContentClick&&e.bind("click",a.fancybox.close);j.hideOnOverlayClick&&k.bind("click",a.fancybox.close);a(window).bind("resize.fb",a.fancybox.resize);j.centerOnScroll&&a(window).bind("scroll.fb",a.fancybox.center);if(j.type=="iframe")a('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+
(a.browser.msie?'allowtransparency="true""':"")+' scrolling="'+n.scrolling+'" src="'+j.href+'"></iframe>').appendTo(e);q.show();T=false;a.fancybox.center();j.onComplete(v,h,j);var X,ja;if(v.length-1>h){X=v[h+1].href;if(typeof X!=="undefined"&&X.match(K)){ja=new Image;ja.src=X}}if(h>0){X=v[h-1].href;if(typeof X!=="undefined"&&X.match(K)){ja=new Image;ja.src=X}}},Aa=function(X){var ja={width:parseInt(S.width+(ba.width-S.width)*X,10),height:parseInt(S.height+(ba.height-S.height)*X,10),top:parseInt(S.top+
(ba.top-S.top)*X,10),left:parseInt(S.left+(ba.left-S.left)*X,10)};if(typeof ba.opacity!=="undefined")ja.opacity=X<0.5?0.5:X;q.css(ja);e.css({width:ja.width-j.padding*2,height:ja.height-V*X-j.padding*2})},Da=function(){return[a(window).width()-j.margin*2,a(window).height()-j.margin*2,a(document).scrollLeft()+j.margin,a(document).scrollTop()+j.margin]},Ga=function(){var X=Da(),ja={},Ea=j.autoScale,Ia=j.padding*2;ja.width=j.width.toString().indexOf("%")>-1?parseInt(X[0]*parseFloat(j.width)/100,10):j.width+
Ia;ja.height=j.height.toString().indexOf("%")>-1?parseInt(X[1]*parseFloat(j.height)/100,10):j.height+Ia;if(Ea&&(ja.width>X[0]||ja.height>X[1]))if(n.type=="image"||n.type=="swf"){Ea=j.width/j.height;if(ja.width>X[0]){ja.width=X[0];ja.height=parseInt((ja.width-Ia)/Ea+Ia,10)}if(ja.height>X[1]){ja.height=X[1];ja.width=parseInt((ja.height-Ia)*Ea+Ia,10)}}else{ja.width=Math.min(ja.width,X[0]);ja.height=Math.min(ja.height,X[1])}ja.top=parseInt(Math.max(X[3]-20,X[3]+(X[1]-ja.height-40)*0.5),10);ja.left=parseInt(Math.max(X[2]-
20,X[2]+(X[0]-ja.width-40)*0.5),10);return ja},ua=function(){var X=n.orig?a(n.orig):false,ja={};if(X&&X.length){ja=X.offset();ja.top+=parseInt(X.css("paddingTop"),10)||0;ja.left+=parseInt(X.css("paddingLeft"),10)||0;ja.top+=parseInt(X.css("border-top-width"),10)||0;ja.left+=parseInt(X.css("border-left-width"),10)||0;ja.width=X.width();ja.height=X.height();ja={width:ja.width+j.padding*2,height:ja.height+j.padding*2,top:ja.top-j.padding-20,left:ja.left-j.padding-20}}else{X=Da();ja={width:j.padding*
2,height:j.padding*2,top:parseInt(X[3]+X[1]*0.5,10),left:parseInt(X[2]+X[0]*0.5,10)}}return ja},qa=function(){if(s.is(":visible")){a("div",s).css("top",W*-40+"px");W=(W+1)%12}else clearInterval(U)};a.fn.fancybox=function(X){if(!a(this).length)return this;a(this).data("fancybox",a.extend({},X,a.metadata?a(this).metadata():{})).unbind("click.fb").bind("click.fb",function(ja){ja.preventDefault();if(!T){T=true;a(this).blur();f=[];x=0;ja=a(this).attr("rel")||"";if(!ja||ja==""||ja==="nofollow")f.push(this);
else{f=a("a[rel="+ja+"], area[rel="+ja+"]");x=f.index(this)}R()}});return this};a.fancybox=function(X,ja){var Ea;if(!T){T=true;Ea=typeof ja!=="undefined"?ja:{};f=[];x=parseInt(Ea.index,10)||0;if(a.isArray(X)){for(var Ia=0,Wa=X.length;Ia<Wa;Ia++)if(typeof X[Ia]=="object")a(X[Ia]).data("fancybox",a.extend({},Ea,X[Ia]));else X[Ia]=a({}).data("fancybox",a.extend({content:X[Ia]},Ea));f=jQuery.merge(f,X)}else{if(typeof X=="object")a(X).data("fancybox",a.extend({},Ea,X));else X=a({}).data("fancybox",a.extend({content:X},
Ea));f.push(X)}if(x>f.length||x<0)x=0;R()}};a.fancybox.showActivity=function(){clearInterval(U);s.show();U=setInterval(qa,66)};a.fancybox.hideActivity=function(){s.hide()};a.fancybox.next=function(){return a.fancybox.pos(h+1)};a.fancybox.prev=function(){return a.fancybox.pos(h-1)};a.fancybox.pos=function(X){if(!T){X=parseInt(X);f=v;if(X>-1&&X<v.length){x=X;R()}else if(j.cyclic&&v.length>1){x=X>=v.length?0:v.length-1;R()}}};a.fancybox.cancel=function(){if(!T){T=true;a.event.trigger("fancybox-cancel");
r();n.onCancel(f,x,n);T=false}};a.fancybox.close=function(){function X(){k.fadeOut("fast");w.empty().hide();q.hide();a.event.trigger("fancybox-cleanup");e.empty();j.onClosed(v,h,j);v=n=[];h=x=0;j=n={};T=false}if(!(T||q.is(":hidden"))){T=true;if(j&&false===j.onCleanup(v,h,j))T=false;else{r();a(o.add(A).add(B)).hide();a(e.add(k)).unbind();a(window).unbind("resize.fb scroll.fb");a(document).unbind("keydown.fb");e.find("iframe").attr("src",N&&/^https/i.test(window.location.href||"")?"javascript:void(false)":
"about:blank");j.titlePosition!=="inside"&&w.empty();q.stop();if(j.transitionOut=="elastic"){S=ua();var ja=q.position();ba={top:ja.top,left:ja.left,width:q.width(),height:q.height()};if(j.opacity)ba.opacity=1;w.empty().hide();H.prop=1;a(H).animate({prop:0},{duration:j.speedOut,easing:j.easingOut,step:Aa,complete:X})}else q.fadeOut(j.transitionOut=="none"?0:j.speedOut,X)}}};a.fancybox.resize=function(){k.is(":visible")&&k.css("height",a(document).height());a.fancybox.center(true)};a.fancybox.center=
function(X){var ja,Ea;if(!T){Ea=X===true?1:0;ja=Da();!Ea&&(q.width()>ja[0]||q.height()>ja[1])||q.stop().animate({top:parseInt(Math.max(ja[3]-20,ja[3]+(ja[1]-e.height()-40)*0.5-j.padding)),left:parseInt(Math.max(ja[2]-20,ja[2]+(ja[0]-e.width()-40)*0.5-j.padding))},typeof X=="number"?X:200)}};a.fancybox.init=function(){if(!a("#fancybox-wrap").length){a("body").append(g=a('<div id="fancybox-tmp"></div>'),s=a('<div id="fancybox-loading"><div></div></div>'),k=a('<div id="fancybox-overlay"></div>'),q=a('<div id="fancybox-wrap"></div>'));
c=a('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(q);c.append(e=a('<div id="fancybox-content"></div>'),
o=a('<a id="fancybox-close"></a>'),w=a('<div id="fancybox-title"></div>'),A=a('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),B=a('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));o.click(a.fancybox.close);s.click(a.fancybox.cancel);A.click(function(X){X.preventDefault();a.fancybox.prev()});B.click(function(X){X.preventDefault();a.fancybox.next()});a.fn.mousewheel&&q.bind("mousewheel.fb",
function(X,ja){if(T)X.preventDefault();else if(a(X.target).get(0).clientHeight==0||a(X.target).get(0).scrollHeight===a(X.target).get(0).clientHeight){X.preventDefault();a.fancybox[ja>0?"prev":"next"]()}});a.support.opacity||q.addClass("fancybox-ie");if(N){s.addClass("fancybox-ie6");q.addClass("fancybox-ie6");a('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(c)}}};
a.fn.fancybox.defaults={padding:10,margin:40,opacity:false,modal:false,cyclic:false,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.7,overlayColor:"#777",titleShow:true,titlePosition:"float",titleFormat:null,titleFromAlt:false,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",
easingOut:"swing",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,enableKeyboardNav:true,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};a(document).ready(function(){a.fancybox.init()})})(jQuery);
(function(a){var g=function(o,w){var A,B,x,n,f;x=o&2147483648;n=w&2147483648;A=o&1073741824;B=w&1073741824;f=(o&1073741823)+(w&1073741823);if(A&B)return f^2147483648^x^n;return A|B?f&1073741824?f^3221225472^x^n:f^1073741824^x^n:f^x^n},s=function(o,w,A,B,x,n,f){o=g(o,g(g(w&A|~w&B,x),f));return g(o<<n|o>>>32-n,w)},k=function(o,w,A,B,x,n,f){o=g(o,g(g(w&B|A&~B,x),f));return g(o<<n|o>>>32-n,w)},q=function(o,w,A,B,x,n,f){o=g(o,g(g(w^A^B,x),f));return g(o<<n|o>>>32-n,w)},c=function(o,w,A,B,x,n,f){o=g(o,
g(g(A^(w|~B),x),f));return g(o<<n|o>>>32-n,w)},e=function(o){var w="",A="",B;for(B=0;B<=3;B++){A=o>>>B*8&255;A="0"+A.toString(16);w+=A.substr(A.length-2,2)}return w};a.extend({md5:function(o){var w=[],A,B,x,n,f,h,j,v;w=o;w=w.replace(/\x0d\x0a/g,"\n");o="";for(A=0;A<w.length;A++){B=w.charCodeAt(A);if(B<128)o+=String.fromCharCode(B);else{if(B>127&&B<2048)o+=String.fromCharCode(B>>6|192);else{o+=String.fromCharCode(B>>12|224);o+=String.fromCharCode(B>>6&63|128)}o+=String.fromCharCode(B&63|128)}}w=o=
o;o=w.length;A=o+8;B=((A-A%64)/64+1)*16;x=Array(B-1);for(f=n=0;f<o;){A=(f-f%4)/4;n=f%4*8;x[A]|=w.charCodeAt(f)<<n;f++}A=(f-f%4)/4;n=f%4*8;x[A]|=128<<n;x[B-2]=o<<3;x[B-1]=o>>>29;w=x;f=1732584193;h=4023233417;j=2562383102;v=271733878;for(o=0;o<w.length;o+=16){A=f;B=h;x=j;n=v;f=s(f,h,j,v,w[o+0],7,3614090360);v=s(v,f,h,j,w[o+1],12,3905402710);j=s(j,v,f,h,w[o+2],17,606105819);h=s(h,j,v,f,w[o+3],22,3250441966);f=s(f,h,j,v,w[o+4],7,4118548399);v=s(v,f,h,j,w[o+5],12,1200080426);j=s(j,v,f,h,w[o+6],17,2821735955);
h=s(h,j,v,f,w[o+7],22,4249261313);f=s(f,h,j,v,w[o+8],7,1770035416);v=s(v,f,h,j,w[o+9],12,2336552879);j=s(j,v,f,h,w[o+10],17,4294925233);h=s(h,j,v,f,w[o+11],22,2304563134);f=s(f,h,j,v,w[o+12],7,1804603682);v=s(v,f,h,j,w[o+13],12,4254626195);j=s(j,v,f,h,w[o+14],17,2792965006);h=s(h,j,v,f,w[o+15],22,1236535329);f=k(f,h,j,v,w[o+1],5,4129170786);v=k(v,f,h,j,w[o+6],9,3225465664);j=k(j,v,f,h,w[o+11],14,643717713);h=k(h,j,v,f,w[o+0],20,3921069994);f=k(f,h,j,v,w[o+5],5,3593408605);v=k(v,f,h,j,w[o+10],9,38016083);
j=k(j,v,f,h,w[o+15],14,3634488961);h=k(h,j,v,f,w[o+4],20,3889429448);f=k(f,h,j,v,w[o+9],5,568446438);v=k(v,f,h,j,w[o+14],9,3275163606);j=k(j,v,f,h,w[o+3],14,4107603335);h=k(h,j,v,f,w[o+8],20,1163531501);f=k(f,h,j,v,w[o+13],5,2850285829);v=k(v,f,h,j,w[o+2],9,4243563512);j=k(j,v,f,h,w[o+7],14,1735328473);h=k(h,j,v,f,w[o+12],20,2368359562);f=q(f,h,j,v,w[o+5],4,4294588738);v=q(v,f,h,j,w[o+8],11,2272392833);j=q(j,v,f,h,w[o+11],16,1839030562);h=q(h,j,v,f,w[o+14],23,4259657740);f=q(f,h,j,v,w[o+1],4,2763975236);
v=q(v,f,h,j,w[o+4],11,1272893353);j=q(j,v,f,h,w[o+7],16,4139469664);h=q(h,j,v,f,w[o+10],23,3200236656);f=q(f,h,j,v,w[o+13],4,681279174);v=q(v,f,h,j,w[o+0],11,3936430074);j=q(j,v,f,h,w[o+3],16,3572445317);h=q(h,j,v,f,w[o+6],23,76029189);f=q(f,h,j,v,w[o+9],4,3654602809);v=q(v,f,h,j,w[o+12],11,3873151461);j=q(j,v,f,h,w[o+15],16,530742520);h=q(h,j,v,f,w[o+2],23,3299628645);f=c(f,h,j,v,w[o+0],6,4096336452);v=c(v,f,h,j,w[o+7],10,1126891415);j=c(j,v,f,h,w[o+14],15,2878612391);h=c(h,j,v,f,w[o+5],21,4237533241);
f=c(f,h,j,v,w[o+12],6,1700485571);v=c(v,f,h,j,w[o+3],10,2399980690);j=c(j,v,f,h,w[o+10],15,4293915773);h=c(h,j,v,f,w[o+1],21,2240044497);f=c(f,h,j,v,w[o+8],6,1873313359);v=c(v,f,h,j,w[o+15],10,4264355552);j=c(j,v,f,h,w[o+6],15,2734768916);h=c(h,j,v,f,w[o+13],21,1309151649);f=c(f,h,j,v,w[o+4],6,4149444226);v=c(v,f,h,j,w[o+11],10,3174756917);j=c(j,v,f,h,w[o+2],15,718787259);h=c(h,j,v,f,w[o+9],21,3951481745);f=g(f,A);h=g(h,B);j=g(j,x);v=g(v,n)}return(e(f)+e(h)+e(j)+e(v)).toLowerCase()}})})(jQuery);
(function(a){a.fn.pjax=function(k,q){if(q)q.container=k;else q=a.isPlainObject(k)?k:{container:k};if(q.container&&typeof q.container!=="string")throw"pjax container must be a string selector!";return this.live("click",function(c){if(c.which>1||c.metaKey)return true;var e={url:this.href,container:a(this).attr("data-pjax"),clickedElement:a(this),fragment:null};a.pjax(a.extend({},e,q));c.preventDefault()})};a.pjax=function(k){var q=a(k.container),c=k.success||a.noop;delete k.success;if(typeof k.container!==
"string")throw"pjax container must be a string selector!";k=a.extend(true,{},{timeout:650,push:true,replace:false,data:{_pjax:true},type:"GET",dataType:"html",beforeSend:function(o){q.trigger("start.pjax");o.setRequestHeader("X-PJAX","true")},error:function(){window.location=k.url},complete:function(){q.trigger("end.pjax")},success:function(o){if(k.fragment){var w=a(o).find(k.fragment);if(w.length)o=w.children();else return window.location=k.url}else if(!a.trim(o)||/<html/i.test(o))return window.location=
k.url;q.html(this.dataType==="json"?o.html:o);w=document.title;var A=a.trim(q.find("title").remove().text());if(A)document.title=A;A={pjax:k.container,fragment:k.fragment,timeout:k.timeout};var B=a.param(k.data);if(B!="_pjax=true")A.url=k.url+(/\?/.test(k.url)?"&":"?")+B;if(k.replace)window.history.replaceState(A,document.title,k.url);else if(k.push){if(!a.pjax.active){window.history.replaceState(a.extend({},A,{url:null}),w);a.pjax.active=true}window.history.pushState(A,document.title,k.url)}if((k.replace||
k.push)&&window._gaq)_gaq.push(["_trackPageview"]);w=window.location.hash.toString();if(w!=="")window.location.href=w;c.apply(this,arguments)}},k);if(a.isFunction(k.url))k.url=k.url();var e=a.pjax.xhr;if(e&&e.readyState<4){e.onreadystatechange=a.noop;e.abort()}a.pjax.xhr=a.ajax(k);a(document).trigger("pjax",a.pjax.xhr,k);return a.pjax.xhr};var g="state"in window.history,s=location.href;a(window).bind("popstate",function(k){var q=!g&&location.href==s;g=true;if(!q)if((k=k.state)&&k.pjax){q=k.pjax;if(a(q+
"").length)a.pjax({url:k.url||location.href,fragment:k.fragment,container:q,push:false,timeout:k.timeout});else window.location=location.href}});a.inArray("state",a.event.props)<0&&a.event.props.push("state");a.support.pjax=Boolean(window.history&&window.history.pushState&&window.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(navigator.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(navigator.userAgent)));if(!a.support.pjax){a.pjax=function(k){window.location=a.isFunction(k.url)?
k.url():k.url};a.fn.pjax=function(){return this}}})(jQuery);
jQuery(function(a){var g=a.cookie,s=BB.utils.guard;s("#repobox",function(k){var q=BB.user.follows&&BB.user.follows.repos,c=BB.api.endpoint("user","repositories","dashboard"),e=k.find("#repolist"),o=[],w=[],A=[],B=a("#repobox #quicksearch"),x=a("#repobox #repo-list-spinner");a.ajax({url:c.url(),success:function(n){for(var f=0,h=0;h<n.length;h++){var j=n[h][0],v=n[h][1],E=a("<ol>",{"class":"user-cont"}).appendTo(e),F=a("<li>").appendTo(E);E=g("hide-"+n[h][0].username);a("<a>").addClass("user-repos").addClass(E?
"folded":"unfolded").text(j.username).appendTo(a("<h3>").appendTo(F));F=a("<ol>").attr("id","repos-"+j.username).appendTo(F);for(var K=0;K<v.length;K++){var G=a("<li>",{"data-url":v[K].absolute_url,"data-slug":v[K].slug,"data-owner":j.username,"class":"listrepo"}).appendTo(F);G.addClass(v[K].owner==BB.user.username?"owner":"other");G.addClass(v[K].is_private?"private":"public");a("<a>",{href:v[K].absolute_url}).text(v[K].name).appendTo(G);a("<a>",{href:"#","class":"follow"}).appendTo(G);q.indexOf(parseInt(v[K]._pk).toString())>
-1&&G.addClass("following").parent().addClass("following");v[K].fork&&a("<a>",{href:v[K].fork,title:v[K].fork,"class":"fork"}).appendTo(G);++f}E&&F.toggle()}o=e.find("li.listrepo");A=e.find("ol.user-cont");a("#repocount").text(f);x.hide()}});a(".user-repos").live("click",function(){var n=a(this),f=a("#repos-"+n.text());g("hide-"+n.text(),f.is(":visible")||null,{expires:365});if(f.is(":visible"))f.hide()&&n.removeClass("unfolded").addClass("folded");else f.show()&&n.removeClass("folded").addClass("unfolded");
w=[]});a(document).keyup(function(n){if(B&&n.which==191){B.focus();B.val()==""&&n.preventDefault()}});B.keyup(function(n){switch(n.which){case a.ui.keyCode.ESCAPE:B.val("").blur()&&o.removeClass("selected").show();break;case a.ui.keyCode.DOWN:case a.ui.keyCode.UP:var f=e.find("li.listrepo:visible"),h=e.find("li.listrepo.selected:visible"),j=f.index(h);n=-1+(n.which==a.ui.keyCode.DOWN)*2;if(j>-1)h.removeClass("selected")&&a(f[j+n]).addClass("selected");else a(f[n>-1?0:f.length-1]).addClass("selected");
break;case a.ui.keyCode.ENTER:h=e.find("li.listrepo.selected:visible");if(h.length)window.location.href=h.attr("data-url");break;default:var v=a.trim(B.val().toLowerCase()),E=[],F=null;if(v.indexOf("/")!=-1){f=v.split("/",2);F=f[0]||null;v=f[1]||""}o.removeClass("selected").hide();if(!v)if(F)o.each(function(){this.getAttribute("data-owner").score(F)>0.1&&a(this).show()});else return o.show();w.length||o.each(function(){w.push([this.getAttribute("data-owner"),this.innerText.toLowerCase()])});a.each(w,
function(K){if(!F||this[0].score(F)>0.1){var G=this[1].score(v);G>0.1&&E.push([G,K])}});a.each(E.sort(function(){}),function(){a(o[this[1]]).show()})}A.show();A.each(function(){var K=a(this);K.find("li>ol>li.listrepo:visible").length?K.show():K.hide()})})});s("#dashboard #relevant-repos.oldstylerepos",function(k){var q,c=BB.user.follows&&BB.user.follows.repos;if(c!==void 0){a(_.map(c,function(e){return"#id_repo_"+e+" a.follow"}).join()).addClass("following").parent().addClass("following");c=g("following-only")?
(k.addClass("following-only"),"Show all"):"Show following only";q=a("<a>").attr("href","#toggle").attr("id","following-only").attr("title",c).text(c).insertAfter(k.children("h2")).click(function(e){k.toggleClass("following-only");if(k.hasClass("following-only")){q.attr("title","Show all").text("Show all");g("following-only",1,{expires:365})}else{q.attr("title","Show following only").text("Show following only");g("following-only",null)}e.preventDefault()})}})});
jQuery(function(a){var g=BB.api.endpoint("emails"),s=BB.utils,k=s.decorate,q=s.guard,c=s.PUT,e=s.template,o=BB.views;a(".pending-address").each(function(w,A){var B=a(A).find("input[type=button]"),x=function(n,f){return function(h){h.preventDefault();c({url:g.endpoint(n).url(),success:function(){f.attr("disabled",true)}})}}(a(A).find("input[type=hidden]").attr("value"),B);B.click(x)});q("#account-emails-template",function(w){var A=Backbone.Model.extend({url:function(){return g.endpoint(this.get("email")).url()},
initialize:function(f){this.set({id:f.email})}}),B=new (Backbone.Collection.extend({model:A,url:g.url(),comparator:function(f){return(f.get("primary")?0:f.get("active")?1:2)+f.get("email").toLowerCase()}})),x=Backbone.View.extend({tagName:"li",template:e(w.html()),events:{'click [href="#delete"]':"clear",'click [href="#resend"]':"resend",'click [href="#set-as-primary"]':"setAsPrimary"},initialize:function(){_.bindAll(this,"render");this.model.bind("change",this.render);this.model.view=this},render:function(){a(this.el).html(this.template(this.model.toJSON()));
return this},remove:function(){var f=a(this.el).slideUp(function(){f.remove()})},markSent:function(){a(this.el).find(".status").addClass("sent").hide().html("confirmation sent").fadeIn("slow")},resend:function(f){f.preventDefault();this.model.save();this.markSent();return this},clear:function(f){f.preventDefault();var h=this;this.model.destroy({success:function(j){h.remove();B.remove(j)},error:function(j,v){var E=v.responseText;E=E?E.substr(0,140):"An unknown error occurred.";h.warningMessage.render(E)}});
return this},setAsPrimary:function(f){f.preventDefault();this.model.get("email");n.addLoading();this.model.save({primary:true},{success:function(){n.fetchAndRender()}})}}),n=new (Backbone.View.extend({el:a("#account-settings-email-pane"),events:{"submit form":"create"},collection:null,initialize:function(){var f=this.el;this.$list=this.$("#account-settings-emails");this.$form=this.$("#account-settings-add-email");this.$emailAddress=this.$("#account-settings-email-input");this.hasEmail=e(a("#account-has-email").html());
this.submitDisabled=false;this.warningMessage=new o.WarningMessage({insert:function(h){f.prepend(h)}});this.fetchAndRender()},fetchAndRender:function(){var f=this;B.fetch({success:function(h){f.collection=h;f.render()}})},addLoading:function(){this.$list.html("<li>Loading&hellip;</li>")},render:function(){var f=this;this.$list.html(this.collection.reduce(function(h,j){var v=new x({model:j});v.warningMessage=f.warningMessage;return h.add(v.render().el)},a()));return this},create:function(f){function h(){v.submitDisabled=
false;window.clearTimeout(E);v.$form.removeClass("loading")}f.preventDefault();var j=this.$emailAddress.val().trim(),v=this,E;if(!(this.submitDisabled||!j))if(f=B.get(j.toLowerCase()))this.warningMessage.render(this.hasEmail(f.toJSON()));else{this.submitDisabled=true;E=BB.delay(400,function(){v.$form.addClass("loading")});c({url:g.endpoint(j).url(),error:k(h,function(F){return v.warningMessage.render(F.responseText)}),success:k(h,function(F){var K,G=new A(F),U=new x({model:G});U.warningMessage=v.warningMessage;
B.add(G);v.warningMessage.remove(function(){var W=a(U.render().el);(K=v.$list.children()[B.indexOf(G)])?W.hide().insertBefore(K):W.hide().appendTo(v.$list);U.markSent();W.fadeIn("slow");v.$emailAddress.val("")})})})}}}))})});
jQuery(function(a){var g;g=BB.utils.guard;return g("#downloads",function(s){var k,q;k=a("#downloads-count");q=+k.text();s.find("a[data-id]").click(function(c){var e;c.preventDefault();e=a(this);if(confirm('Permanently delete "'+e.data("filename")+'"?')){e.addClass("deleting");c=e.data("id");return a.post(e.attr("href"),{file_id:c},function(){var o;o=e.closest("tr");if(o.siblings().length){o.remove();return k.text(q-=1)}else return window.location.reload()})}});return g("#new-download",function(c){var e,
o,w,A;A=c.find("#content-type");e=c.find("#file");w=c.find("#key");o=a(a("<div>").append(w.clone()).html().replace(/[ ]type=".+?"/,' type="hidden"')).replaceAll(w);o.parent().hide();e.change(function(){return c.find(".submit").show()});return c.submit(function(){var B;B=e.val().match(/[^\/\\]*$/)[0];A.val(a.ajax({url:"/site/mimeguess/"+B,async:false,dataType:"json"}).responseText);return o[0].value+=B})})})});
(function(a){a.fn.markItUp=function(g,s){var k,q,c,e;q=c=e=false;k={id:"",nameSpace:"",root:"",previewInWindow:"",previewAutoRefresh:true,previewPosition:"after",previewTemplatePath:"~/templates/preview.html",previewParserPath:"",previewParserVar:"data",resizeHandle:true,beforeInsert:"",afterInsert:"",onEnter:{},onShiftEnter:{},onCtrlEnter:{},onTab:{},markupSet:[{}]};a.extend(k,g,s);k.root||a("script").each(function(o,w){miuScript=a(w).get(0).src.match(/(.*)jquery\.markitup(\.pack)?\.js$/);if(miuScript!==
null)k.root=miuScript[1]});return this.each(function(){function o(Q,ia){if(ia)return Q.replace(/("|')~\//g,"$1"+k.root);return Q.replace(/^~\//,k.root)}function w(Q){var ia=a("<ul></ul>"),la=0;a("li:hover > ul",ia).css("display","block");a.each(Q,function(){var na=this,Aa="",Da,Ga;Da=na.key?(na.name||"")+" [Ctrl+"+na.key+"]":na.name||"";key=na.key?'accesskey="'+na.key+'"':"";if(na.separator)Aa=a('<li class="markItUpSeparator">'+(na.separator||"")+"</li>").appendTo(ia);else{la++;for(Ga=W.length-1;Ga>=
0;Ga--)Aa+=W[Ga]+"-";Aa=a('<li class="markItUpButton markItUpButton'+Aa+la+" "+(na.className||"")+'"><a href="" '+key+' title="'+Da+'">'+(na.name||"")+"</a></li>").bind("contextmenu",function(){return false}).click(function(){return false}).bind("focusin",function(){G.focus()}).mousedown(function(){na.call&&eval(na.call)();setTimeout(function(){n(na)},1);return false}).hover(function(){a("> ul",this).show();a(document).one("click",function(){a("ul ul",H).hide()})},function(){a("> ul",this).hide()}).appendTo(ia);
if(na.dropMenu){W.push(la);a(Aa).addClass("markItUpDropMenu").append(w(na.dropMenu))}}});W.pop();return ia}function A(Q){if(Q){Q=Q.toString();Q=Q.replace(/\(\!\(([\s\S]*?)\)\!\)/g,function(ia,la){var na=la.split("|!|");return e===true?na[1]!==undefined?na[1]:na[0]:na[1]===undefined?"":na[0]});Q=Q.replace(/\[\!\[([\s\S]*?)\]\!\]/g,function(ia,la){var na=la.split(":!:");if(R===true)return false;value=prompt(na[0],na[1]?na[1]:"");if(value===null)R=true;return value});return Q==="{{{\n#!\n\n"?Q.substr(0,
4):Q}return""}function B(Q){if(a.isFunction(Q))Q=Q(T);return A(Q)}function x(Q){openWith=B(ba.openWith);placeHolder=B(ba.placeHolder);replaceWith=B(ba.replaceWith);closeWith=B(ba.closeWith);block=replaceWith!==""?openWith+replaceWith+closeWith:selection===""&&placeHolder!==""?openWith+placeHolder+closeWith:openWith+(Q||selection)+closeWith;return{block:block,openWith:openWith,replaceWith:replaceWith,placeHolder:placeHolder,closeWith:closeWith}}function n(Q){var ia,la;T=ba=Q;v();a.extend(T,{line:"",
root:k.root,textarea:U,selection:selection||"",caretPosition:ha,ctrlKey:q,shiftKey:c,altKey:e});B(k.beforeInsert);B(ba.beforeInsert);q===true&&c===true&&B(ba.beforeMultiInsert);a.extend(T,{line:1});if(q===true&&c===true){lines=selection.split(/\r?\n/);Q=0;ia=lines.length;for(la=0;la<ia;la++)if(a.trim(lines[la])!==""){a.extend(T,{line:++Q,selection:lines[la]});lines[la]=x(lines[la]).block}else lines[la]="";string={block:lines.join("\n")};start=ha;Q=string.block.length+(a.browser.opera?ia-1:0)}else if(q===
true){string=x(selection);start=ha+string.openWith.length;Q=string.block.length-string.openWith.length-string.closeWith.length;Q-=h(string.block)}else if(c===true){string=x(selection);start=ha;Q=string.block.length;Q-=h(string.block)}else{string=x(selection);start=ha+string.block.length;Q=0;start-=h(string.block)}if(selection===""&&string.replaceWith===""){S+=f(string.block);start=ha+string.openWith.length;Q=string.block.length-string.openWith.length-string.closeWith.length;S=G.val().substring(ha,
G.val().length).length;S-=f(G.val().substring(0,ha))}a.extend(T,{caretPosition:ha,scrollPosition:V});if(string.block!==selection&&R===false){ia=string.block;if(document.selection)document.selection.createRange().text=ia;else U.value=U.value.substring(0,ha)+ia+U.value.substring(ha+selection.length,U.value.length);j(start,Q)}else S=-1;v();a.extend(T,{line:"",selection:selection});q===true&&c===true&&B(ba.afterMultiInsert);B(ba.afterInsert);B(k.afterInsert);r&&k.previewAutoRefresh&&E();c=e=q=R=false}
function f(Q){if(a.browser.opera)return Q.length-Q.replace(/\n*/g,"").length;return 0}function h(Q){if(a.browser.msie)return Q.length-Q.replace(/\r/g,"").length;return 0}function j(Q,ia){if(U.createTextRange){if(a.browser.opera&&a.browser.version>=9.5&&ia==0)return false;range=U.createTextRange();range.collapse(true);range.moveStart("character",Q);range.moveEnd("character",ia);range.select()}else U.setSelectionRange&&U.setSelectionRange(Q,Q+ia);U.scrollTop=V;U.focus()}function v(){U.focus();V=U.scrollTop;
if(document.selection){selection=document.selection;if(a.browser.msie){var Q=selection.createRange(),ia=Q.duplicate();ia.moveToElementText(U);ia.setEndPoint("EndToEnd",Q);ia=ia.text.length-Q.text.length;ha=ia-(U.value.substr(0,ia).length-U.value.substr(0,ia).replace(/\r/g,"").length);selection=Q.text}else ha=U.selectionStart}else{ha=U.selectionStart;selection=U.value.substring(ha,U.selectionEnd)}return selection}function E(){if(k.previewParserPath!=="")a.ajax({type:"POST",url:k.previewParserPath,
data:k.previewParserVar+"="+encodeURIComponent(G.val()),success:function(Q){F(o(Q,1))}});else Y||a.ajax({url:k.previewTemplatePath,success:function(Q){F(o(Q,1).replace(/<!-- content --\>/g,G.val()))}});return false}function F(Q){if(r.document){try{sp=r.document.documentElement.scrollTop}catch(ia){sp=0}r.document.open();r.document.write(Q);r.document.close();r.document.documentElement.scrollTop=sp}}function K(Q){c=Q.shiftKey;e=Q.altKey;q=!(Q.altKey&&Q.ctrlKey)?Q.ctrlKey:false;if(Q.type==="keydown"){if(q===
true){li=a("a[accesskey="+String.fromCharCode(Q.keyCode)+"]",H).parent("li");if(li.length!==0){q=false;setTimeout(function(){li.triggerHandler("mousedown")},1);return false}}if(Q.keyCode===13||Q.keyCode===10)if(q===true){q=false;n(k.onCtrlEnter);return k.onCtrlEnter.keepDefault}else if(c===true){c=false;n(k.onShiftEnter);return k.onShiftEnter.keepDefault}else{n(k.onEnter);return k.onEnter.keepDefault}if(Q.keyCode===9){if(c==true||q==true||e==true)return false;if(S!==-1){v();S=G.val().length-S;j(S,
0);S=-1;return false}else{n(k.onTab);return k.onTab.keepDefault}}}}var G,U,W,V,ha,S,ba,T,H,N,r,Y,R;G=a(this);U=this;W=[];R=false;V=ha=0;S=-1;k.previewParserPath=o(k.previewParserPath);k.previewTemplatePath=o(k.previewTemplatePath);(function(){nameSpace=id="";if(k.id)id='id="'+k.id+'"';else if(G.attr("id"))id='id="markItUp'+G.attr("id").substr(0,1).toUpperCase()+G.attr("id").substr(1)+'"';if(k.nameSpace)nameSpace='class="'+k.nameSpace+'"';G.wrap("<div "+nameSpace+"></div>");G.wrap("<div "+id+' class="markItUp"></div>');
G.wrap('<div class="markItUpContainer"></div>');G.addClass("markItUpEditor");H=a('<div class="markItUpHeader"></div>').insertBefore(G);a(w(k.markupSet)).appendTo(H);N=a('<div class="markItUpFooter"></div>').insertAfter(G);if(k.resizeHandle===true&&a.browser.safari!==true){resizeHandle=a('<div class="markItUpResizeHandle"></div>').insertAfter(G).bind("mousedown",function(Q){var ia=G.height(),la=Q.clientY,na,Aa;na=function(Da){G.css("height",Math.max(20,Da.clientY+ia-la)+"px");return false};Aa=function(){a("html").unbind("mousemove",
na).unbind("mouseup",Aa);return false};a("html").bind("mousemove",na).bind("mouseup",Aa)});N.append(resizeHandle)}G.keydown(K).keyup(K);G.bind("insertion",function(Q,ia){ia.target!==false&&v();U===a.markItUp.focused&&n(ia)});G.focus(function(){a.markItUp.focused=this})})()})};a.fn.markItUpRemove=function(){return this.each(function(){var g=a(this).unbind().removeClass("markItUpEditor");g.parent("div").parent("div.markItUp").parent("div").replaceWith(g)})};a.markItUp=function(g){var s={target:false};
a.extend(s,g);if(s.target)return a(s.target).each(function(){a(this).focus();a(this).trigger("insertion",[s])});else a("textarea").trigger("insertion",[s])}})(jQuery);
jQuery(function(){window.BB||(window.BB={});window.BB.markItUpSettings={previewParserPath:"",onShiftEnter:{keepDefault:false,replaceWith:"\n\n"},markupSet:[{name:"Heading 1",openWith:"== ",closeWith:" ==",placeHolder:"Your title here..."},{name:"Heading 2",openWith:"=== ",closeWith:" ===",placeHolder:"Your title here..."},{name:"Heading 3",openWith:"==== ",closeWith:" ====",placeHolder:"Your title here..."},{name:"Heading 4",openWith:"===== ",closeWith:" =====",placeHolder:"Your title here..."},{name:"Heading 5",
placeHolder:"Your title here..."},{separator:"---------------"},{name:"Bold",openWith:"**",closeWith:"**"},{name:"Italic",openWith:"//",closeWith:"//"},{separator:"---------------"},{name:"Bulleted list",openWith:"(!(* |!|*)!)"},{name:"Numeric list",openWith:"(!(# |!|#)!)"},{separator:"---------------"},{name:"Picture",replaceWith:"{{[![Url:!:http://]!]|[![name]!]}}"},{name:"Link",openWith:"[[[![Link]!]|",closeWith:"]]",placeHolder:"Your text to link here..."},{name:"Url",openWith:"[[[![Url:!:http://]!]|",
closeWith:"]]",placeHolder:"Your text to link here..."},{separator:"---------------"},{name:"Code",openWith:"(!({{{\n#![![Language:!:python]!]\n\n|!|<pre>)!)",closeWith:"(!(\n}}}|!|</pre>)!)"},{separator:"---------------"},{name:"Link to an issue",openWith:"<<issue [![Issue ID]!]",closeWith:">>"},{name:"Link to an issue query",openWith:"<<query [![Issue query:!:?status=open&status=new]!] ",closeWith:">>",placeHolder:"Descriptive link text here..."},{name:"List all issues for milestone",openWith:"<<milestone [![Milestone name]!]",
closeWith:">>"},{name:"List all issues for query",openWith:"<<issues [![Issue query:!:?status=open&status=new]!] ",closeWith:">>",placeHolder:"count|list|compact"},{name:"Link to a changeset",openWith:"<<changeset [![Changeset id]!]",closeWith:">>"},{name:"Link to a user",openWith:"<<user [![Username]!]",closeWith:">>"}]};window.BB.markItUpIssueSettings={previewParserPath:"",onShiftEnter:{keepDefault:false,replaceWith:"\n\n"},markupSet:[{name:"Heading 1",openWith:"== ",closeWith:" ==",placeHolder:"Your title here..."},
{name:"Heading 2",openWith:"=== ",closeWith:" ===",placeHolder:"Your title here..."},{name:"Heading 3",openWith:"==== ",closeWith:" ====",placeHolder:"Your title here..."},{name:"Heading 4",openWith:"===== ",closeWith:" =====",placeHolder:"Your title here..."},{name:"Heading 5",openWith:"====== ",closeWith:" ======",placeHolder:"Your title here..."},{separator:"---------------"},{name:"Bold",openWith:"**",closeWith:"**"},{name:"Italic",openWith:"//",closeWith:"//"},{separator:"---------------"},{name:"Bulleted list",
openWith:"(!(* |!|*)!)"},{name:"Numeric list",openWith:"(!(# |!|#)!)"},{separator:"---------------"},{name:"Code",openWith:"(!({{{\n#![![Language:!:python]!]\n\n|!|<pre>)!)",closeWith:"(!(\n}}}|!|</pre>)!)"},{separator:"---------------"},{name:"Link to an issue",openWith:"<<issue [![Issue ID]!]",closeWith:">>"},{name:"Link to an issue query",openWith:"<<query [![Issue query:!:?status=open&status=new]!] ",closeWith:">>",placeHolder:"Descriptive link text here..."},{name:"Link to a changeset",openWith:"<<changeset [![Changeset id]!]",
closeWith:">>"},{name:"Link to a user",openWith:"@[![Username]!]",closeWith:""}]}});if(!Parse)var Parse={};if(!Parse.Simple)Parse.Simple={};Parse.Simple.Base=function(a,g){if(arguments.length){this.root=new this.ruleConstructor(a);this.options=g}};Parse.Simple.Base.prototype={ruleConstructor:null,root:null,options:null,parse:function(a,g,s){if(s)for(i in this.options){if(typeof s[i]=="undefined")s[i]=this.options[i]}else s=this.options;this.root.apply(a,g,s)}};
Parse.Simple.Base.prototype.constructor=Parse.Simple.Base;Parse.Simple.Base.Rule=function(a){if(arguments.length){for(var g in a)this[g]=a[g];if(!this.children)this.children=[]}};Parse.Simple.Base.prototype.ruleConstructor=Parse.Simple.Base.Rule;
Parse.Simple.Base.Rule.prototype={regex:null,capture:null,replaceRegex:null,replaceString:null,tag:null,attrs:null,children:null,match:function(a){return a.match(this.regex)},build:function(a,g,s){var k;if(this.capture!==null)k=g[this.capture];if(this.tag){g=document.createElement(this.tag);a.appendChild(g)}else g=a;if(k){if(this.replaceRegex)k=k.replace(this.replaceRegex,this.replaceString);this.apply(g,k,s)}if(this.attrs)for(var q in this.attrs){g.setAttribute(q,this.attrs[q]);if(q=="class")g.className=
this.attrs[q]}return this},apply:function(a,g,s){g=""+g;var k=[];if(!this.fallback.apply)this.fallback=new this.constructor(this.fallback);for(;;){for(var q=false,c=false,e=0;e<this.children.length;e++){if(typeof k[e]=="undefined"){this.children[e].match||(this.children[e]=new this.constructor(this.children[e]));k[e]=this.children[e].match(g,s)}if(k[e]&&(!q||q.index>k[e].index)){q=k[e];c=this.children[e];if(q.index==0)break}}e=q?q.index:g.length;e>0&&this.fallback.apply(a,g.substring(0,e),s);if(!q)break;
c.build||(c=new this.constructor(c));c.build(a,q,s);q=q.index+q[0].length;g=g.substring(q);for(e=0;e<this.children.length;e++)if(k[e])if(k[e].index>=q)k[e].index-=q;else k[e]=void 0}return this},fallback:{apply:function(a,g){a.appendChild(document.createTextNode(g))}}};Parse.Simple.Base.Rule.prototype.constructor=Parse.Simple.Base.Rule;
Parse.Simple.Creole=function(a){var g={};g.link="[^\\]|~\\n]*(?:(?:\\](?!\\])|~.)[^\\]|~\\n]*)*";g.linkText="[^\\]~\\n]*(?:(?:\\](?!\\])|~.)[^\\]~\\n]*)*";g.uriPrefix="\\b(?:(?:https?|ftp)://|mailto:)";g.uri=g.uriPrefix+g.link;g.rawUri=g.uriPrefix+"\\S*[^\\s!\"',.:;?]";g.interwikiPrefix="[\\w.]+:";g.interwikiLink=g.interwikiPrefix+g.link;var s=function(q,c){c=c instanceof Array?c:[c];if(typeof c[1]=="undefined")c[1]="";return c[0]+q+c[1]},k={hr:{tag:"hr",regex:/(^|\n)\s*----\s*(\n|$)/},br:{tag:"br",
regex:/\\\\/},preBlock:{tag:"pre",capture:2,regex:/(^|\n)\{\{\{\n((.*\n)*?)\}\}\}(\n|$)/,replaceRegex:/^ ([ \t]*\}\}\})/gm,replaceString:"$1"},tt:{tag:"tt",regex:/\{\{\{(.*?\}\}\}+)/,capture:1,replaceRegex:/\}\}\}$/,replaceString:""},ulist:{tag:"ul",capture:0,regex:/(^|\n)([ \t]*\*[^*#].*(\n|$)([ \t]*[^\s*#].*(\n|$))*([ \t]*[*#]{2}.*(\n|$))*)+/},olist:{tag:"ol",capture:0,regex:/(^|\n)([ \t]*#[^*#].*(\n|$)([ \t]*[^\s*#].*(\n|$))*([ \t]*[*#]{2}.*(\n|$))*)+/},li:{tag:"li",capture:0,regex:/[ \t]*([*#]).+(\n[ \t]*[^*#\s].*)*(\n[ \t]*\1[*#].+)*/,
replaceRegex:/(^|\n)[ \t]*[*#]/g,replaceString:"$1"},table:{tag:"table",capture:0,regex:/(^|\n)(\|.*?[ \t]*(\n|$))+/},tr:{tag:"tr",capture:2,regex:/(^|\n)(\|.*?)\|?[ \t]*(\n|$)/},th:{tag:"th",regex:/\|+=([^|]*)/,capture:1},td:{tag:"td",capture:1,regex:/\|+([^|~]*(~(.|(?=\n)|$)[^|~]*)*)/},singleLine:{regex:/.+/,capture:0},paragraph:{tag:"p",capture:0,regex:/(^|\n)([ \t]*\S.*(\n|$))+/},text:{capture:0,regex:/(^|\n)([ \t]*[^\s].*(\n|$))+/},strong:{tag:"strong",capture:1,regex:/\*\*([^*~]*((\*(?!\*)|~(.|(?=\n)|$))[^*~]*)*)(\*\*|\n|$)/},
em:{tag:"em",capture:1,regex:"\\/\\/(((?!"+g.uriPrefix+")[^\\/~])*(("+g.rawUri+"|\\/(?!\\/)|~(.|(?=\\n)|$))((?!"+g.uriPrefix+")[^\\/~])*)*)(\\/\\/|\\n|$)"},img:{regex:"\\{\\{((?!\\{)[^|}\\n]*(?:}(?!})[^|}\\n]*)*)\\|([^}~\\n]*((}(?!})|~.)[^}~\\n]*)*)}}",build:function(q,c){var e=document.createElement("img");e.src=c[1];e.alt=c[2].replace(/~(.)/g,"$1");q.appendChild(e)}},namedUri:{regex:"\\[\\[("+g.uri+")\\|("+g.linkText+")\\]\\]",build:function(q,c,e){var o=document.createElement("a");o.href=c[1];
e&&e.isPlainUri?o.appendChild(document.createTextNode(c[2])):this.apply(o,c[2],e);q.appendChild(o)}},namedLink:{regex:"\\[\\[("+g.link+")\\|("+g.linkText+")\\]\\]",build:function(q,c,e){var o=document.createElement("a");o.href=e&&e.linkFormat?s(c[1].replace(/~(.)/g,"$1"),e.linkFormat):c[1].replace(/~(.)/g,"$1");this.apply(o,c[2],e);q.appendChild(o)}},bb_user:{regex:"<<user (.+)>>",build:function(q,c){var e=document.createElement("a"),o=document.createTextNode(c[1]);e.href="/"+c[1];e.className="tooltip";
e.appendChild(o);q.appendChild(e)}},bb_cset:{regex:"<<(changeset|cset) (.+)>>",build:function(q,c){var e=document.createElement("a"),o=document.createTextNode("r123:"+c[2]);e.href="#";e.className="tooltip";e.appendChild(o);q.appendChild(e)}},bb_issue:{regex:"<<issue (\\d+)>>",build:function(q,c){var e=document.createElement("a"),o=document.createTextNode("#"+c[1]);e.href="#";e.className="tooltip";e.appendChild(o);q.appendChild(e)}},unnamedUri:{regex:"\\[\\[("+g.uri+")\\]\\]",build:"dummy"},unnamedLink:{regex:"\\[\\[("+
g.link+")\\]\\]",build:"dummy"},unnamedInterwikiLink:{regex:"\\[\\[("+g.interwikiLink+")\\]\\]",build:"dummy"},rawUri:{regex:"("+g.rawUri+")",build:"dummy"},escapedSequence:{regex:"~("+g.rawUri+"|.)",capture:1,tag:"span",attrs:{"class":"escaped"}},escapedSymbol:{regex:/~(.)/,capture:1,tag:"span",attrs:{"class":"escaped"}}};k.unnamedUri.build=k.rawUri.build=function(q,c,e){e||(e={});e.isPlainUri=true;k.namedUri.build.call(this,q,[c[0],c[1],c[1]],e)};k.unnamedLink.build=function(q,c,e){k.namedLink.build.call(this,
q,[c[0],c[1],c[1]],e)};k.namedInterwikiLink={regex:"\\[\\[("+g.interwikiLink+")\\|("+g.linkText+")\\]\\]",build:function(q,c,e){var o=document.createElement("a"),w,A;if(e&&e.interwiki){w=c[1].match(/(.*?):(.*)/);A=e.interwiki[w[1]]}if(typeof A=="undefined"){if(!k.namedLink.apply)k.namedLink=new this.constructor(k.namedLink);return k.namedLink.build.call(k.namedLink,q,c,e)}o.href=s(w[2].replace(/~(.)/g,"$1"),A);this.apply(o,c[2],e);q.appendChild(o)}};k.unnamedInterwikiLink.build=function(q,c,e){k.namedInterwikiLink.build.call(this,
q,[c[0],c[1],c[1]],e)};k.namedUri.children=k.unnamedUri.children=k.rawUri.children=k.namedLink.children=k.unnamedLink.children=k.namedInterwikiLink.children=k.unnamedInterwikiLink.children=[k.escapedSymbol,k.img];for(g=1;g<=6;g++)k["h"+g]={tag:"h"+g,capture:2,regex:"(^|\\n)[ \\t]*={"+g+"}[ \\t]([^~]*?(~(.|(?=\\n)|$))*)[ \\t]*=*\\s*(\\n|$)"};k.ulist.children=k.olist.children=[k.li];k.li.children=[k.ulist,k.olist];k.li.fallback=k.text;k.table.children=[k.tr];k.tr.children=[k.th,k.td];k.td.children=
[k.singleLine];k.th.children=[k.singleLine];k.h1.children=k.h2.children=k.h3.children=k.h4.children=k.h5.children=k.h6.children=k.singleLine.children=k.paragraph.children=k.text.children=k.strong.children=k.em.children=[k.escapedSequence,k.strong,k.em,k.br,k.rawUri,k.namedUri,k.namedInterwikiLink,k.namedLink,k.unnamedUri,k.unnamedInterwikiLink,k.unnamedLink,k.tt,k.img,k.bb_user,k.bb_cset,k.bb_issue];k.root={children:[k.h1,k.h2,k.h3,k.h4,k.h5,k.h6,k.hr,k.ulist,k.olist,k.preBlock,k.table],fallback:{children:[k.paragraph]}};
Parse.Simple.Base.call(this,k.root,a)};Parse.Simple.Creole.prototype=new Parse.Simple.Base;Parse.Simple.Creole.prototype.constructor=Parse.Simple.Creole;
jQuery(function(a){var g=BB.api,s=BB.utils,k=s.decorate,q=s.guard,c=s.PUT,e=s.template,o=BB.repo,w=BB.views;q("#user-access-template",function(A){var B=g.endpoint("privileges",o.owner.username,o.slug),x=Backbone.Model.extend({initialize:function(){var h=this.get("user"),j=h.first_name,v=h.last_name;h=h.username;this.set({id:h,me:h&&BB&&BB.user&&BB.user.username===h,name:j&&v?j+" "+v:j||v||h,username:h})},url:function(){return B.endpoint(this.get("username")).url()},sync:function(h,j){h=="update"?
c({url:j.url(),data:j.get("privilege")}):Backbone.sync(h,j)},clear:function(){this.destroy();this.view.remove()}}),n=new (Backbone.Collection.extend({model:x,url:B.url(),comparator:function(h){return(h.get("privilege")=="owner"?"<":">")+h.get("name").toLowerCase()},parse:function(h){return _.map(h,function(j){j.id=j.user.username;return j})}})),f=Backbone.View.extend({tagName:"li",template:e(A.html()),events:{'click [href="#delete"]':"clear","click .access li":"update"},initialize:function(){_.bindAll(this,
"render");this.model.bind("change",this.render);this.model.view=this},render:function(){a(this.el).html(this.template(this.model.toJSON()));return this},remove:function(){var h=a(this.el).slideUp(function(){h.remove()})},clear:function(h){h.preventDefault();this.model.clear();n.remove(this.model);return this},update:function(h){this.model.save({privilege:h.target.innerHTML});return this}});new (Backbone.View.extend({el:a("#repo-access-pane"),events:{"submit form":"create"},initialize:function(){var h=
this.$list=this.$("#user-access");this.$form=this.$("#grant-access");this.$privilege=this.$("#access-level");this.$username=this.$("#username").autocomplete({minLength:3,source:"/xhr/users/"});this.hasAccess=e(a("#user-has-access").html());this.submitDisabled=false;this.warningMessage=new w.WarningMessage({insert:function(j){h.before(j)}});a.get(n.url,function(j){var v=new x({privilege:"owner",user:{first_name:this.el.data("owner-first-name"),last_name:this.el.data("owner-last-name"),username:o.owner.username}});
n.add(j);h.html(n.reduce(function(E,F){return E.add((new f({model:F})).render().el)},a()));n.add(v);h.prepend((new f({model:v,className:"owner"})).render().el);this.el.show()}.bind(this))},create:function(h){function j(){v.submitDisabled=false;window.clearTimeout(E);v.$form.removeClass("loading")}h.preventDefault();var v=this,E,F=this.$username.val().trim();a(".ui-autocomplete").hide();if(!(this.submitDisabled||!F))if(h=n.get(F))this.warningMessage.render(this.hasAccess(h.toJSON()));else{this.submitDisabled=
true;E=BB.delay(400,function(){v.$form.addClass("loading")});c({url:B.endpoint(F).url(),data:v.$privilege.val(),error:k(j,function(K){switch(K.status){case 403:return v.warningMessage.render({html:'<strong>Your private repositories are over their user limit.</strong> Committers have read only access. <a href="/plans">Upgrade my plan</a>.'});case 404:return v.warningMessage.render('No Bitbucket user named "'+F+'".');default:return v.warningMessage.render(K.responseText)}}),success:k(j,function(K){var G,
U=new x(K[0]),W=new f({model:U});n.add(U);v.warningMessage.remove(function(){(G=v.$list.children()[n.indexOf(U)])?a(W.render().el).hide().insertBefore(G).fadeIn("slow"):a(W.render().el).hide().appendTo(v.$list).fadeIn("slow");v.$username.val("")})})})}}}))})});
(function(a,g){var s=a.BB;s.backbone=s.backbone||{};s.backbone.ui={};s.backbone.ui.CollectionView=Backbone.View.extend({view:null,views_:null,initialize:function(k){if(k.view)this.view=k.view;this.init_();this.collection.bind("add",this.add_.bind(this));this.collection.bind("remove",this.remove_.bind(this));this.collection.bind("refresh",this.refresh_.bind(this))},init_:function(){var k=this;this.views_={};this.collection.each(function(q){var c=k.views_[q.cid]=new k.view({model:q});q.bind("change",
c.render.bind(c))})},add_:function(k){k=this.views_[k.cid]=new this.view({model:k});this.collection.comparator?this.render():g(this.el).append(k.render().el)},remove_:function(k){var q=this.views_[k.cid];if(q){q.remove();delete this.views_[k.cid]}},refresh_:function(){this.init_();this.render()},render:function(){var k=this,q=g(this.el).empty();this.collection.each(function(c){q.append(k.views_[c.cid].render().el)});return this}})})(this,jQuery);
jQuery(function(a){a("#featuretour a.lightbox").fancybox({transitionIn:"fade",transitionOut:"fade",speedIn:100,speedOut:100,changeSpeed:100,overlayShow:true,centerOnScroll:true,cyclic:true})});
(function(a){var g=a.BB,s=g.utils.appendSlash;g.groups={};var k=g.api.endpoint("groups",g.user.username),q=g.groups.GroupMember=Backbone.Model.extend({defaults:{first_name:null,last_name:null,username:null},group_:null,group:function(){return this.group_},setGroup:function(e){this.group_=e;return this},parse:function(e){if(!e.id&&e.username)e.id=e.username;return e},url:function(){var e=g.api,o=e.endpoint("group-privileges",g.user.username),w=e.endpoint("groups");return function(){var A=this.group();
if(A)url=A.isMine()?w.url(A.owner().get("username"),A.get("slug"),"members",this.get("username")):o.url(A.owner().get("username"),A.get("slug"))+"?private=true";else{url=Backbone.Model.prototype.url.call(this);if(this.isNew())url=s(url)+this.get("username")}return url}}(),sync:function(e,o,w,A){return(Backbone.Collection.prototype.sync||Backbone.sync).call(this,e==="create"?"update":e,o,w,A)},displayName:function(e){var o=this.get("first_name"),w=this.get("last_name");return o&&w?e?o+" "+w+"("+this.get("username")+
")":o+" "+w:this.get("username")}}),c=g.groups.GroupMembers=Backbone.Collection.extend({model:q,group_:null,group:function(){return this.group_},setGroup:function(e){this.group_=e;this.invoke("setGroup",e)},parse:function(e){_.each(e,function(o){if(!o.id&&o.username)o.id=o.username});return e},comparator:function(e){return e.displayName().toLowerCase()},url:function(){return k.endpoint(this.group().get("slug"),"members").url()}});a=g.groups.Repository=Backbone.Model.extend({defaults:{name:null,slug:null,
owner:{first_name:null,last_name:null,username:null}},displayName:function(){return this.get("owner").username+"/"+this.get("slug")}});g.groups.Repositories=Backbone.Collection.extend({model:a});a=g.groups.Group=Backbone.Model.extend({defaults:{name:null,slug:null},groupMembers_:null,owner_:null,slug_:null,repositories_:null,initialize:function(e){this.parseOwner_(this.attributes);this.parseGroupMembers_(this.attributes);this.slug_=e.slug},parse:function(e){e=Backbone.Model.prototype.parse.call(this,
e);if(!e.id&&e.slug)e.id=e.slug;this.parseGroupMembers_(e);return e},parseGroupMembers_:function(e){if(e.members){this.groupMembers()===null&&this.setGroupMembers(new c);this.groupMembers().refresh(e.members);delete e.members}},parseOwner_:function(e){this.setOwner(new q(e.owner))},groupMembers:function(){return this.groupMembers_},setGroupMembers:function(e){this.groupMembers_=e;this.groupMembers_.setGroup(this);return this},owner:function(){return this.owner_},setOwner:function(e){this.owner_=e;
return this},repositories:function(){return this.repositories_},setRepositories:function(e){this.repositories_=e;return this},displayName:function(){return this.get("name")+" ("+this.owner().get("username")+":"+this.slug_+")"},isMine:function(e){return function(){return this.owner().get("username")===e}}(g.user.username),toJSON:function(){var e=Backbone.Model.prototype.toJSON.call(this);this.groupMembers()&&(e.members=this.groupMembers().toJSON());delete e.id;return e}});g.groups.Groups=Backbone.Collection.extend({model:a,
url:function(){return k.url()},parse:function(e){_.each(e,function(o){o.id||o.slug&&(o.id=o.slug)});return e},comparator:function(e){return e.displayName().toLowerCase()}});g.groups.Message=Backbone.Model.extend({defaults:{title:null}})})(this,jQuery);
jQuery(function(a){var g=BB.api,s=BB.utils,k=s.decorate,q=s.guard,c=s.PUT,e=s.template,o=BB.repo,w=BB.views;q("#group-access-template",function(A){var B=g.endpoint("group-privileges",o.owner.username,o.slug),x=g.endpoint("_group-privileges-to-add",o.owner.username,o.slug);g.endpoint("_completion","groups",BB.user.username);var n=Backbone.Model.extend({url:function(){var v=this.get("group");return B.url(v.owner.username,v.slug)},initialize:function(v){v=v.group;this.set({id:v.owner.username+":"+v.slug})},
sync:function(v,E,F,K){v=="update"?c({url:E.url(),data:E.get("privilege"),success:F,error:K}):Backbone.sync(v,E,F,K)}}),f=new (Backbone.Collection.extend({model:n,url:B.url(),comparator:function(v){return v.get("group").name.toLowerCase()}})),h=Backbone.View.extend({tagName:"li",template:e(A.html()),events:{'click [href="#delete"]':"clear","click .access li":"update"},initialize:function(){_.bindAll(this,"render");this.model.bind("change",this.render);this.model.view=this},render:function(){a(this.el).html(this.template({group:this.model}));
return this},remove:function(){var v=a(this.el).slideUp(function(){var E=v.siblings().length;v.remove();E||a("#group-access").hide();j()})},clear:function(v){v.preventDefault();var E=this;this.model.destroy({success:function(F){E.remove();f.remove(F)},error:function(F,K){var G=K.responseText;G=G?G.substr(0,140):"An unknown error occurred.";E.warningMessage.render(G)}});return this},update:function(v){this.model.save({privilege:v.target.innerHTML},{success:j});return this}}),j=function(v){v=e('<option value="<%= owner.username %>:<%= slug %>">',
"<%= __(name) %> (<%= owner.username %>:<%= slug %>)","</option>");return function(){a.get(x.url(),function(E){a("#groupname").html(_.reduce(E,function(F,K){return F+v(K)},'<option value="">select a group\u2026</option>'))})}}();new (Backbone.View.extend({el:a("#repo-group-access-pane"),events:{"submit form":"create"},initialize:function(){var v=this.$list=this.$("#group-access");this.$form=this.$("#grant-group-access");this.$privilege=this.$("#group-access-level");j();this.hasAccess=e(a("#group-has-access").html());
this.submitDisabled=false;this.warningMessage=new w.WarningMessage({insert:function(E){this.el.children("h3").first().after(E)}.bind(this)});f.fetch({success:function(E){E.length?v.html(E.reduce(function(F,K){var G=new h({model:K});G.warningMessage=self.warningMessage;return F.add(G.render().el)},a())):v.hide()}})},create:function(v){function E(){K.submitDisabled=false;window.clearTimeout(G);K.$form.removeClass("loading")}v.preventDefault();var F=a("#groupname").val(),K=this,G;this.$form.addClass("loading");
a(".ui-autocomplete").hide();if(!(this.submitDisabled||!F))if(v=f.get(F))this.warningMessage.render(this.hasAccess(v.toJSON()));else{this.submitDisabled=true;G=BB.delay(400,function(){K.$form.addClass("loading")});c({url:B.url.apply(B,a("#groupname").val().split(":")),data:K.$privilege.val(),error:k(E,function(U){switch(U.status){case 403:return K.warningMessage.render({html:'<strong>Your private repositories are over their user limit.</strong> Committers have read only access. <a href="/plans">Upgrade my plan</a>.'});
case 404:return K.warningMessage.render('No Bitbucket group named "'+F+'".');default:return K.warningMessage.render(U.responseText)}}),success:k(E,function(U){var W,V=new n(U[0]),ha=new h({model:V});f.add(V);K.warningMessage.remove(function(){(W=K.$list.show().children()[f.indexOf(V)])?a(ha.render().el).hide().insertBefore(W).fadeIn("slow"):a(ha.render().el).hide().appendTo(K.$list).fadeIn("slow");j()})})})}}}))})});
jQuery(function(a){var g=BB.utils,s=g.guard,k=g.template;s("#repo-overview",function(q){var c=k("<% if (data.viewed.length) { %>",'<div class="group">','<h4 class="viewed">Recently viewed</h4>',"<ol>","<% _.each(data.viewed, function (repo) { %>",'<li class="<% if (repo.is_private) { %>private<% } else { %>public<% } %> repository"><a href="<% if (repo.owner === username && cname) { %>/<%= repo.slug %><% } else { %><%= canonUrl %>/<%= repo.owner %>/<%= repo.slug %><% } %>" title="<%= __(repo.name) %>"><img src="<%= repo.avatar %>" /><span><%= __(repo.owner) %> / </span><%= __(repo.name) %></a></li>',
"<% }); %>","</ol>","</div>","<% } %>","<% if (data.updated.length) { %>",'<div class="group">',"<h4>Recently updated</h4>","<ol>","<% _.each(data.updated, function (repo) { %>",'<li class="<% if (repo.is_private) { %>private<% } else { %>public<% } %> repository"><a href="<% if (repo.owner === username && cname) { %>/<%= repo.slug %><% } else { %><%= canonUrl %>/<%= repo.owner %>/<%= repo.slug %><% } %>" title="<%= __(repo.name) %>"><img src="<%= repo.avatar %>" /><span><%= __(repo.owner) %> / </span><%= __(repo.name) %></a></li>',
"<% }); %>","</ol>","</div>","<% } %>");a.get(BB.api.endpoint("user","repositories","overview").url()+"?max=5",function(e){if(e.viewed.length||e.updated.length)q.append(c({canonUrl:BB.CANON_URL,cname:BB.cname,data:e,username:BB.user.username}))})})});
(function(a){a=a.BB;a.plans={};a.plans.GroupMemberships=Backbone.Collection.extend({model:a.groups.GroupMember,parse:function(s){return s},url:function(){},comparator:function(s){return s.group().displayName().toLowerCase()}});var g=a.plans.UserGroupMemberships=Backbone.Model.extend({defaults:{},user_:null,memberships_:null,user:function(){return this.user_},setUser:function(s){this.user_=s;return this},memberships:function(){return this.memberships_},setMemberships:function(s){this.memberships_=
s;return this},sync:function(s,k,q){q()}});a.plans.AllUsersGroupMemberships=Backbone.Collection.extend({model:g,parse:function(s){return s=Backbone.Collection.prototype.parse.call(this,s)},comparator:function(s){return s.user_.displayName().toLowerCase()}})})(this,jQuery);
jQuery(function(a){var g=window.BB,s=g.utils,k=s.guard,q=s.template,c;g.plans.ui={};k("#access-via-groups",function(){function e(x){function n(v){return v.owner.username+":"+v.slug}var f={},h={},j={};_.each(x,function(v){var E=v.group,F=h[n(E)]||(h[n(E)]=new g.groups.Group(E)).setRepositories(new g.groups.Repositories);F.repositories().add(j[v.repo]||new g.groups.Repository(v.repository));F.groupMembers().each(function(K){if(K.get("username")!==g.user.username){K.setGroup(F);var G=f[K.get("username")];
if(!G){G=f[K.get("username")]=new g.plans.UserGroupMemberships;G.setUser(K).setMemberships(new g.plans.GroupMemberships)}G.memberships().any(function(U){return n(U.group().attributes)===n(K.group().attributes)})||G.memberships().add(K)}})});return(new g.plans.AllUsersGroupMemberships).refresh(_.values(f))}var o=g.plans.ui.GroupMembershipView=Backbone.View.extend({model:g.groups.GroupMember,tagName:"li",template_:q("<% if (group.isMine()) { %>",'<a href="groups/#<%= group.get("slug") %>"><%= __(group.displayName()) %></a>',
"<% } else { %>","<%= __(group.displayName()) %>","<% } %>",'<a href="#delete">Delete</a>'),removeUserFromGroup_:q("This will remove <%= groupMember.displayName() %> ","from the group <%= groupMember.group().displayName() %>."),revokeGroupAccessToRepo_:q("If you proceed, the group <%= group.displayName() %> will no ","longer have access to the following private repositories:\n","<% group.repositories().each(function (repo) { %>",'\n\u2022 <%= repo.get("name") %>',"<% }); %>"),events:{'click a[href="#delete"]':"revoke"},
revoke:function(x){x.preventDefault();x.stopPropagation();x=this.model.group();if(x.isMine())confirm(this.removeUserFromGroup_({groupMember:this.model}))&&this.model.destroy({success:c});else confirm(this.revokeGroupAccessToRepo_({group:x}))&&this.model.destroy({success:c})},remove:function(){},render:function(){a(this.el).html(this.template_({group:this.model.group()}));return this}}),w=g.plans.ui.UserHeaderView=Backbone.View.extend({model:g.groups.GroupMember,template_:q('<% if (first_name && last_name) { %><b><%= __(first_name) %> <%= __(last_name) %></b> (<%= username %>)<% } else { %><b><%= username %></b><% } %> <a href="#delete">Delete</a>'),
events:{'click a[href="#delete"]':"onDelete"},onDelete:function(x){x.preventDefault();x.stopPropagation();this.trigger("onDelete",this.model)},render:function(){a(this.el).html(this.template_(this.model.toJSON()));return this}}),A=g.plans.ui.UserGroupMembershipsView=Backbone.View.extend({model:g.plans.UserGroupMemberships,tagName:"li",userView_:null,collectionView_:null,revokeAllAccessForUser_:q("You are about to:\n\n","- remove <%= groupMember.displayName() %> from all of your groups\n\n","- for each group <%= groupMember.displayName() %> is a member of, ",
"revoke that group's access to your private repositories\n"),events:{"click div:first-child":"toggle"},initialize:function(){this.userView_=new w({model:this.model.user()});this.collectionView_=new g.backbone.ui.CollectionView({view:o,collection:this.model.memberships(),tagName:"ol",className:"children"});this.userView_.bind("onDelete",this.deleteAll.bind(this))},deleteAll:function(){var x=this.collectionView_.collection,n=function(){x.first().destroy({success:function(){x.length?n():c()}})};confirm(this.revokeAllAccessForUser_({groupMember:this.userView_.model}))&&
n()},toggle:function(){a(this.collectionView_.el)[a(this.el).toggleClass("revealed").hasClass("revealed")?"slideDown":"slideUp"]();return this},render:function(){a(this.el).attr("data-username",this.userView_.model.get("username")).append(this.userView_.render().el).append(a(this.collectionView_.render().el).hide());return this}}),B=g.plans.ui.AccessViaGroupsView=Backbone.View.extend({userGroupViews_:null,el:"#access-via-groups",template_:q("<h4>Access via groups</h4>"),initialize:function(){this.userGroupViews_=
new g.backbone.ui.CollectionView({collection:this.collection,view:A,tagName:"ol",className:"expandable mapping-widget"})},render:function(){var x=function(){return a(this.el).append(this.template_()).append(this.userGroupViews_.render().el)},n=true;return function(){if(n){this.userGroupViews_.collection.length&&x.bind(this)();a(this.el).parent().slideDown();n=false}else a(this.el).slideUp(function(){var f=a(this.el).empty();if(this.userGroupViews_.collection.length){f.hide();x.bind(this)().slideDown()}}.bind(this));
return this}}()});(c=function(){var x=a("#num-users"),n=a("#plans-and-billing"),f=n.find(".spinner").addClass("loading"),h=g.api.endpoint("group-privileges",g.user.username).url(),j=+a("#max-users").text(),v=+x.text(),E=v>j,F=function(K){var G;K=K.users;if(E&&K<=j){G=n.find(".warning.message").fadeTo("fast",0,function(){G.slideUp()});a("#too-many-users").remove()}E=(v=K)>j;x.text(K)};return function(){a.get(h,function(K){(new B({collection:e(K)})).render();f.removeClass("loading")});a.get("xhr/private-users-count",
F)}}())()})});
(function(a,g){var s=a.BB,k=s.utils,q=k.guard,c=k.placeholder;k=k.template;s.groups.ui={};var e=s.groups.ui.GroupMemberView=Backbone.View.extend({model:s.groups.GroupMember,tagName:"li",className:"group-member",template_:k("<b>","<% if (first_name || last_name) { %>","<%= __(first_name) %> <%= __(last_name) %>","<% } else { %>","<%= username %>","<% } %>","</b>","<% if (first_name || last_name) { %>"," (<%= username %>)","<% } %>",'<a href="#delete">Delete</a>'),errors_:{401:"You must be logged in to remove a member.",403:"You are not authorized to remove this member."},
removeMember:function(B){B.preventDefault();this.toggleSpinner();this.model.destroy({success:this.remove.bind(this),error:this.removeMemberError.bind(this)})},render:function(){g(this.el).html(this.template_(this.model.toJSON()));g(this.el).find('a[href="#delete"]').click(this.removeMember.bind(this));return this},remove:function(){var B=g(this.el).slideUp(function(){var x=B.parent();B.remove();x.children().length||x.removeClass("mapping-widget")});this.toggleSpinner()},removeMemberError:function(B,
x){this.toggleSpinner();alert(this.errors_[x.status]||"There was a problem processing your request.")},toggleSpinner:function(){this.$('a[href="#delete"]').toggleClass("loading")}}),o=s.groups.ui.GroupMembersFormView=Backbone.View.extend({className:"group-members",template_:k("<form>","<div>",'<label for="user-to-add-to-<%= group.id %>">Username:</label>','<input type="text" id="user-to-add-to-<%= group.id %>" class="username" ','placeholder="add user to <%= __(group.get("name")) %>">',"</div>","<div>",
'<input type="submit" value="Add user" class="primary-button" />',"</div>","</form>",'<ul class="errorlist"></ul>'),events:{"submit form":"addMember"},errors_:{400:"You cannot add yourself to one of your own groups.",404:"The requested user does not exist.",409:"The user is already in the group."},collectionView_:null,initialize:function(){this.collectionView_=new s.backbone.ui.CollectionView({collection:this.collection,view:e,tagName:"ol",className:"mapping-widget"})},addMember:function(B){B.preventDefault();
var x,n,f;n=this.$("input.username");if(B=n.val().trim()){this.toggleSpinner();n=this.collection;f=new n.model;f.collection=n;f.save({username:B},{success:function(h){var j=this.collectionView_,v=j.collection,E=j.views_[h.cid]=new j.view({model:h});v.add(h,{silent:true});(x=g(j.el).children()[v.indexOf(h)])?g(E.render().el).hide().insertBefore(x).fadeIn("slow"):g(E.render().el).hide().appendTo(j.el).fadeIn("slow");this.addMemberSuccess()}.bind(this),error:this.addMemberError.bind(this)})}else n.focus()},
addMemberSuccess:function(){this.toggleSpinner();this.clearError();this.$("input.username").val("").blur().focus();g(this.collectionView_.el).addClass("mapping-widget")},clearError:function(){g(this.el).find(".errorlist").empty()},addMemberError:function(B,x){var n=this.errors_[x.status];this.toggleSpinner();this.$("input.username").blur().focus();g(this.el).find(".errorlist").html(g("<li>").text(n||"There was a problem processing your request."))},toggleSpinner:function(){this.$("input.username").toggleClass("loading")},
render:function(){if(this.collectionView_.el.parentNode)this.collectionView_.render();else{g(this.el).html(this.template_({group:this.collectionView_.collection.group()})).prepend(this.collectionView_.render().el);this.collectionView_.collection.length||g(this.collectionView_.el).removeClass("mapping-widget")}this.$("input.username").autocomplete({minLength:3,source:"/xhr/users/"});return this}}),w=s.groups.ui.GroupView=Backbone.View.extend({tagName:"li",template_:k('<h2 id="<%= group.get("slug") %>"><span class="editable-title"><%= __(group.get("name")) %></span></h2>',
"<div>",'<label for="<%= group.get("slug") %>:access">Default access:</label>','<select id="<%= group.get("slug") %>:access">','<% _.each(["none", "read", "write", "admin"], function (level) { %>','<option value="<%= level %>"<% if (group.get("auto_add") && group.get("permission") === level) { %> selected="selected"<% } %>>',"<%= level %>","</option>","<% }); %>","</select>","</div>",' <a href="#delete" class="delete-group">delete</a>'),membersView_:null,initialize:function(){this.membersView_=new o({collection:this.model.groupMembers()});
this.model.view=this},errors_:{400:"A group with that name already exists.",404:"This group no longer exists."},deleteGroup:function(B){B.preventDefault();this.model.destroy({error:this.groupError.bind(this)})},groupError:function(B,x){alert(this.errors_[x.status]||"There was a problem processing your request.")},updatePermission:function(B){var x=true;B=g(B.target).val();if(B==="none"){x=false;B="read"}this.model.save({auto_add:x,permission:B},{error:this.groupError.bind(this)})},remove:function(){var B=
g(this.el).slideUp(function(){B.remove()})},render:function(){var B=g(this.template_({group:this.model}));B.find("span").editable(function(x){var n=this.model.get("name");this.model.save({name:x},{error:function(){this.model.set({name:n});this.groupError.apply(this,arguments)}.bind(this)});return this.model.get("name")}.bind(this));g(this.el).html(B).append(this.membersView_.render().el).find(".delete-group").click(function(x){a.confirm("Are you sure you want to delete the group "+this.model.displayName()+
"?")&&this.deleteGroup(x)}.bind(this)).end().find("select").change(this.updatePermission.bind(this));c(this.el);return this}}),A=s.groups.ui.GroupsAdminView=Backbone.View.extend({className:"groups-admin",errors_:{400:"A group with that name already exists.",401:"You are not authorized to add a new group.",404:"You user account no longer exists or has been moved."},groupsView_:null,initialize:function(){this.groupsView_=new s.backbone.ui.CollectionView({collection:this.collection,view:w,tagName:"ol"})},
keyHandler:function(B){B.keyCode===13&&this.addGroup()},addGroup:function(){this.collection.create({name:g("#add-group-input").val(),owner:{username:s.user.username}},{success:function(B){g(B.view.el).css({"background-color":"#fff6c2"}).animate({"background-color":"#f5f5f5"},3E3);a.location.hash="#"+B.get("slug");g("#add-group-input").val("");g("#add-group-form").dialog("close")}.bind(this),error:this.addGroupError.bind(this)})},addGroupError:function(B,x){g("#add-group-form-error").html(["<li>",
this.errors_[x.status]||"There was a problem processing your request.","</li>"].join(""))},render:function(){g("#add-group-input").keypress(this.keyHandler.bind(this));g(this.el).html(this.groupsView_.render().el);var B=this.addGroup.bind(this);g("#add-group-form").dialog({autoOpen:false,buttons:{"Add group":B},modal:true,position:["50%",100],title:"Add a group",width:480,open:function(){g("#add-group-input").val("")}});g("#add-group-link").click(function(){g("#add-group-form-error").empty();g("#add-group-form").dialog("open")});
return this}});jQuery(function(){q("#groups-container",function(B){(new A({el:B,collection:(new s.groups.Groups).fetch()})).render()})})})(this,jQuery);
jQuery(function(){var a;a=BB.utils.guard;return a("#issues",function(g){var s,k,q,c,e,o,w,A,B,x;s=g.find("#create-issue").find("a");s.click(function(){if(s.parent().hasClass("selected"))return false});e=window.location;q=e.href;e=e.search;g.find("#create-query").find(".selected").length||g.find("#issues-list-filters").children(e==="?status=new&status=open"?".open":/\/issues\/?$/.test(q)?".all":e==="?responsible="+BB.user.username?".mine":"a").addClass("selected");q={"~":"contains","^":"starts with",
$:"ends with","!":"not"};o={};if(e=e.replace(/^[?]/,"")){x=e.split("&");e=0;for(B=x.length;e<B;e++){k=x[e];k=k.split("=");c=k[0];A=k[1];A=decodeURIComponent(A);k=A.substr(0,1);w=k in q?(A=A.substr(1),""+q[k]+" "):"";A=c==="responsible"&&!A?k==="!"?"someone":"no one":""+w+'"'+A+'"';if(o[c])o[c].push(A);else o[c]=[A]}}q={q:"query",reported_by:"reporter"};e=[];k=function(){var n;n=[];for(c in o)n.push(c);return n}().sort();B=0;for(x=k.length;B<x;B++){c=k[B];e.push("<b>"+(q[c]||__(c))+":</b>\n"+__(o[c].sort().join(" or ")))}g.find("#issues-filter-criteria").html(e.join(" "));
g.find("#filters-filters").find(".cancel").click(function(n){n.preventDefault();return window.history.back()});return a("#preview",function(n){var f,h,j;f=g.find("#id_content").markItUp(BB.markItUpIssueSettings);h=new Parse.Simple.Creole({linkFormat:""});j=function(){n.empty();return h.parse(n[0],f.val())};f.bind("keyup",j);return j()})})});
(function(a,g){var s=a.BB,k=s.utils,q=k.guard,c=5,e=k.template('<li data-id="<%= __(id_str) %>">','<a class="img" href="<%= __(profile_url) %>">','<img class="avatar" src="<%= __(profile_image_url) %>">',"</a>",'<p class="name"><a href="<%= __(profile_url) %>">',"<%= __(from_user) %>","</a> ",'<a class="time" href="<%= __(tweet_url) %>">','<time datetime="<%= __(datetime) %>">',"<%= __(datetime) %></time>","</a>","</p>",'<p class="tweet"><%= BB.utils.linkifyTweet(text) %>',"</p>","</li>"),o={},w=
0,A=["week","month","all"],B={week:"this-week",month:"this-month",all:"all-time"},x={"#trending-this-week":"week","#trending-this-month":"month","#trending-all-time":"all"};s.explore={};s.explore.handleTwitterSearch=function(n){function f(j){if(!g("#trending-repositories ul.trending-periods li.selected a").hasClass(j)){g("#trending-repositories ul.trending-periods a."+j).parent().addClass("selected");g("#trending-repositories div.trending-repo-group."+j).show();_.each(A,function(v){if(v!=j){g("#trending-repositories ul.trending-periods a."+
v).parent().removeClass("selected");g("#trending-repositories div.trending-repo-group."+v).hide()}})}}function h(){var j=x[a.location.hash];j!==void 0&&f(j)}g(function(){var j=g("#tweet-buzz-results"),v=j.children().length===0,E=g("#tweet-buzz-script").attr("src"),F="&since_id="+n.max_id_str,K=n.results;if(K!==void 0){j.children().each(function(){var U=g(this).data("id");if(U!==void 0)o[U]=true});K=_.reduce(K,function(U,W){if(o[W.id]||o[W.id_str]||W.id<=w)return U;W.profile_url="https://twitter.com/"+
W.from_user;W.tweet_url=W.profile_url+"/status/"+W.id_str;W.datetime=(new Date(W.created_at)).toISO8601String();if(W.profile_image_url.indexOf("http://a")===0)W.profile_image_url=W.profile_image_url.replace(/^http:\/\/a/,"https://si");else if(W.profile_image_url.indexOf("https://")!==0)W.profile_image_url=s.MEDIA_URL+"img/no_avatar.gif";(new Image).src=W.profile_image_url;var V=g(e(W)).hide();return U.add(V)},g());j.prepend(K);g("#tweet-buzz-loading").remove();g("#tweet-buzz-results time").localize();
if(v)j.children().fadeIn(400);else{var G=0;g(K.get().reverse()).each(function(){g("#tweet-buzz-results time").localize();var U=g(this);j.prepend(U);U.delay(G).fadeIn(600);G+=2E3})}}w=n.max_id;c=Math.max(c*2,120);s.delay(c*1E3,function(){g(document).append('<script src="'+E+F+'"><\/script>')})});g(function(){h();_.each(A,function(j){g("#trending-repositories ul.trending-periods a."+j).attr("href","#trending-"+B[j])});g("#trending-repositories ul.trending-periods a").click(function(){var j=g(this),
v=_.detect(A,function(E){return j.hasClass(E)});f(v)})});g(a).bind("hashchange",h)};q("#explore",function(n){n.find(".button-group").each(function(){var f=g(this).children(),h=f.filter(".selected");f.click(function(){h.removeClass("selected");h=g(this).addClass("selected")})})})})(this,jQuery);
jQuery(function(a){var g=window.BB,s=g.utils,k=s.template;if(/^\/search\/?$/.test(window.location.pathname)){var q=10,c=new Hash,e=a("#paginator"),o=a("#advanced_link"),w=a("#advanced-input"),A=a("#search-text"),B=a("#repositories"),x=a("#results-count"),n=a("#search-type"),f=a("#search-button"),h=a("#sort-repos"),j=document.getElementById("direct_access"),v=k(a("#repository-result").html()),E=k(a("#commit-result").html()),F=k(a("#source-result").html()),K=k(a("#user-result").html()),G=k(a("#input-template").html()),
U=0,W=a("#mask"),V=function(){var R=g.api.endpoint("search");return function(){var Q=+c.get("offset")||0,ia=_.clone(c.hash);return R.url(Q,q,ia)}}(),ha,S=function(){var R="",Q=w.children(),ia=Q.length-1;if(n.val()&&n.val()!=="all"){R+="type:"+n.val();if(Q.length>0&&w.is(":visible"))R+=" AND "}if(!w.is(":visible")&&R==="")return null;w.is(":visible")&&_.each(Q,function(la,na){var Aa,Da=a(la);Aa=Da.find("[name=fieldName]");var Ga=Da.find("[name=operator]"),ua=Da.find("[name=operand]");Da=Aa.find(":selected").hasClass("string")||
Aa.find(":selected").hasClass("date");var qa=Aa.find(":selected").hasClass("boolean"),X=Ga.val();if(X==="neq")R+="-";R+=Aa.val()+":";if(/^n?eq$/.test(X)){Aa=qa?ua[0].checked:ua.val();R+=Da?'"'+Aa+'"':Aa}else R+=Ga.val()==="<="?"[* TO "+ua.val()+"]":"["+ua.val()+" TO *]";if(na<ia)R+=" AND "});return R};searchWithSort=function(R,Q){return function(ia){ia.preventDefault();R&&c.set("metric",R);Q&&c.set("period",Q);updateHashForSearch();doSearch()}};addError=function(R,Q){R.parent().parent().find(".errorContainer").addClass("hasError").text(Q);
updateSearchButtonState()};removeError=function(R){R.parent().parent().find(".errorContainer").removeClass("hasError").html("");updateSearchButtonState()};updateSearchButtonState=function(){!w.is(":visible")||a("div>.hasError").length===0?f.attr("disabled",false):f.attr("disabled",true)};intValidator=function(){var R=a(this),Q=R.val(),ia=Q.match(/^\d+$/);ia===null||ia.length===0||ia[0].length<Q.length?addError(R,"the value must be an integer"):removeError(R)};sizeValidator=function(){var R=a(this),
Q=R.val(),ia=Q.match(/^\d+(b|kb|mb|gb)?/i);ia===null||ia.length===0||ia[0].length<Q.length?addError(R,"the value defaults to kb and accepts b, kb, mb, gb"):removeError(R)};dateValidator=function(){var R=a(this),Q=R.val(),ia=Q.match(/^\d\d\d\d-\d\d-\d\d?/);if(ia===null||ia.length===0||ia[0].length<Q.length)addError(R,"the value must be a date of the format 'yy-mm-dd'");else isNaN(Date.parse(Q,"yy-mm-dd"))?addError(R,"the value must be a date of the format 'yy-mm-dd'"):removeError(R)};stringValidator=
function(){var R=a(this),Q=R.val(),ia=false;if(Q==="")addError(R,"the value must not be empty");else{for(var la=0;la<Q.length;la++){var na=Q.charAt(la);if(ia)ia=false;else{if(na==='"'){addError(R,'the value must have all " characters escaped with \\');return}else if(la+1===Q.length&&na=="\\"){addError(R,"the value can not end with the escape character \\");return}ia=na==="\\"}}removeError(R)}};queryConstrainedToRepos=function(R){var Q=false;if(R)for(var ia,la=/(-?)([a-zA-Z_]+):\s*("(?:.*?[^\\](?:\\\\)*)?"|\[(?:.*?[^\\](?:\\\\)*)?\]|\S*)/g,
na=false;ia=la.exec(R);)if(ia[2]==="type"){if(na){Q=false;break}else na=true;Q=ia[3]==="repo"}return Q};updateHashForSearch=function(){var R;(R=S())?c.set("advanced_query",R):c.remove("advanced_query");if(queryConstrainedToRepos(R))!c.get("metric")&&!c.get("period")&&c.set("metric","followers").set("period","all");else c.remove("metric").remove("period");c.apply()};doSearch=function(){U++;var R=U;W.addClass("loading");a.ajax({type:"GET",url:V(),contentType:"application/json",success:function(Q){if(R===
U){W.removeClass("loading");a(window).scrollTop(0);ha(Q)}},error:function(Q){W.removeClass("loading");window.alert("bad news: "+Q)}})};ha=function(R){function Q(ua,qa,X){ua.text(X).attr("href","#"+qa).data("offset",(qa-1)*q)}var ia=0,la=0,na=c.get("period","all"),Aa=c.get("metric","followers");e.empty();B.empty();x.text([R.hits,R.hits===1?"result":"results"].join(" "));if(R.results.length===0)R.error_message?B.append('<p class="error">'+R.error_message+"</p>"):B.append("<p>No search results were found.</p>");
else{_.each(R.results,function(ua){if(ua.highlight_html){var qa=ua.highlight_html;if(/<em>.+<\/em>/.test(qa)){/^.*<em>.+<\/em>/.test(qa)||(qa=qa.replace(/^.*[\n\r]*/,""));/<em>.+<\/em>.*$/.test(qa)||(qa=qa.replace(/[\n\r]*.*$/,""))}else{qa=qa.replace("\r","\n");var X=qa.split("\n");if(X.length>0){qa=X[0];if(X.length>1){qa+="\n"+X[1];if(X.length>2){qa+="\n"+X[2];if(X.length>3)qa+="\n"+X[3]}}}}ua.highlight_html=qa}switch(ua.type){case "repo":ua.period=na;B.append(v(ua));ia++;break;case "commit":B.append(E(ua));
break;case "source":B.append(F(ua));break;case "user":B.append(K(ua));la++}B.find("time").localize()});var Da=+R.page_num;_.each(R.pager,function(ua){var qa=a("<a>");ua=ua[0];switch(ua){case "prev":Q(qa,Da-1,"\u00ab");break;case "...":qa.text("\u2026").addClass("hellip");break;case "next":Q(qa,Da+1,"\u00bb");break;default:Q(qa,ua,ua);Da===ua&&qa.addClass("current")}e.append(a("<li>").append(qa))});var Ga=a("#repo-ids").text().split(",");if(typeof Ga!="undefined"&&ia!=0){B.find(".followers").addClass("followers-not-following");
B.find(".info-button").removeClass("info-button-readonly");a(_.map(Ga,function(ua){return"#id_repo_"+ua}).join()).removeClass("followers-not-following").addClass("followers-following");a("#repositories").delegate(".followers .info-button-action a","click",s.enableFollowingLinks)}Ga=a("#following-users").text().split(",");if(typeof Ga!="undefined"&&la!=0){B.find(".user-followers").addClass("user-followers-not-following");B.find(".info-button").removeClass("info-button-readonly");a(_.map(Ga,function(ua){return"#id_user_"+
ua}).join()).removeClass("user-followers-not-following").addClass("user-followers-following");a("#repositories").delegate(".user-followers .info-button-action a","click",s.enableFollowingLinks)}jQuery("#sort-repos").hide();if(queryConstrainedToRepos(c.get("advanced_query"))&&R.results.length){a("#sort-repos > ul > li").removeClass("selected");a("#sort-repos").show();a("#sort-repos ."+na+"-sort").parent().addClass("selected");a("#sort-repos ."+Aa+"-sort").parent().addClass("selected")}}};var ba=function(R){a(this).closest(".searchInput").remove();
updateSearchButtonState();R.preventDefault()},T=function(R){var Q=R.find(":selected"),ia,la=Q.hasClass("boolean");ia=Q.hasClass("int");var na=Q.hasClass("size"),Aa=Q.hasClass("string"),Da=Q.hasClass("user"),Ga=Q.hasClass("date"),ua=Q.hasClass("dropdown"),qa=R.next(),X=ia||na;qa.find("[value=eq]").attr("selected",true);if(la){qa.find("[value=neq]").attr("disabled","true");qa.find("[value=gte]").attr("disabled","true");qa.find("[value=lte]").attr("disabled","true")}else if(X||Ga){qa.find("[value=gte]").removeAttr("disabled");
qa.find("[value=lte]").removeAttr("disabled");qa.find("[value=neq]").removeAttr("disabled")}else{qa.find("[value=neq]").removeAttr("disabled");qa.find("[value=gte]").attr("disabled","true");qa.find("[value=lte]").attr("disabled","true")}qa=R.parent().find("[name=operand]");removeError(qa);qa.remove();if(ua){ia=Q.val();ia=a(k(a("#"+ia+"-select").html())());R.parent().append(ia.attr("name","operand").addClass("operand"))}else{a(document.createElement("input"));if(la)R.parent().append('<input type="checkbox" name="operand" checked="checked">');
else{R=a('<input type="search" name="operand" class="operand">').appendTo(R.parent());if(ia)R.keyup(intValidator).click(intValidator).trigger("keyup");else if(na)R.keyup(sizeValidator).click(sizeValidator).trigger("keyup");else if(Aa||Da)R.keyup(stringValidator).click(stringValidator).change(stringValidator).trigger("keyup");else Ga&&R.keyup(dateValidator).click(dateValidator).change(dateValidator).trigger("keyup");if(Da)R.autocomplete({minLength:3,source:"/xhr/users/"});else Ga&&R.datepicker({dateFormat:"yy-mm-dd"})}}},
H=function(){T(a(this))},N,r=function(){var R=a(G());a(".and",R).click(N);a(".remove",R).click(ba);a("[name=fieldName]",R).change(H);w.append(R);return R};N=function(R){T(a("[name=fieldName]",r()));R.preventDefault()};var Y=function(){var R=c.get("advanced_query");A.val(c.get("q"));j.checked=c.get("direct_access")==="true";w.empty();var Q,ia=/(-?)([a-zA-Z_]+):\s*("(?:.*?[^\\](?:\\\\)*)?"|\[(?:.*?[^\\](?:\\\\)*)?\]|\S*)/g;if(R)for(;Q=ia.exec(R);)if(Q[2]==="type")n.val(Q[3]);else{var la=r(),na=Q[1]===
"-",Aa=Q[2];Q=Q[3];var Da=a("[name=fieldName]",la);Da.find("[value="+Aa+"]").attr("selected",true);T(Da);Aa=a("[name=operator]",la);la=a("[name=operand]",la);var Ga=Da.find(":selected").hasClass("boolean");Da=Da.find(":selected").hasClass("dropdown");if(na){Aa.find("[value=neq]").attr("selected",true);la.val(Q.replace(/^"|"$/g,""))}else if(/^\[/.test(Q)){na=Q.replace(/^\[|\]$/g,"").split(" TO ");if(na.length===2)if(na[0]==="*"){Aa.find("[value=lte]").attr("selected",true);la.val(na[1].replace(/^"|"$/g,
""))}else{Aa.find("[value=gte]").attr("selected",true);la.val(na[0].replace(/^"|"$/g,""))}}else{na=Q.replace(/^"|"$/g,"");if(Ga)la[0].checked=/^true$/i.test(na);else Da?la.find("[value="+na+"]").attr("selected",true):la.val(Q.replace(/^"|"$/g,""))}la.trigger("click")}if(R||c.get("q"))doSearch();else{e.empty();B.empty();h.hide();x.text("")}};e.delegate("a","click",function(R){var Q=a(this).data("offset");c.set("offset",Q);updateHashForSearch();doSearch();R.preventDefault()});f.click(function(R){c.set({direct_access:j.checked,
offset:0,q:A.val()});updateHashForSearch();doSearch();R.preventDefault()});h.find(".week-sort").click(searchWithSort(null,"week"));h.find(".month-sort").click(searchWithSort(null,"month"));h.find(".all-sort").click(searchWithSort(null,"all"));h.find(".commits-sort").click(searchWithSort("commits",null));h.find(".followers-sort").click(searchWithSort("followers",null));h.find(".forks-sort").click(searchWithSort("forks",null));o.click(function(R){var Q=w.children().length;R.preventDefault();if(Q>0){w.toggle();
updateSearchButtonState()}else return N(R)});Y();a(window).bind("popstate",function(){if(window.location.hash!=="#"+c.toString()){c=new Hash;Y()}})}});jQuery(function(){return BB.utils.guard("#signup",function(a){return a.find("form").submit(function(){var g;g=a.find("#id_username");return g.val(g.val().trim())})})});jQuery(function(a){return a("#view-at-input").autocomplete({minLength:3,source:"/xhr/csets/"+BB.repo+"/",select:function(){return a("#view-at-form").submit()}})});
(function(a,g,s){var k=function(){this.$overLimitWarning_=this.$privacy_=this.$name_=null};k.prototype={bind:function(){this.$name_=a("#id_name");this.$privacy_=a("#id_is_private");this.$overLimitWarning_=a("#not-can-add-private");if(this.$name_.length===1&&this.$privacy_.length===1){this.$privacy_.change(this.onPrivacyChange_.bind(this));this.onPrivacyChange_()}},onPrivacyChange_:function(){var h=this.$privacy_.is(":checked");this.$name_.toggleClass("public",!h);this.$overLimitWarning_.toggle(h)}};
var q=function(){this.sources_={"source-svn":new e(this),"source-hg":new o(this),"source-goog":new B(this),"source-sourceforge":new x(this),"source-codeplex":new n(this)};BB.user.has("repo2")&&a.extend(this.sources_,{"source-git":new w(this),"source-github":new f(this)});this.ajax_=this.urlTimeout_=this.previousUrl_=this.source_=null;this.$message_=a('<ul class="field_ message_"></ul>');this.$source_=this.$url_=this.$form_=null};q.prototype={bind:function(h){this.$form_=h;this.$sourceScm_=a("#id_source_scm");
this.$url_=a("#id_url");this.$source_=a("#id_source");this.$auth_=a("#id_auth");this.$authFields_=a("#url-auth-fields");this.$username_=a("#id_username");this.$password_=a("#id_password");this.$submitButton_=this.$form_.find("input[type=submit]");this.$url_.add(this.$username_).add(this.$password_).change(this.verifyUrl.bind(this));this.$source_.change(this.onSourceChange_.bind(this));this.$auth_.change(this.onAuthChange_.bind(this));this.$submitButton_.click(this.disableButtonAndSubmit_.bind(this));
for(var j in this.sources_)this.sources_[j].bind(h);this.$auth_.is(":checked")&&!this.$authFields_.is(":visible")&&this.$authFields_.show();this.onSourceChange_(null,true);this.$message_.delegate("a.suggestion","click",this.useSuggestedUrl_.bind(this)).hide().appendTo(this.$url_.closest("div"))},renderUrl:function(h){this.$url_.val(h);h!==this.previousUrl_&&this.resetUrlStatus_();this.previousUrl_=h},verifyUrl:function(){var h=this.$url_.val();if(h!==""){this.ajax_&&this.ajax_.abort();var j=this.$url_;
this.urlTimeout_=BB.delay(300,function(){j.removeClass("success warning error").addClass("spinner")});var v={};this.source_.canAuth()&&this.$auth_.is(":checked")&&a.extend(v,{username:a("#id_username").val(),password:a("#id_password").val()});this.ajax_=a.ajax({url:BB.api.endpoint("_import",this.source_.scm(),h).url(),type:"POST",data:v,timeout:3E4,complete:this.ajaxComplete_.bind(this),success:this.ajaxSuccess_.bind(this)})}},useSuggestedUrl_:function(h){h.preventDefault();this.renderUrl(a(h.target).attr("href"));
this.verifyUrl()},resetUrlStatus_:function(){this.$url_.removeClass("success warning error");this.$message_.hide().removeClass("warning_ error_")},ajaxComplete_:function(h,j){clearTimeout(this.urlTimeout_);this.$url_.removeClass("spinner");if(j==="timeout"){this.$url_.addClass("error");this.$message_.removeClass("warning_ error_").addClass("error_").html("<li>Connecting to the URL timed out.</li>").slideDown()}else switch(h.status){case 400:this.$url_.addClass("error");this.$message_.removeClass("warning_ error_").addClass("error_").html("<li>Invalid repository type.</li>").slideDown();
break;case 404:this.$url_.addClass("error");this.$message_.removeClass("warning_ error_").addClass("error_").html("<li>No repository exists at that URL.</li>").slideDown()}},ajaxSuccess_:function(h,j,v){if(v.status==200)if(h.svn)if(h.trunk){this.$url_.removeClass("error warning").addClass("success");this.$message_.slideUp()}else{this.$url_.removeClass("error success").addClass("warning");h=["<li>The URL does not point to trunk.",h.suggestions.length===0?"":' <a class="suggestion" href="'+h.suggestions[0]+
'">Use trunk instead?</a>',"</li>"].join("");this.$message_.removeClass("warning_ error_").addClass("warning_").html(h).slideDown()}else{this.$message_.slideUp();this.$url_.removeClass("error warning").addClass("success")}},disableButtonAndSubmit_:function(){this.$submitButton_.attr("disabled","disabled");this.$sourceScm_.val(this.source_.scm());this.$form_.submit()},onAuthChange_:function(){this.$authFields_.slideToggle();this.verifyUrl()},onSourceChange_:function(h,j){this.source_&&this.source_.hideSource(j);
this.source_=this.sources_[this.$source_.val()];this.source_.showSource(j);this.verifyUrl()}};var c=function(){};c.prototype={canAuth:function(){return true},bind:function(){},scm:function(){return"not-implemented"},showSource:function(){},hideSource:function(){}};var e=function(){};e.prototype=g.extend(new c,{scm:function(){return"svn"}});var o=function(){};o.prototype=g.extend(new c,{scm:function(){return"hg"}});var w=function(){};w.prototype=g.extend(new c,{scm:function(){return"git"}});var A=
function(h){this.repositoryImporter=h;this.$scm_=this.$projectName_=this.$container_=this.$url_=this.$auth_=this.$form_=this.idleVerifyUrlTimeout_=null};A.prototype=g.extend(new c,{template_:{},bind:function(h){this.$form_=h;this.$auth_=a("#id_auth").closest("div.checkbox");this.$name_=a("#id_name");this.$url_=a("#id_url");this.bindSourceFields_(h);h=a(this.inputElements_());h.keydown(this.onKeyDown_.bind(this));h.keyup(this.onKeyUp_.bind(this));h.change(this.onProjectNameChange_.bind(this));h.blur(this.cancelIdleUrlVerification_.bind(this));
this.$scm_.change(this.renderAndVerifyUrl_.bind(this))},inputElements_:function(){return this.$projectName_[0]},getProjectName_:function(){return this.$projectName_.val()},bindSourceFields_:function(){},canAuth:function(){return false},onKeyDown_:function(h){if(h.keyCode===8){h=this.$projectName_.val();h.indexOf(this.$name_.val())===0&&this.$name_.val(h.substr(0,h.length-1))}},cancelIdleUrlVerification_:function(){s.clearTimeout(this.idleVerifyUrlTimeout_)},onKeyUp_:function(){this.cancelIdleUrlVerification_();
this.idleVerifyUrlTimeout_=BB.delay(2E3,this.renderAndVerifyUrl_.bind(this));this.repositoryImporter.renderUrl(this.url());var h=this.$projectName_.val();h.indexOf(this.$name_.val())===0&&this.$name_.val(h)},onProjectNameChange_:function(){this.repositoryImporter.renderUrl(this.url());this.repositoryImporter.verifyUrl()},renderAndVerifyUrl_:function(){this.repositoryImporter.renderUrl(this.url());this.repositoryImporter.verifyUrl()},url:function(){var h=this.getProjectName_(),j;if(h.trim()){j=this.template_[this.scm()];
return j({projectName:h})}else return""},scm:function(){return this.$scm_.filter(":checked").val()},showSource:function(h){this.$url_.attr("readonly",true);if(!this.$container_.is(":visible"))if(h){this.$container_.show();this.canAuth()?this.$auth_.show():this.$auth_.hide()}else{this.$container_.slideDown();this.canAuth()?this.$auth_.slideDown():this.$auth_.slideUp()}},hideSource:function(h){if(this.$container_.is(":visible"))if(h){this.$container_.hide();this.$auth_.show()}else{this.$container_.slideUp();
this.$auth_.slideDown()}this.$url_.attr("readonly",false)}});var B=function(h){A.call(this,h)};B.prototype=g.extend(new A,{template_:{hg:g.template("https://<%= projectName %>.googlecode.com/hg/"),svn:g.template("http://<%= projectName %>.googlecode.com/svn/trunk"),git:g.template("https://code.google.com/p/<%= projectName %>/")},bindSourceFields_:function(){this.$container_=a("#source-fields-goog");this.$projectName_=a("#id_goog_project_name");this.$scm_=a("#goog-scm input")}});var x=function(h){A.call(this,
h)};x.prototype=g.extend(new A,{template_:{hg:g.template("http://<%= projectName %>.hg.sourceforge.net:8000/hgroot/<%= projectName %>"),svn:g.template("https://<%= projectName %>.svn.sourceforge.net/svnroot/<%= projectName %>")},bindSourceFields_:function(){this.$container_=a("#source-fields-sourceforge");this.$projectName_=a("#id_sourceforge_project_name");this.$scm_=a("#sourceforge-scm input")}});var n=function(h){A.call(this,h)};n.prototype=g.extend(new A,{template_:{hg:g.template("https://hg01.codeplex.com/<%= projectName %>/"),
svn:g.template("https://<%= projectName %>.svn.codeplex.com/svn/")},bindSourceFields_:function(){this.$container_=a("#source-fields-codeplex");this.$projectName_=a("#id_codeplex_project_name");this.$scm_=a("#codeplex-scm input")}});var f=function(h){A.call(this,h)};f.prototype=g.extend(new A,{template_:{git:g.template("https://github.com/<%= projectName %>.git")},scm:function(){return"git"},canAuth:function(){return true},inputElements_:function(){return[this.$projectName_[0],this.$username_[0]]},
getProjectName_:function(){return this.$username_.val()+"/"+this.$projectName_.val()},bindSourceFields_:function(){this.$container_=a("#source-fields-github");this.$projectName_=a("#id_github_project_name");this.$username_=a("#id_github_username");this.$scm_=a()}});a(function(h){h=h("#repo-import");if(h.length===1){(new q).bind(h);h.find("input[type=submit]").removeAttr("disabled")}BB.utils.guard("#repo-create, #repo-import, #repo-fork",function(){(new k).bind()})})})(jQuery,_,this);
function BranchRenderer(){var a=[[153,153,0],[0,153,0],[0,153,153],[0,0,153],[153,0,153],[153,153,0],[0,0,0]],g=[[191,191,64],[64,191,64],[64,191,191],[64,64,191],[191,64,191],[191,191,64],[64,64,64]];this.canvas=document.getElementById("graph");if(!this.canvas.getContext)this.canvas=window.G_vmlCanvasManager.initElement(this.canvas);this.ctx=this.canvas.getContext("2d");this.ctx.strokeStyle="rgb(0, 0, 0)";this.ctx.fillStyle="rgb(0, 0, 0)";this.max_column=1;this.bg=[0,4];this.cell=[2,0];this.scale=
function(s){this.cell_height=this.box_size=Math.floor(s/1.2);this.bg_height=s};this.setColor=function(s,k){var q=k?a:g;q="rgb("+q[s%q.length].join(", ")+")";this.ctx.strokeStyle=q;this.ctx.fillStyle=q};this.render=function(s,k,q){$("#shortlogs-changes");k=k||"li";q=q||2;for(var c=0;c<s.length;++c){var e=s[c];if(e!=null){var o=e[1],w=o[0];o=o[1];e=e[2];var A=$("#chg_"+c).children(":first-child");$("#chg_"+c).next(k).children(":first-child");this.scale(19);this.cell[1]+=A.outerHeight();this.bg[1]+=
this.bg_height;for(var B=0;B<e.length;++B){var x=e[B],n=x[0],f=x[1],h=x[2];x=A.position().top+q;var j=400-(this.cell[0]+this.box_size*n-1+this.bg_height-2),v=x+A.outerHeight(),E=400-(1+this.box_size*f+this.bg_height-2),F=j,K=(v-x)/2+x,G=E,U=v-(v-x)/2,W=null;if(n>this.max_column)this.max_column=n;if(f>this.max_column)this.max_column=f;this.setColor(h,true);var V=this.ctx.strokeStyle;if(c==0){x-=20;W=this.ctx.createLinearGradient(E,v,j,x)}else if(c==s.length-1){v+=20;W=this.ctx.createLinearGradient(j,
x,E,v)}if(W){W.addColorStop(0,V);W.addColorStop(0.8,"white");this.ctx.strokeStyle=W;this.ctx.fillStyle=W}this.ctx.beginPath();this.ctx.moveTo(j,x);if(n==f)this.ctx.lineTo(E,v);else{for(var ha=s[c+1],S=undefined,ba=0;ba<e.length;++ba)if(e[ba][0]===e[ba][1]&&e[ba][1]===f){S=e[ba];break}if(c!=s.length-1&&ha!==undefined&&S!==undefined&&ha[1][0]!=f&&ha[2][f]!==undefined&&ha[2][f][0]==f){h="rgba("+a[h%a.length].join(", ")+", 0.05)";if(W===null){n=Math.min(0.75+0.75*(Math.abs(n-f)+1)/20,0.98);W=this.ctx.createLinearGradient(j,
x,E,v);W.addColorStop(0,V);W.addColorStop(n,V);W.addColorStop(1,h)}else{n=Math.max(0.25-0.25*(Math.abs(n-f)+1)/7,0.02);W.addColorStop(0,h);W.addColorStop(n,V)}this.ctx.strokeStyle=W;this.ctx.fillStyle=W}this.ctx.bezierCurveTo(F,K,G,U,E,v)}this.ctx.stroke()}if(c!=0){e=A.position().top+q;w=400-(Math.round(this.cell[0]*19/2*w+3)+15-w*4);this.ctx.beginPath();this.setColor(o,false);this.ctx.arc(w,e,3,0,Math.PI*2,true);this.ctx.fill()}}}}}
BB.utils.guard("#account-settings-sshkeys",function(a){a.delegate('a[href="#delete"]',"click",function(g){$(this).prev("form").submit();g.preventDefault()})});
(function(a){a.createCommentHandler=function(g,s){function k(n,f,h,j){_.each(n,function(v){if(v.parent_id===f){var E=q(v);if((k(n,v.comment_id,h,E.find(".child-comments"))||!v.deleted)&&(a.user.isAdmin||!v.is_spam))j.append(E)}});return _.any(n,function(v){return v.parent_id===f&&!v.deleted})}function q(n){var f;if(n.deleted){f=$("#comment-deleted-template").clone();f.attr("id","comment-"+n.comment_id)}else{B++;f=$("#comment-template").clone();a.user.id==null&&f.find(".comment-actions").remove();
if(n.is_spam){f.find(".user-comment").addClass("is-spam");f.find(".user-comment").find(".comment-not-spam-link").css("display","block")}f.find("textarea").markItUp(a.markItUpIssueSettings);f.attr("id","comment-"+n.comment_id);f.attr("real-id",n.comment_id);f.find(".comment").html(n.content_rendered);f.find(".edit-comment").val(n.content);f.find(".username").children().attr("href","/"+n.username).text(n.display_name);f.find(".date").append($(document.createElement("time")).attr("datetime",n.created_on).data("title",
true).localize());a.localize();f.find(".user-comment img.avatar").attr("src",n.user_avatar_url).wrap('<a href="/'+n.username+'"></a>');f.find(".comment-permalink a").attr("href","#comment-"+n.comment_id);f.find('input[name="filename"]').val(n.filename);f.find('input[name="parent_id"]').val(n.parent_id);f.find('input[name="comment_id"]').val(n.comment_id);a.user.username!==n.username&&f.find(".edit-link").parent().remove();a.user.isAdmin||f.find(".delete-link").parent().remove()}return f}function c(){jQuery("#comments-count").text("("+
B+")")}function e(n){n=$(n);for(var f=n.children(".deleted")&&n.children(".deleted").length==1,h=n.children(".child-comments").children(),j=false,v=0;v<h.length;v++)e(h[v])||(j=true);if(f&&!j){n.remove();return true}return false}function o(){$(".comment-reply").hide();$(".comment-reply-textarea").text("")}function w(n){n.find(".comment").toggle();n.find(".comment-edit").toggle();n.find(".comment-actions").toggle()}var A,B=0,x=function(n){s.toggleClass("composing-comment",n==="commenting")};s.delegate('a[href="#spam"]',
"click",function(n){var f=$(this).closest("li[id]").find("form").find('input[name="comment_id"]').val(),h=$(this).closest(".user-comment").filter(":first");$.ajax({type:"PUT",url:g.url("spam",f),success:function(){h.removeClass("is-spam");h.find(".comment-not-spam-link").css("display","none")},error:function(){alert("There was an error flagging the comment as not spam.")}});n.preventDefault()});s.delegate('a[href="#reply"]',"click",function(n){x("replying");var f=$(this),h=f.closest("li[id]").filter(":first");
f=f.closest(".user-comment").filter(":first");var j,v,E;o();if(h.children(".comment-reply").length>0)f.next(".comment-reply").is(":visible")||f.next(".comment-reply").show();else{v=f.find('input[name="filename"]').val();E=h.attr("real-id");j=$("#comment-reply-template").clone();j.find(".avatar").wrap('<a href="/'+a.user.username+'"></a>');j.find("textarea").markItUp(a.markItUpIssueSettings);j.find('input[name="filename"]').val(v);j.find('input[name="parent_id"]').val(E);j.attr("id","");j.addClass("comment-reply");
j.css("display","block");j.find(".comment-submit").val("Reply");f.after(j)}h.find("textarea").filter(":visible").val("").focus();n.preventDefault()});s.bind("keydown",function(n){if(n.keyCode==$.ui.keyCode.ESCAPE){var f=s.find(".markItUpEditor:visible");if(f.length){if(f.hasClass("comment-reply-textarea")){x();o()}else{f=f.closest(".user-comment").filter(":first");var h=f.find("textarea");h.val(h.data("originalComment"));w(f,n)}n.preventDefault()}}});s.delegate('a[href="#edit"]',"click",function(n){x("editing");
var f=$(this).closest(".user-comment").filter(":first"),h=f.find("textarea");h.data("originalComment",h.val());w(f,n);h.focus();n.preventDefault()});s.delegate('a[href="#cancel"]',"click",function(n){x();o();n.preventDefault()});s.delegate('a[href="#cancel-edit"]',"click",function(n){x();var f=$(this).closest(".user-comment").filter(":first"),h=f.find("textarea");h.val(h.data("originalComment"));w(f,n);n.preventDefault()});$(".new-comment-link").live("click",function(n){x("commenting");var f,h=$(this),
j,v;o();f=h.next(".comment-reply");if(f.length>0){f.toggle();f=f.find("textarea")}else{v=h.prev(".filename").text();j=$("#comment-reply-template").clone();f=j.find("textarea");j.find('input[name="filename"]').val(v);f.markItUp(a.markItUpIssueSettings);j.attr("id","");j.addClass("comment-reply");j.css("display","block");h.after(j)}f.val("").focus();n.preventDefault()});$(".comment-submit").live("click",function(n){var f=$(this).closest("form").attr("disabled","disabled"),h=f.find('input[name="parent_id"]').val(),
j=f.find('input[name="filename"]').val(),v=f.find(".comment-submit"),E=f.find(".comment-reply-textarea").val();if(!(E==null||E==="")){data={filename:j,parent_id:h,content:E};v.prop("disabled",true);$.post(g.url(),data,function(F){x();o();F=q(F);var K;K=h?$("#comment-"+h).find(".child-comments:first"):j?$("#"+$.md5(j)):$("#comments-list");new_comment=F.hide().appendTo(K);new_comment.find(".user-comment:first").effect("highlight",{},3E3);new_comment.fadeIn("fast");f.removeAttr("disabled");v.prop("disabled",
false);c()})}n.preventDefault()});s.delegate('a[href="#delete"]',"click",function(n){if(confirm("Are you sure you want to remove this comment?")){var f=$(this).closest("li[id]").find("form").find('input[name="comment_id"]').val();$.ajax({type:"DELETE",url:g.url(f),success:function(){$deletedComment=$("#comment-"+f);$deletedComment.find(".user-comment").first().replaceWith('<div class="deleted">Comment deleted</div>');_.each($("#comments-list").children(),e);B--;c()},error:function(){alert("There was an error removing the comment.")}})}n.preventDefault()});
$(".edit-comment-submit").live("click",function(n){var f=$(this).attr("disabled","disabled"),h=f.closest("form"),j=f.closest(".user-comment").filter(":first"),v=h.find('input[name="comment_id"]').val(),E=h.find("textarea"),F=h.find(".comment-submit");h=E.val();if(!(h==null||h==="")){F.prop("disabled",true);$.ajax({type:"PUT",url:g.url(v),data:{content:h},success:function(K){j.find("dd.comment").html(K.content_rendered);w(j,n);F.prop("disabled",false);f.removeAttr("disabled")},error:function(K){alert(K)}})}n.preventDefault()});
return{initialize_all_comments:function(){s.find("input[type=submit]").removeAttr("disabled");var n=window.location.hash;(A=$("#comments-json").data("user-comments"))&&A.length&&k(A,null,null,$("#comments-list"));/^#comment-/.test(n)&&a.delay(1500,function(){$(n).find(".user-comment:first").css("background-color","#fff6c2").animate({"background-color":"#fff"},3E3)});c()}}}})(BB);
(function(){var a=BB.utils.guard;a("#changeset",function(g){var s=BB.api.endpoint("repositories",BB.repo.owner.username,BB.repo.slug,"changesets",BB.changeset,"comments");BB.createCommentHandler(s,g).initialize_all_comments()})})(jQuery);
(function(){var a=window.BB,g=a.utils.guard;g("#pullrequest",function(s){var k=a.api.endpoint("repositories",a.repo.owner.username,a.repo.slug,"pullrequests",a.pullrequest,"comments");a.prCommentHandler=a.createCommentHandler(k,s);a.prCommentHandler.initialize_all_comments();g("#pr-statuses",function(e){var o=s[0],w=/#(accepted|rejected)/.exec(window.location.hash);o.className=w&&w[1]||"open";e.find("a").click(function(){o.className=this.href.replace(/.*#/,"")})});var q=$("#pr-fulfill"),c=(new a.dialog.FormDialog(q,
function(e){e.find("#id_commit_message").keypress(function(o){o.keyCode===13&&$(this).addClass("expanded")}).blur(function(){var o=$(this);/\n/.test(o.val())&&o.addClass("expanded")});e.find('input[name="tzoffset"]').val(-(new Date).getTimezoneOffset())})).bind();$("#pullrequest-actions .reject").each(function(){(new a.dialog.FormDialog($(this))).bind()});$("#pullrequest-actions .update-tooltip").each(function(){var e=$(this),o=e.closest("li"),w=$.cookie("pullrequest-last-seen"),A=e.attr("data-newest-change");
if(w!==A){o.addClass("tooltip-anchor");e.show()}e.delegate(".dismiss","click",function(B){B.preventDefault();$.cookie("pullrequest-last-seen",A);e.hide();o.removeClass("tooltip-anchor")})});g("#compare",function(e){var o=s.find("#pull-from"),w=s.find("#pull-into"),A=o.find("#pull-from-dropdown"),B=w.find("#pull-into-dropdown"),x={},n=function(E,F){var K,G;if(!F){var U=A.find(".selected"),W=B.find(".selected");K=U.data("value");G=W.data("value");if(K&&G){var V=!W.data("exists");F=[e.data("compare-base-url"),
U.data("repo"),V?"+":":",K,"..",W.data("repo"),V?"":":"+G].join("")}}if(F)if(K=x[F])E(K);else{e.addClass("loading").html('<hr/><div class="sane-defaults"><h3>Loading...</h3></div>');$.get(F,function(ha){if(typeof ha==="string"){ha={html:$(innerShiv(ha,false,false))};ha.conflict=ha.html.filter("#compare-has-conflicts").data("value")}else ha.html=$(innerShiv(ha.html,false,false));x[F]=ha;E(ha)})}},f=function(E){e.removeClass("loading").html("<hr />").append(E.html).find(".jsudiff").udiff()},h=function(E){$(E.target).attr("data-branch-name")&&
this.addClass("suppress-errors")},j=$(),v=B.children().first();$("#pr-create").data("has-errors")||A.change(function(E){var F,K=$(E.target);E=K.attr("data-branch-name");K=K.data("value");var G=$("#pull-from .pullrequest-update"),U=G.find("#id_anchor_"+K),W=$("#id_title"),V=$("#id_description"),ha=$("#pullrequest input[type=submit]");G.hide();if(G.length>0)if(U.length){$("#id_update_"+K).show();W.val(U.data("title"));V.val(U.data("description"));ha.val("Update pull request")}else{W.val("");V.val("");
ha.val("Create pull request")}j.removeClass("new-branch");if(E){F=B.children('[data-branch-name="'+E+'"]');if(F.data("exists")){a.delay(function(){F.select()});return}else j=F.addClass("new-branch")}v.select()});A.change(h.bind(o));B.change(h.bind(w));A.children(".selected").trigger("change");if(o=$("#compare-url").attr("data-url"))n(f,o);else{s.find(".branch-dropdown").change(n.bind(null,f,undefined));g("#summary",function(){n(function(E){if(E.conflict){s.addClass("conflicts");c.disable();q.attr("title",
"Cannot fulfill due to conflicts")}f(E)})})}g("#edit-pullrequest-heading",function(){n(f)})})})})();
jQuery(function(a){var g=a(),s=a(".bb-dropdown");s.each(function(){var k=a(this),q=k.children(),c=a(k.data("replaces")),e=q.children('li[data-value="'+c.val()+'"]'),o=q.children(".selected"),w=function(A){o.removeClass("selected");return o=a(A).addClass("selected").trigger("change")};e.length&&w(e);if(!k.hasClass("singleton")){q.children().bind("select",function(){c.val(w(this).data("value"))});k.delegate("li","click",function(){k.hasClass("open")&&a(this).trigger("select")}).click(function(){g=k.toggleClass("open")})}});
a(window).click(function(){s.not(g).filter(".open").click();g=a()})});
(function(a,g){var s=g.BB;s.dialog={};var k=s.dialog.FormDialog=function(q,c){this.$trigger_=a(q);this.url_=this.$trigger_.attr("href");this.onUpdateContents_=c;this.boundClick_=null;this.$dialog_=a("<div>").dialog({dialogClass:"bb-dialog "+this.$trigger_.attr("id")+"-dialog",autoOpen:false,modal:true,width:600,position:["50%",100]})};k.prototype=function(){var q=k.prototype;q.bind=function(){this.boundClick_=this.open.bind(this);this.$trigger_.unbind("click.disabled").click(this.boundClick_);return this};
q.unbind=function(){if(this.boundClick_){this.$trigger_.unbind("click",this.boundClick_);this.boundClick_=null}};q.disable=function(){this.unbind();this.$trigger_.bind("click.disabled",function(c){c.preventDefault()})};q.open=function(c){c.preventDefault();this.$trigger_.addClass("loading");a.get(this.url_,this.open_.bind(this))};q.open_=function(c){this.$trigger_.removeClass("loading");if(c.redirect)g.location=c.redirect;else{this.updateContents(c.html);this.$dialog_.dialog("open")}};q.updateContents=
function(c){this.$dialog_.html(c);this.$form_=this.$dialog_.find("form");this.$form_.find(".submit").hide();this.$originalSubmit_=this.$form_.find("input[type=submit]");c={};c[this.$originalSubmit_.attr("value")]=this.submit.bind(this);this.$dialog_.dialog("option",{buttons:c,title:this.$form_.attr("title")});this.onUpdateContents_&&this.onUpdateContents_(this.$dialog_)};q.submit=function(){var c=this.$originalSubmit_.attr("value");this.$dialog_.next(".ui-dialog-buttonpane").find("button:contains('"+
c+"')").attr("disabled","disabled").addClass("ui-state-disabled");a.post(this.$form_.attr("action"),this.$form_.serialize(),this.submit_.bind(this))};q.submit_=function(c){if(c.success){if(c.redirect)g.location=c.redirect}else c.html&&this.updateContents(c.html)};return q}()})(jQuery,this);
(function(){var a,g;a=BB.utils.guard;g=$.browser.msie;a("#commit-filter-control",function(s){var k,q,c,e,o;e={timeout:5E3,beforeSend:function(){return s.addClass("loading")},success:function(){var w,A,B,x,n;s.removeClass("loading");k.hide();s.find("input").val($("#corrected-search").data("value"));w=$("#commit-filter-nav-urls");n=[];for(x in c){A=c[x];B=w.data(x);n.push(B?A.attr("href",B):A.removeAttr("href"))}return n}};c={prev:s.find('a[rel="prev"]').pjax("#pjax",e),next:s.find('a[rel="next"]').pjax("#pjax",
e),last:s.find('a[rel="last"]').pjax("#pjax",e)};$("#pjax").find(".paginator a").pjax("#pjax",e);o=s.data("url");q=s.find("input");s.submit(function(w){var A;A=(A=encodeURIComponent(q.val()))?""+o+"/"+A:o;g?window.location.assign(A):c.prev.attr("href",A).click();return w.preventDefault()});k=$("#commit-filter-help");return s.find('a[href="#help"]').click(function(w){k.toggle();return w.preventDefault()})})}).call(this);
(function(a){a.fn.hoverIntent=function(g,s){var k={sensitivity:7,interval:100,timeout:0};k=a.extend(k,s?{over:g,out:s}:g);var q,c,e,o,w=function(x){q=x.pageX;c=x.pageY},A=function(x,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(e-q)+Math.abs(o-c)<k.sensitivity){a(n).unbind("mousemove",w);n.hoverIntent_s=1;return k.over.apply(n,[x])}else{e=q;o=c;n.hoverIntent_t=setTimeout(function(){A(x,n)},k.interval)}},B=function(x){var n=jQuery.extend({},x),f=this;if(f.hoverIntent_t)f.hoverIntent_t=
clearTimeout(f.hoverIntent_t);if(x.type=="mouseenter"){e=n.pageX;o=n.pageY;a(f).bind("mousemove",w);if(f.hoverIntent_s!=1)f.hoverIntent_t=setTimeout(function(){A(n,f)},k.interval)}else{a(f).unbind("mousemove",w);if(f.hoverIntent_s==1)f.hoverIntent_t=setTimeout(function(){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);f.hoverIntent_s=0;k.out.apply(f,[n])},k.timeout)}};return this.bind("mouseenter",B).bind("mouseleave",B)}})(jQuery);
(function(a){var g=function(q){q.hasClass("scrollable-off")&&q.removeClass("scrollable-off").addClass("scrollable-on")},s=function(q){q.hasClass("scrollable-on")&&q.removeClass("scrollable-on").addClass("scrollable-off")},k=function(){a(".scrollable").hoverIntent({timeout:500,over:function(){a(this).addClass("scrollable-hover")},out:function(){s(a(this).removeClass("scrollable-hover"))}}).click(function(){var q=a(this);q.hasClass("scrollable-hover")&&g(q)}).children(".overlay").click(function(){g(a(this).parent())})};
k.enableScrolling=g;k.disableScrolling=s;BB.hoverIntent=k})(jQuery);
(function(a){var g=0;a.getScrollbarWidth=function(){if(!g)if(a.browser.msie){var s=a('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1E3,left:-1E3}).appendTo("body"),k=a('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1E3,left:-1E3}).appendTo("body");g=s.width()-k.width();s.add(k).remove()}else{s=a("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1E3,left:-1E3}).prependTo("body").append("<div />").find("div").css({width:"100%",
height:200});g=100-s.width();s.parent().remove()}return g}})(jQuery);
(function(){function a(){if(a.is(arguments[0],R)){for(var p=arguments[0],y=Pb[v](a,p.splice(0,3+a.is(p[0],Y))),b=y.set(),d=0,l=p[V];d<l;d++){var m=p[d]||{};o[B](m.type)&&b[la](y[m.type]().attr(m))}return b}return Pb[v](a,arguments)}function g(){for(var p=[],y=0;y<32;y++)p[y]=(~~(S.random()*16))[Q](16);p[12]=4;p[16]=(p[16]&3|8)[Q](16);return"r-"+p[W]("")}function s(p,y,b){function d(){var l=Array[A].slice.call(arguments,0),m=l[W]("\u25ba"),u=d.cache=d.cache||{},z=d.count=d.count||[];if(u[B](m))return b?
b(u[m]):u[m];z[V]>=1E3&&delete u[z.shift()];z[la](m);u[m]=p[v](y,l);return b?b(u[m]):u[m]}return d}function k(){return this.x+F+this.y}function q(p){return function(y,b,d,l){var m={back:p};a.is(d,"function")?l=d:m.rot=d;y&&y.constructor==Fa&&(y=y.attrs.path);y&&(m.along=y);return this.animate(m,b,l)}}function c(p,y,b,d,l,m){function u(ca,oa){var fa,ga,sa,wa;sa=ca;for(ga=0;ga<8;ga++){wa=((D*sa+C)*sa+z)*sa-ca;if(H(wa)<oa)return sa;fa=(3*D*sa+2*C)*sa+z;if(H(fa)<1.0E-6)break;sa-=wa/fa}fa=0;ga=1;sa=ca;
if(sa<fa)return fa;if(sa>ga)return ga;for(;fa<ga;){wa=((D*sa+C)*sa+z)*sa;if(H(wa-ca)<oa)break;if(ca>wa)fa=sa;else ga=sa;sa=(ga-fa)/2+fa}return sa}var z=3*y,C=3*(d-y)-z,D=1-z-C,J=3*b,L=3*(l-b)-J,P=1-J-L;return function(ca,oa){var fa=u(ca,oa);return((P*fa+L)*fa+J)*fa}(p,1/(200*m))}a.version="1.5.2";var e=/[, ]+/,o={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},w=/\{(\d+)\}/g,A="prototype",B="hasOwnProperty",x=document,n=window,f={was:Object[A][B].call(n,"Raphael"),is:n.Raphael},h=function(){this.customAttributes=
{}},j,v="apply",E="createTouch"in x,F=" ",K=String,G="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(F),U={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},W="join",V="length",ha=K[A].toLowerCase,S=Math,ba=S.max,T=S.min,H=S.abs,N=S.pow,r=S.PI,Y="number",R="array",Q="toString",ia=Object[A][Q],la="push",na=/^url\(['"]?([^\)]+?)['"]?\)$/i,Aa=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
Da={NaN:1,Infinity:1,"-Infinity":1},Ga=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,ua=S.round,qa=parseFloat,X=parseInt,ja=K[A].toUpperCase,Ea={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt",
"stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},Ia={along:"along",blur:Y,"clip-rect":"csv",cx:Y,cy:Y,fill:"colour","fill-opacity":Y,"font-size":Y,height:Y,opacity:Y,path:"path",r:Y,rotation:"csv",rx:Y,ry:Y,scale:"csv",stroke:"colour","stroke-opacity":Y,"stroke-width":Y,translation:"csv",width:Y,x:Y,y:Y},Wa=/^(from|to|\d+%?)$/,$a=/\s*,\s*/,Va={hs:1,rg:1},Xa=/,?([achlmqrstvxz]),?/gi,
ib=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,jb=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,Hb=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,rb=function(p,y){return p.key-y.key};a.type=n.SVGAngle||x.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(a.type=="VML"){var Qa=x.createElement("div");Qa.innerHTML='<v:shape adj="1"/>';Qa=Qa.firstChild;Qa.style.behavior="url(#default#VML)";if(!(Qa&&typeof Qa.adj=="object"))return a.type=null;Qa=null}a.svg=
!(a.vml=a.type=="VML");h[A]=a[A];j=h[A];a._id=0;a._oid=0;a.fn={};a.is=function(p,y){y=ha.call(y);if(y=="finite")return!Da[B](+p);return y=="null"&&p===null||y==typeof p||y=="object"&&p===Object(p)||y=="array"&&Array.isArray&&Array.isArray(p)||ia.call(p).slice(8,-1).toLowerCase()==y};a.angle=function(p,y,b,d,l,m){if(l==null){p=p-b;y=y-d;if(!p&&!y)return 0;return((p<0)*180+S.atan(-y/-p)*180/r+360)%360}else return a.angle(p,y,l,m)-a.angle(b,d,l,m)};a.rad=function(p){return p%360*r/180};a.deg=function(p){return p*
180/r%360};a.snapTo=function(p,y,b){b=a.is(b,"finite")?b:10;if(a.is(p,R))for(var d=p.length;d--;){if(H(p[d]-y)<=b)return p[d]}else{p=+p;d=y%p;if(d<b)return y-d;if(d>p-b)return y-d+p}return y};a.setWindow=function(p){n=p;x=n.document};var cb=function(p){if(a.vml){var y=/^\s+|\s+$/g,b;try{var d=new ActiveXObject("htmlfile");d.write("<body>");d.close();b=d.body}catch(l){b=createPopup().document.body}var m=b.createTextRange();cb=s(function(z){try{b.style.color=K(z).replace(y,"");var C=m.queryCommandValue("ForeColor");
C=(C&255)<<16|C&65280|(C&16711680)>>>16;return"#"+("000000"+C[Q](16)).slice(-6)}catch(D){return"none"}})}else{var u=x.createElement("i");u.title="Rapha\u00ebl Colour Picker";u.style.display="none";x.body.appendChild(u);cb=s(function(z){u.style.color=z;return x.defaultView.getComputedStyle(u,"").getPropertyValue("color")})}return cb(p)},zb=function(){return"hsb("+[this.h,this.s,this.b]+")"},gc=function(){return"hsl("+[this.h,this.s,this.l]+")"},hc=function(){return this.hex};a.hsb2rgb=function(p,y,
b,d){if(a.is(p,"object")&&"h"in p&&"s"in p&&"b"in p){b=p.b;y=p.s;p=p.h;d=p.o}return a.hsl2rgb(p,y,b/2,d)};a.hsl2rgb=function(p,y,b,d){if(a.is(p,"object")&&"h"in p&&"s"in p&&"l"in p){b=p.l;y=p.s;p=p.h}if(p>1||y>1||b>1){p/=360;y/=100;b/=100}var l={},m=["r","g","b"],u;if(y){y=b<0.5?b*(1+y):b+y-b*y;b=2*b-y;for(var z=0;z<3;z++){u=p+1/3*-(z-1);u<0&&u++;u>1&&u--;l[m[z]]=u*6<1?b+(y-b)*6*u:u*2<1?y:u*3<2?b+(y-b)*(2/3-u)*6:b}}else l={r:b,g:b,b:b};l.r*=255;l.g*=255;l.b*=255;l.hex="#"+(16777216|l.b|l.g<<8|l.r<<
16).toString(16).slice(1);a.is(d,"finite")&&(l.opacity=d);l.toString=hc;return l};a.rgb2hsb=function(p,y,b){if(y==null&&a.is(p,"object")&&"r"in p&&"g"in p&&"b"in p){b=p.b;y=p.g;p=p.r}if(y==null&&a.is(p,"string")){var d=a.getRGB(p);p=d.r;y=d.g;b=d.b}if(p>1||y>1||b>1){p/=255;y/=255;b/=255}d=ba(p,y,b);var l=T(p,y,b);if(l==d)return{h:0,s:0,b:d,toString:zb};else{var m=d-l;l=m/d;p=p==d?(y-b)/m:y==d?2+(b-p)/m:4+(p-y)/m;p/=6;p<0&&p++;p>1&&p--}return{h:p,s:l,b:d,toString:zb}};a.rgb2hsl=function(p,y,b){if(y==
null&&a.is(p,"object")&&"r"in p&&"g"in p&&"b"in p){b=p.b;y=p.g;p=p.r}if(y==null&&a.is(p,"string")){var d=a.getRGB(p);p=d.r;y=d.g;b=d.b}if(p>1||y>1||b>1){p/=255;y/=255;b/=255}var l=ba(p,y,b),m=T(p,y,b);d=(l+m)/2;if(m==l)p={h:0,s:0,l:d};else{var u=l-m;m=d<0.5?u/(l+m):u/(2-l-m);p=p==l?(y-b)/u:y==l?2+(b-p)/u:4+(p-y)/u;p/=6;p<0&&p++;p>1&&p--;p={h:p,s:m,l:d}}p.toString=gc;return p};a._path2string=function(){return this.join(",").replace(Xa,"$1")};a.getRGB=s(function(p){if(!p||(p=K(p)).indexOf("-")+1)return{r:-1,
g:-1,b:-1,hex:"none",error:1};if(p=="none")return{r:-1,g:-1,b:-1,hex:"none"};!(Va[B](p.toLowerCase().substring(0,2))||p.charAt()=="#")&&(p=cb(p));var y,b,d,l,m;if(p=p.match(Aa)){if(p[2]){d=X(p[2].substring(5),16);b=X(p[2].substring(3,5),16);y=X(p[2].substring(1,3),16)}if(p[3]){d=X((m=p[3].charAt(3))+m,16);b=X((m=p[3].charAt(2))+m,16);y=X((m=p[3].charAt(1))+m,16)}if(p[4]){m=p[4].split($a);y=qa(m[0]);m[0].slice(-1)=="%"&&(y*=2.55);b=qa(m[1]);m[1].slice(-1)=="%"&&(b*=2.55);d=qa(m[2]);m[2].slice(-1)==
"%"&&(d*=2.55);p[1].toLowerCase().slice(0,4)=="rgba"&&(l=qa(m[3]));m[3]&&m[3].slice(-1)=="%"&&(l/=100)}if(p[5]){m=p[5].split($a);y=qa(m[0]);m[0].slice(-1)=="%"&&(y*=2.55);b=qa(m[1]);m[1].slice(-1)=="%"&&(b*=2.55);d=qa(m[2]);m[2].slice(-1)=="%"&&(d*=2.55);(m[0].slice(-3)=="deg"||m[0].slice(-1)=="\u00b0")&&(y/=360);p[1].toLowerCase().slice(0,4)=="hsba"&&(l=qa(m[3]));m[3]&&m[3].slice(-1)=="%"&&(l/=100);return a.hsb2rgb(y,b,d,l)}if(p[6]){m=p[6].split($a);y=qa(m[0]);m[0].slice(-1)=="%"&&(y*=2.55);b=qa(m[1]);
m[1].slice(-1)=="%"&&(b*=2.55);d=qa(m[2]);m[2].slice(-1)=="%"&&(d*=2.55);(m[0].slice(-3)=="deg"||m[0].slice(-1)=="\u00b0")&&(y/=360);p[1].toLowerCase().slice(0,4)=="hsla"&&(l=qa(m[3]));m[3]&&m[3].slice(-1)=="%"&&(l/=100);return a.hsl2rgb(y,b,d,l)}p={r:y,g:b,b:d};p.hex="#"+(16777216|d|b<<8|y<<16).toString(16).slice(1);a.is(l,"finite")&&(p.opacity=l);return p}return{r:-1,g:-1,b:-1,hex:"none",error:1}},a);a.getColor=function(p){p=this.getColor.start=this.getColor.start||{h:0,s:1,b:p||0.75};var y=this.hsb2rgb(p.h,
p.s,p.b);p.h+=0.075;if(p.h>1){p.h=0;p.s-=0.2;p.s<=0&&(this.getColor.start={h:0,s:1,b:p.b})}return y.hex};a.getColor.reset=function(){delete this.start};a.parsePathString=s(function(p){if(!p)return null;var y={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},b=[];if(a.is(p,R)&&a.is(p[0],R))b=yb(p);b[V]||K(p).replace(ib,function(d,l,m){var u=[];d=ha.call(l);m.replace(jb,function(z,C){C&&u[la](+C)});if(d=="m"&&u[V]>2){b[la]([l].concat(u.splice(0,2)));d="l";l=l=="m"?"l":"L"}for(;u[V]>=y[d];){b[la]([l].concat(u.splice(0,
y[d])));if(!y[d])break}});b[Q]=a._path2string;return b});a.findDotsAtSegment=function(p,y,b,d,l,m,u,z,C){var D=1-C,J=N(D,3)*p+N(D,2)*3*C*b+D*3*C*C*l+N(C,3)*u;D=N(D,3)*y+N(D,2)*3*C*d+D*3*C*C*m+N(C,3)*z;var L=p+2*C*(b-p)+C*C*(l-2*b+p),P=y+2*C*(d-y)+C*C*(m-2*d+y),ca=b+2*C*(l-b)+C*C*(u-2*l+b),oa=d+2*C*(m-d)+C*C*(z-2*m+d);p=(1-C)*p+C*b;y=(1-C)*y+C*d;l=(1-C)*l+C*u;m=(1-C)*m+C*z;z=90-S.atan((L-ca)/(P-oa))*180/r;(L>ca||P<oa)&&(z+=180);return{x:J,y:D,m:{x:L,y:P},n:{x:ca,y:oa},start:{x:p,y:y},end:{x:l,y:m},
alpha:z}};var Ab=s(function(p){if(!p)return{x:0,y:0,width:0,height:0};p=sb(p);for(var y=0,b=0,d=[],l=[],m,u=0,z=p[V];u<z;u++){m=p[u];if(m[0]=="M"){y=m[1];b=m[2];d[la](y);l[la](b)}else{y=Vb(y,b,m[1],m[2],m[3],m[4],m[5],m[6]);d=d.concat(y.min.x,y.max.x);l=l.concat(y.min.y,y.max.y);y=m[5];b=m[6]}}p=T[v](0,d);m=T[v](0,l);return{x:p,y:m,width:ba[v](0,d)-p,height:ba[v](0,l)-m}}),yb=function(p){var y=[];if(!a.is(p,R)||!a.is(p&&p[0],R))p=a.parsePathString(p);for(var b=0,d=p[V];b<d;b++){y[b]=[];for(var l=
0,m=p[b][V];l<m;l++)y[b][l]=p[b][l]}y[Q]=a._path2string;return y},Ib=s(function(p){if(!a.is(p,R)||!a.is(p&&p[0],R))p=a.parsePathString(p);var y=[],b=0,d=0,l=0,m=0,u=0;if(p[0][0]=="M"){b=p[0][1];d=p[0][2];l=b;m=d;u++;y[la](["M",b,d])}u=u;for(var z=p[V];u<z;u++){var C=y[u]=[],D=p[u];if(D[0]!=ha.call(D[0])){C[0]=ha.call(D[0]);switch(C[0]){case "a":C[1]=D[1];C[2]=D[2];C[3]=D[3];C[4]=D[4];C[5]=D[5];C[6]=+(D[6]-b).toFixed(3);C[7]=+(D[7]-d).toFixed(3);break;case "v":C[1]=+(D[1]-d).toFixed(3);break;case "m":l=
D[1];m=D[2];default:for(var J=1,L=D[V];J<L;J++)C[J]=+(D[J]-(J%2?b:d)).toFixed(3)}}else{y[u]=[];if(D[0]=="m"){l=D[1]+b;m=D[2]+d}C=0;for(J=D[V];C<J;C++)y[u][C]=D[C]}D=y[u][V];switch(y[u][0]){case "z":b=l;d=m;break;case "h":b+=+y[u][D-1];break;case "v":d+=+y[u][D-1];break;default:b+=+y[u][D-2];d+=+y[u][D-1]}}y[Q]=a._path2string;return y},0,yb),kb=s(function(p){if(!a.is(p,R)||!a.is(p&&p[0],R))p=a.parsePathString(p);var y=[],b=0,d=0,l=0,m=0,u=0;if(p[0][0]=="M"){b=+p[0][1];d=+p[0][2];l=b;m=d;u++;y[0]=["M",
b,d]}u=u;for(var z=p[V];u<z;u++){var C=y[u]=[],D=p[u];if(D[0]!=ja.call(D[0])){C[0]=ja.call(D[0]);switch(C[0]){case "A":C[1]=D[1];C[2]=D[2];C[3]=D[3];C[4]=D[4];C[5]=D[5];C[6]=+(D[6]+b);C[7]=+(D[7]+d);break;case "V":C[1]=+D[1]+d;break;case "H":C[1]=+D[1]+b;break;case "M":l=+D[1]+b;m=+D[2]+d;default:for(var J=1,L=D[V];J<L;J++)C[J]=+D[J]+(J%2?b:d)}}else{J=0;for(L=D[V];J<L;J++)y[u][J]=D[J]}switch(C[0]){case "Z":b=l;d=m;break;case "H":b=C[1];break;case "V":d=C[1];break;case "M":l=y[u][y[u][V]-2];m=y[u][y[u][V]-
1];default:b=y[u][y[u][V]-2];d=y[u][y[u][V]-1]}}y[Q]=a._path2string;return y},null,yb),Tb=function(p,y,b,d,l,m){var u=1/3,z=2/3;return[u*p+z*b,u*y+z*d,u*l+z*b,u*m+z*d,l,m]},Ub=function(p,y,b,d,l,m,u,z,C,D){var J=r*120/180,L=r/180*(+l||0),P=[],ca,oa=s(function(Ba,Ha,I){var O=Ba*S.cos(I)-Ha*S.sin(I);Ba=Ba*S.sin(I)+Ha*S.cos(I);return{x:O,y:Ba}});if(D){sa=D[0];ca=D[1];m=D[2];ga=D[3]}else{ca=oa(p,y,-L);p=ca.x;y=ca.y;ca=oa(z,C,-L);z=ca.x;C=ca.y;S.cos(r/180*l);S.sin(r/180*l);ca=(p-z)/2;sa=(y-C)/2;var fa=
ca*ca/(b*b)+sa*sa/(d*d);if(fa>1){fa=S.sqrt(fa);b=fa*b;d=fa*d}fa=b*b;ga=d*d;fa=(m==u?-1:1)*S.sqrt(H((fa*ga-fa*sa*sa-ga*ca*ca)/(fa*sa*sa+ga*ca*ca)));m=fa*b*sa/d+(p+z)/2;var ga=fa*-d*ca/b+(y+C)/2,sa=S.asin(((y-ga)/d).toFixed(9));ca=S.asin(((C-ga)/d).toFixed(9));sa=p<m?r-sa:sa;ca=z<m?r-ca:ca;sa<0&&(sa=r*2+sa);ca<0&&(ca=r*2+ca);if(u&&sa>ca)sa-=r*2;if(!u&&ca>sa)ca-=r*2}fa=ca-sa;if(H(fa)>J){P=ca;fa=z;var wa=C;ca=sa+J*(u&&ca>sa?1:-1);z=m+b*S.cos(ca);C=ga+d*S.sin(ca);P=Ub(z,C,b,d,l,0,u,fa,wa,[ca,P,m,ga])}fa=
ca-sa;l=S.cos(sa);J=S.sin(sa);u=S.cos(ca);ca=S.sin(ca);m=S.tan(fa/4);b=4/3*b*m;m=4/3*d*m;d=[p,y];p=[p+b*J,y-m*l];y=[z+b*ca,C-m*u];z=[z,C];p[0]=2*d[0]-p[0];p[1]=2*d[1]-p[1];if(D)return[p,y,z].concat(P);else{P=[p,y,z].concat(P)[W]().split(",");D=[];z=0;for(C=P[V];z<C;z++)D[z]=z%2?oa(P[z-1],P[z],L).y:oa(P[z],P[z+1],L).x;return D}},lb=function(p,y,b,d,l,m,u,z,C){var D=1-C;return{x:N(D,3)*p+N(D,2)*3*C*b+D*3*C*C*l+N(C,3)*u,y:N(D,3)*y+N(D,2)*3*C*d+D*3*C*C*m+N(C,3)*z}},Vb=s(function(p,y,b,d,l,m,u,z){var C=
l-2*b+p-(u-2*l+b),D=2*(b-p)-2*(l-b),J=p-b,L=(-D+S.sqrt(D*D-4*C*J))/2/C;C=(-D-S.sqrt(D*D-4*C*J))/2/C;var P=[y,z],ca=[p,u];H(L)>"1e12"&&(L=0.5);H(C)>"1e12"&&(C=0.5);if(L>0&&L<1){L=lb(p,y,b,d,l,m,u,z,L);ca[la](L.x);P[la](L.y)}if(C>0&&C<1){L=lb(p,y,b,d,l,m,u,z,C);ca[la](L.x);P[la](L.y)}C=m-2*d+y-(z-2*m+d);D=2*(d-y)-2*(m-d);J=y-d;L=(-D+S.sqrt(D*D-4*C*J))/2/C;C=(-D-S.sqrt(D*D-4*C*J))/2/C;H(L)>"1e12"&&(L=0.5);H(C)>"1e12"&&(C=0.5);if(L>0&&L<1){L=lb(p,y,b,d,l,m,u,z,L);ca[la](L.x);P[la](L.y)}if(C>0&&C<1){L=
lb(p,y,b,d,l,m,u,z,C);ca[la](L.x);P[la](L.y)}return{min:{x:T[v](0,ca),y:T[v](0,P)},max:{x:ba[v](0,ca),y:ba[v](0,P)}}}),sb=s(function(p,y){var b=kb(p),d=y&&kb(y),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(fa,ga){var sa,wa;if(!fa)return["C",ga.x,ga.y,ga.x,ga.y,ga.x,ga.y];!(fa[0]in{T:1,Q:1})&&(ga.qx=ga.qy=null);switch(fa[0]){case "M":ga.X=fa[1];ga.Y=fa[2];break;case "A":fa=["C"].concat(Ub[v](0,[ga.x,ga.y].concat(fa.slice(1))));break;case "S":sa=
ga.x+(ga.x-(ga.bx||ga.x));wa=ga.y+(ga.y-(ga.by||ga.y));fa=["C",sa,wa].concat(fa.slice(1));break;case "T":ga.qx=ga.x+(ga.x-(ga.qx||ga.x));ga.qy=ga.y+(ga.y-(ga.qy||ga.y));fa=["C"].concat(Tb(ga.x,ga.y,ga.qx,ga.qy,fa[1],fa[2]));break;case "Q":ga.qx=fa[1];ga.qy=fa[2];fa=["C"].concat(Tb(ga.x,ga.y,fa[1],fa[2],fa[3],fa[4]));break;case "L":fa=["C"].concat([ga.x,ga.y,fa[1],fa[2],fa[1],fa[2]]);break;case "H":fa=["C"].concat([ga.x,ga.y,fa[1],ga.y,fa[1],ga.y]);break;case "V":fa=["C"].concat([ga.x,ga.y,ga.x,fa[1],
ga.x,fa[1]]);break;case "Z":fa=["C"].concat([ga.x,ga.y,ga.X,ga.Y,ga.X,ga.Y])}return fa},z=function(fa,ga){if(fa[ga][V]>7){fa[ga].shift();for(var sa=fa[ga];sa[V];)fa.splice(ga++,0,["C"].concat(sa.splice(0,6)));fa.splice(ga,1);J=ba(b[V],d&&d[V]||0)}},C=function(fa,ga,sa,wa,Ba){if(fa&&ga&&fa[Ba][0]=="M"&&ga[Ba][0]!="M"){ga.splice(Ba,0,["M",wa.x,wa.y]);sa.bx=0;sa.by=0;sa.x=fa[Ba][1];sa.y=fa[Ba][2];J=ba(b[V],d&&d[V]||0)}},D=0,J=ba(b[V],d&&d[V]||0);for(;D<J;D++){b[D]=u(b[D],l);z(b,D);d&&(d[D]=u(d[D],m));
d&&z(d,D);C(b,d,l,m,D);C(d,b,m,l,D);var L=b[D],P=d&&d[D],ca=L[V],oa=d&&P[V];l.x=L[ca-2];l.y=L[ca-1];l.bx=qa(L[ca-4])||l.x;l.by=qa(L[ca-3])||l.y;m.bx=d&&(qa(P[oa-4])||m.x);m.by=d&&(qa(P[oa-3])||m.y);m.x=d&&P[oa-2];m.y=d&&P[oa-1]}return d?[b,d]:b},null,yb),Wb=s(function(p){for(var y=[],b=0,d=p[V];b<d;b++){var l={},m=p[b].match(/^([^:]*):?([\d\.]*)/);l.color=a.getRGB(m[1]);if(l.color.error)return null;l.color=l.color.hex;m[2]&&(l.offset=m[2]+"%");y[la](l)}b=1;for(d=y[V]-1;b<d;b++)if(!y[b].offset){p=
qa(y[b-1].offset||0);m=0;for(l=b+1;l<d;l++)if(y[l].offset){m=y[l].offset;break}if(!m){m=100;l=d}m=qa(m);for(m=(m-p)/(l-b+1);b<l;b++){p+=m;y[b].offset=p+"%"}}return y}),Xb=function(p,y,b,d){if(a.is(p,"string")||a.is(p,"object")){p=a.is(p,"string")?x.getElementById(p):p;if(p.tagName)return y==null?{container:p,width:p.style.pixelWidth||p.offsetWidth,height:p.style.pixelHeight||p.offsetHeight}:{container:p,width:y,height:b}}else return{container:1,x:p,y:y,width:b,height:d}},Bb=function(p,y){var b=this,
d;for(d in y)if(y[B](d)&&!(d in p))switch(typeof y[d]){case "function":(function(l){p[d]=p===b?l:function(){return l[v](b,arguments)}})(y[d]);break;case "object":p[d]=p[d]||{};Bb.call(this,p[d],y[d]);break;default:p[d]=y[d]}},db=function(p,y){p==y.top&&(y.top=p.prev);p==y.bottom&&(y.bottom=p.next);p.next&&(p.next.prev=p.prev);p.prev&&(p.prev.next=p.next)},Yb=function(p,y){if(y.top!==p){db(p,y);p.next=null;p.prev=y.top;y.top.next=p;y.top=p}},Rb=function(p,y){if(y.bottom!==p){db(p,y);p.next=y.bottom;
p.prev=null;y.bottom.prev=p;y.bottom=p}},Ra=function(p,y,b){db(p,b);y==b.top&&(b.top=p);y.next&&(y.next.prev=p);p.next=y.next;p.prev=y;y.next=p},Jb=function(p,y,b){db(p,b);y==b.bottom&&(b.bottom=p);y.prev&&(y.prev.next=p);p.prev=y.prev;y.prev=p;p.next=y},Zb=function(p){return function(){throw Error("Rapha\u00ebl: you are calling to method \u201c"+p+"\u201d of removed object");}};a.pathToRelative=Ib;if(a.svg){j.svgns="http://www.w3.org/2000/svg";j.xlink="http://www.w3.org/1999/xlink";ua=function(p){return+p+
(~~p===p)*0.5};var va=function(p,y){if(y)for(var b in y)y[B](b)&&p.setAttribute(b,K(y[b]));else{p=x.createElementNS(j.svgns,p);p.style.webkitTapHighlightColor="rgba(0,0,0,0)";return p}};a[Q]=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var Kb=function(p,y){var b=va("path");y.canvas&&y.canvas.appendChild(b);b=new Fa(b,y);b.type="path";Ya(b,{fill:"none",stroke:"#000",path:p});return b},tb=function(p,y,b){var d="linear",l=0.5,m=0.5,u=p.style;y=K(y).replace(Hb,
function(J,L,P){d="radial";if(L&&P){l=qa(L);m=qa(P);J=(m>0.5)*2-1;N(l-0.5,2)+N(m-0.5,2)>0.25&&(m=S.sqrt(0.25-N(l-0.5,2))*J+0.5)&&m!=0.5&&(m=m.toFixed(5)-1.0E-5*J)}return""});y=y.split(/\s*\-\s*/);if(d=="linear"){var z=y.shift();z=-qa(z);if(isNaN(z))return null;z=[0,0,S.cos(z*r/180),S.sin(z*r/180)];var C=1/(ba(H(z[2]),H(z[3]))||1);z[2]*=C;z[3]*=C;if(z[2]<0){z[0]=-z[2];z[2]=0}if(z[3]<0){z[1]=-z[3];z[3]=0}}y=Wb(y);if(!y)return null;C=p.getAttribute("fill");(C=C.match(/^url\(#(.*)\)$/))&&b.defs.removeChild(x.getElementById(C[1]));
C=va(d+"Gradient");C.id=g();va(C,d=="radial"?{fx:l,fy:m}:{x1:z[0],y1:z[1],x2:z[2],y2:z[3]});b.defs.appendChild(C);b=0;for(z=y[V];b<z;b++){var D=va("stop");va(D,{offset:y[b].offset?y[b].offset:!b?"0%":"100%","stop-color":y[b].color||"#fff"});C.appendChild(D)}va(p,{fill:"url(#"+C.id+")",opacity:1,"fill-opacity":1});u.fill="";u.opacity=1;return u.fillOpacity=1},Lb=function(p){var y=p.getBBox();va(p.pattern,{patternTransform:a.format("translate({0},{1})",y.x,y.y)})},Ya=function(p,y){var b={"":[0],none:[0],
"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},d=p.node,l=p.attrs,m=p.rotate(),u=function(oa,fa){if(fa=b[ha.call(fa)]){for(var ga=oa.attrs["stroke-width"]||"1",sa={round:ga,square:ga,butt:0}[oa.attrs["stroke-linecap"]||y["stroke-linecap"]]||0,wa=[],Ba=fa[V];Ba--;)wa[Ba]=fa[Ba]*ga+(Ba%2?1:-1)*sa;va(d,{"stroke-dasharray":wa[W](",")})}};y[B]("rotation")&&(m=y.rotation);var z=K(m).split(e);if(z.length-1){z[1]=
+z[1];z[2]=+z[2]}else z=null;qa(m)&&p.rotate(0,true);for(var C in y)if(y[B](C))if(Ea[B](C)){var D=y[C];l[C]=D;switch(C){case "blur":p.blur(D);break;case "rotation":p.rotate(D,true);break;case "href":case "title":case "target":var J=d.parentNode;if(ha.call(J.tagName)!="a"){var L=va("a");J.insertBefore(L,d);L.appendChild(d);J=L}C=="target"&&D=="blank"?J.setAttributeNS(p.paper.xlink,"show","new"):J.setAttributeNS(p.paper.xlink,C,D);break;case "cursor":d.style.cursor=D;break;case "clip-rect":J=K(D).split(e);
if(J[V]==4){p.clip&&p.clip.parentNode.parentNode.removeChild(p.clip.parentNode);var P=va("clipPath");L=va("rect");P.id=g();va(L,{x:J[0],y:J[1],width:J[2],height:J[3]});P.appendChild(L);p.paper.defs.appendChild(P);va(d,{"clip-path":"url(#"+P.id+")"});p.clip=L}if(!D){(D=x.getElementById(d.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&D.parentNode.removeChild(D);va(d,{"clip-path":""});delete p.clip}break;case "path":if(p.type=="path")va(d,{d:D?l.path=kb(D):"M0,0"});break;case "width":d.setAttribute(C,
D);if(l.fx){C="x";D=l.x}else break;case "x":if(l.fx)D=-l.x-(l.width||0);case "rx":if(C=="rx"&&p.type=="rect")break;case "cx":z&&(C=="x"||C=="cx")&&(z[1]+=D-l[C]);d.setAttribute(C,D);p.pattern&&Lb(p);break;case "height":d.setAttribute(C,D);if(l.fy){C="y";D=l.y}else break;case "y":if(l.fy)D=-l.y-(l.height||0);case "ry":if(C=="ry"&&p.type=="rect")break;case "cy":z&&(C=="y"||C=="cy")&&(z[2]+=D-l[C]);d.setAttribute(C,D);p.pattern&&Lb(p);break;case "r":p.type=="rect"?va(d,{rx:D,ry:D}):d.setAttribute(C,
D);break;case "src":p.type=="image"&&d.setAttributeNS(p.paper.xlink,"href",D);break;case "stroke-width":d.style.strokeWidth=D;d.setAttribute(C,D);l["stroke-dasharray"]&&u(p,l["stroke-dasharray"]);break;case "stroke-dasharray":u(p,D);break;case "translation":D=K(D).split(e);D[0]=+D[0]||0;D[1]=+D[1]||0;if(z){z[1]+=D[0];z[2]+=D[1]}qb.call(p,D[0],D[1]);break;case "scale":D=K(D).split(e);p.scale(+D[0]||1,+D[1]||+D[0]||1,isNaN(qa(D[2]))?null:+D[2],isNaN(qa(D[3]))?null:+D[3]);break;case "fill":if(J=K(D).match(na)){P=
va("pattern");var ca=va("image");P.id=g();va(P,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});va(ca,{x:0,y:0});ca.setAttributeNS(p.paper.xlink,"href",J[1]);P.appendChild(ca);D=x.createElement("img");D.style.cssText="position:absolute;left:-9999em;top-9999em";D.onload=function(){va(P,{width:this.offsetWidth,height:this.offsetHeight});va(ca,{width:this.offsetWidth,height:this.offsetHeight});x.body.removeChild(this);p.paper.safari()};x.body.appendChild(D);D.src=J[1];p.paper.defs.appendChild(P);
d.style.fill="url(#"+P.id+")";va(d,{fill:"url(#"+P.id+")"});p.pattern=P;p.pattern&&Lb(p);break}J=a.getRGB(D);if(J.error){if(({circle:1,ellipse:1}[B](p.type)||K(D).charAt()!="r")&&tb(d,D,p.paper)){l.gradient=D;l.fill="none";break}}else{delete y.gradient;delete l.gradient;!a.is(l.opacity,"undefined")&&a.is(y.opacity,"undefined")&&va(d,{opacity:l.opacity});!a.is(l["fill-opacity"],"undefined")&&a.is(y["fill-opacity"],"undefined")&&va(d,{"fill-opacity":l["fill-opacity"]})}J[B]("opacity")&&va(d,{"fill-opacity":J.opacity>
1?J.opacity/100:J.opacity});case "stroke":J=a.getRGB(D);d.setAttribute(C,J.hex);C=="stroke"&&J[B]("opacity")&&va(d,{"stroke-opacity":J.opacity>1?J.opacity/100:J.opacity});break;case "gradient":(({circle:1,ellipse:1})[B](p.type)||K(D).charAt()!="r")&&tb(d,D,p.paper);break;case "opacity":if(l.gradient&&!l[B]("stroke-opacity"))va(d,{"stroke-opacity":D>1?D/100:D});case "fill-opacity":if(l.gradient){if(J=x.getElementById(d.getAttribute("fill").replace(/^url\(#|\)$/g,""))){J=J.getElementsByTagName("stop");
J[J[V]-1].setAttribute("stop-opacity",D)}break}default:C=="font-size"&&(D=X(D,10)+"px");J=C.replace(/(\-.)/g,function(oa){return ja.call(oa.substring(1))});d.style[J]=D;d.setAttribute(C,D)}}ic(p,y);if(z)p.rotate(z.join(F));else qa(m)&&p.rotate(m,true)},ic=function(p,y){if(!(p.type!="text"||!(y[B]("text")||y[B]("font")||y[B]("font-size")||y[B]("x")||y[B]("y")))){var b=p.attrs,d=p.node,l=d.firstChild?X(x.defaultView.getComputedStyle(d.firstChild,"").getPropertyValue("font-size"),10):10;if(y[B]("text")){for(b.text=
y.text;d.firstChild;)d.removeChild(d.firstChild);for(var m=K(y.text).split("\n"),u=0,z=m[V];u<z;u++)if(m[u]){var C=va("tspan");u&&va(C,{dy:l*1.2,x:b.x});C.appendChild(x.createTextNode(m[u]));d.appendChild(C)}}else{m=d.getElementsByTagName("tspan");u=0;for(z=m[V];u<z;u++)u&&va(m[u],{dy:l*1.2,x:b.x})}va(d,{y:b.y});l=p.getBBox();(l=b.y-(l.y+l.height/2))&&a.is(l,"finite")&&va(d,{y:b.y+l})}},Fa=function(p,y){this[0]=p;this.id=a._oid++;this.node=p;p.raphael=this;this.paper=y;this.attrs=this.attrs||{};this.transformations=
[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!y.bottom&&(y.bottom=this);(this.prev=y.top)&&(y.top.next=this);y.top=this;this.next=null},Ca=Fa[A];Fa[A].rotate=function(p,y,b){if(this.removed)return this;if(p==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][W](F);return this._.rt.deg}var d=this.getBBox();p=K(p).split(e);if(p[V]-1){y=qa(p[1]);b=qa(p[2])}p=qa(p[0]);if(y!=null&&y!==false)this._.rt.deg=p;else this._.rt.deg+=p;b==null&&(y=null);this._.rt.cx=y;this._.rt.cy=b;
y=y==null?d.x+d.width/2:y;b=b==null?d.y+d.height/2:b;if(this._.rt.deg){this.transformations[0]=a.format("rotate({0} {1} {2})",this._.rt.deg,y,b);this.clip&&va(this.clip,{transform:a.format("rotate({0} {1} {2})",-this._.rt.deg,y,b)})}else{this.transformations[0]="";this.clip&&va(this.clip,{transform:""})}va(this.node,{transform:this.transformations[W](F)});return this};Fa[A].hide=function(){!this.removed&&(this.node.style.display="none");return this};Fa[A].show=function(){!this.removed&&(this.node.style.display=
"");return this};Fa[A].remove=function(){if(!this.removed){db(this,this.paper);this.node.parentNode.removeChild(this.node);for(var p in this)delete this[p];this.removed=true}};Fa[A].getBBox=function(){if(this.removed)return this;if(this.type=="path")return Ab(this.attrs.path);if(this.node.style.display=="none"){this.show();var p=true}var y={};try{y=this.node.getBBox()}catch(b){}finally{y=y||{}}if(this.type=="text"){y={x:y.x,y:Infinity,width:0,height:0};for(var d=0,l=this.node.getNumberOfChars();d<
l;d++){var m=this.node.getExtentOfChar(d);m.y<y.y&&(y.y=m.y);m.y+m.height-y.y>y.height&&(y.height=m.y+m.height-y.y);m.x+m.width-y.x>y.width&&(y.width=m.x+m.width-y.x)}}p&&this.hide();return y};Fa[A].attr=function(p,y){if(this.removed)return this;if(p==null){var b={},d;for(d in this.attrs)if(this.attrs[B](d))b[d]=this.attrs[d];this._.rt.deg&&(b.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(b.scale=this.scale());b.gradient&&b.fill=="none"&&(b.fill=b.gradient)&&delete b.gradient;return b}if(y==
null&&a.is(p,"string")){if(p=="translation")return qb.call(this);if(p=="rotation")return this.rotate();if(p=="scale")return this.scale();if(p=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[p]}if(y==null&&a.is(p,R)){d={};b=0;for(var l=p.length;b<l;b++)d[p[b]]=this.attr(p[b]);return d}if(y!=null){b={};b[p]=y}else if(p!=null&&a.is(p,"object"))b=p;for(l in this.paper.customAttributes)if(this.paper.customAttributes[B](l)&&b[B](l)&&a.is(this.paper.customAttributes[l],
"function")){d=this.paper.customAttributes[l].apply(this,[].concat(b[l]));this.attrs[l]=b[l];for(var m in d)if(d[B](m))b[m]=d[m]}Ya(this,b);return this};Fa[A].toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var p=this.paper;p.top!=this&&Yb(this,p);return this};Fa[A].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);Rb(this,this.paper)}return this};
Fa[A].insertAfter=function(p){if(this.removed)return this;var y=p.node||p[p.length-1].node;y.nextSibling?y.parentNode.insertBefore(this.node,y.nextSibling):y.parentNode.appendChild(this.node);Ra(this,p,this.paper);return this};Fa[A].insertBefore=function(p){if(this.removed)return this;var y=p.node||p[0].node;y.parentNode.insertBefore(this.node,y);Jb(this,p,this.paper);return this};Fa[A].blur=function(p){if(+p!==0){var y=va("filter"),b=va("feGaussianBlur");this.attrs.blur=p;y.id=g();va(b,{stdDeviation:+p||
1.5});y.appendChild(b);this.paper.defs.appendChild(y);this._blur=y;va(this.node,{filter:"url(#"+y.id+")"})}else{if(this._blur){this._blur.parentNode.removeChild(this._blur);delete this._blur;delete this.attrs.blur}this.node.removeAttribute("filter")}};var ab=function(p,y,b,d){var l=va("circle");p.canvas&&p.canvas.appendChild(l);p=new Fa(l,p);p.attrs={cx:y,cy:b,r:d,fill:"none",stroke:"#000"};p.type="circle";va(l,p.attrs);return p},Mb=function(p,y,b,d,l,m){var u=va("rect");p.canvas&&p.canvas.appendChild(u);
p=new Fa(u,p);p.attrs={x:y,y:b,width:d,height:l,r:m||0,rx:m||0,ry:m||0,fill:"none",stroke:"#000"};p.type="rect";va(u,p.attrs);return p},Nb=function(p,y,b,d,l){var m=va("ellipse");p.canvas&&p.canvas.appendChild(m);p=new Fa(m,p);p.attrs={cx:y,cy:b,rx:d,ry:l,fill:"none",stroke:"#000"};p.type="ellipse";va(m,p.attrs);return p},$b=function(p,y,b,d,l,m){var u=va("image");va(u,{x:b,y:d,width:l,height:m,preserveAspectRatio:"none"});u.setAttributeNS(p.xlink,"href",y);p.canvas&&p.canvas.appendChild(u);p=new Fa(u,
p);p.attrs={x:b,y:d,width:l,height:m,src:y};p.type="image";return p},Sb=function(p,y,b,d){var l=va("text");va(l,{x:y,y:b,"text-anchor":"middle"});p.canvas&&p.canvas.appendChild(l);p=new Fa(l,p);p.attrs={x:y,y:b,"text-anchor":"middle",text:d,font:Ea.font,stroke:"none",fill:"#000"};p.type="text";Ya(p,p.attrs);return p},Ob=function(p,y){this.width=p||this.width;this.height=y||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this},Pb=function(){var p=
Xb[v](0,arguments),y=p&&p.container,b=p.x,d=p.y,l=p.width;p=p.height;if(!y)throw Error("SVG container not found.");var m=va("svg");b=b||0;d=d||0;l=l||512;p=p||342;va(m,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:l,height:p});if(y==1){m.style.cssText="position:absolute;left:"+b+"px;top:"+d+"px";x.body.appendChild(m)}else y.firstChild?y.insertBefore(m,y.firstChild):y.appendChild(m);y=new h;y.width=l;y.height=p;y.canvas=m;Bb.call(y,y,a.fn);y.clear();return y};j.clear=function(){for(var p=this.canvas;p.firstChild;)p.removeChild(p.firstChild);
this.bottom=this.top=null;(this.desc=va("desc")).appendChild(x.createTextNode("Created with Rapha\u00ebl"));p.appendChild(this.desc);p.appendChild(this.defs=va("defs"))};j.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var p in this)this[p]=Zb(p)}}if(a.vml){var ac={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},jc=/([clmz]),?([^clmz]*)/gi,kc=/ progid:\S+Blur\([^\)]+\)/g,lc=/-?[^,\s-]+/g,mb=1E3+F+1E3,ub={path:1,rect:1},mc=function(p){var y=/[ahqstv]/ig,
b=kb;K(p).match(y)&&(b=sb);y=/[clmz]/g;if(b==kb&&!K(p).match(y))return p=K(p).replace(jc,function(C,D,J){var L=[],P=ha.call(D)=="m",ca=ac[D];J.replace(lc,function(oa){if(P&&L[V]==2){ca+=L+ac[D=="m"?"l":"L"];L=[]}L[la](ua(oa*10))});return ca+L});y=b(p);var d;p=[];for(var l=0,m=y[V];l<m;l++){b=y[l];d=ha.call(y[l][0]);d=="z"&&(d="x");for(var u=1,z=b[V];u<z;u++)d+=ua(b[u]*10)+(u!=z-1?",":"");p[la](d)}return p[W](F)};a[Q]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+
this.version};Kb=function(p,y){var b=Pa("group");b.style.cssText="position:absolute;left:0;top:0;width:"+y.width+"px;height:"+y.height+"px";b.coordsize=y.coordsize;b.coordorigin=y.coordorigin;var d=Pa("shape"),l=d.style;l.width=y.width+"px";l.height=y.height+"px";d.coordsize=mb;d.coordorigin=y.coordorigin;b.appendChild(d);d=new Fa(d,b,y);l={fill:"none",stroke:"#000"};p&&(l.path=p);d.type="path";d.path=[];d.Path="";Ya(d,l);y.canvas.appendChild(b);return d};Ya=function(p,y){p.attrs=p.attrs||{};var b=
p.node,d=p.attrs,l=b.style,m;m=(y.x!=d.x||y.y!=d.y||y.width!=d.width||y.height!=d.height||y.r!=d.r)&&p.type=="rect";for(var u in y)if(y[B](u))d[u]=y[u];if(m){d.path=Fb(d.x,d.y,d.width,d.height,d.r);p.X=d.x;p.Y=d.y;p.W=d.width;p.H=d.height}y.href&&(b.href=y.href);y.title&&(b.title=y.title);y.target&&(b.target=y.target);y.cursor&&(l.cursor=y.cursor);"blur"in y&&p.blur(y.blur);if(y.path&&p.type=="path"||m)b.path=mc(d.path);y.rotation!=null&&p.rotate(y.rotation,true);if(y.translation){m=K(y.translation).split(e);
qb.call(p,m[0],m[1]);if(p._.rt.cx!=null){p._.rt.cx+=+m[0];p._.rt.cy+=+m[1];p.setBox(p.attrs,m[0],m[1])}}if(y.scale){m=K(y.scale).split(e);p.scale(+m[0]||1,+m[1]||+m[0]||1,+m[2]||null,+m[3]||null)}if("clip-rect"in y){m=K(y["clip-rect"]).split(e);if(m[V]==4){m[2]=+m[2]+ +m[0];m[3]=+m[3]+ +m[1];u=b.clipRect||x.createElement("div");var z=u.style,C=b.parentNode;z.clip=a.format("rect({1}px {2}px {3}px {0}px)",m);if(!b.clipRect){z.position="absolute";z.top=0;z.left=0;z.width=p.paper.width+"px";z.height=
p.paper.height+"px";C.parentNode.insertBefore(u,C);u.appendChild(C);b.clipRect=u}}if(!y["clip-rect"])b.clipRect&&(b.clipRect.style.clip="")}if(p.type=="image"&&y.src)b.src=y.src;if(p.type=="image"&&y.opacity){b.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+y.opacity*100+")";l.filter=(b.filterMatrix||"")+(b.filterOpacity||"")}y.font&&(l.font=y.font);y["font-family"]&&(l.fontFamily='"'+y["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');y["font-size"]&&(l.fontSize=y["font-size"]);
y["font-weight"]&&(l.fontWeight=y["font-weight"]);y["font-style"]&&(l.fontStyle=y["font-style"]);if(y.opacity!=null||y["stroke-width"]!=null||y.fill!=null||y.stroke!=null||y["stroke-width"]!=null||y["stroke-opacity"]!=null||y["fill-opacity"]!=null||y["stroke-dasharray"]!=null||y["stroke-miterlimit"]!=null||y["stroke-linejoin"]!=null||y["stroke-linecap"]!=null){b=p.shape||b;m=b.getElementsByTagName("fill")&&b.getElementsByTagName("fill")[0];u=false;!m&&(u=m=Pa("fill"));if("fill-opacity"in y||"opacity"in
y){l=((+d["fill-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+a.getRGB(y.fill).o+1||2)-1);l=T(ba(l,0),1);m.opacity=l}y.fill&&(m.on=true);if(m.on==null||y.fill=="none")m.on=false;if(m.on&&y.fill)if(l=y.fill.match(na)){m.src=l[1];m.type="tile"}else{m.color=a.getRGB(y.fill).hex;m.src="";m.type="solid";if(a.getRGB(y.fill).error&&(p.type in{circle:1,ellipse:1}||K(y.fill).charAt()!="r")&&tb(p,y.fill)){d.fill="none";d.gradient=y.fill}}u&&b.appendChild(m);m=b.getElementsByTagName("stroke")&&b.getElementsByTagName("stroke")[0];
u=false;!m&&(u=m=Pa("stroke"));if(y.stroke&&y.stroke!="none"||y["stroke-width"]||y["stroke-opacity"]!=null||y["stroke-dasharray"]||y["stroke-miterlimit"]||y["stroke-linejoin"]||y["stroke-linecap"])m.on=true;(y.stroke=="none"||m.on==null||y.stroke==0||y["stroke-width"]==0)&&(m.on=false);l=a.getRGB(y.stroke);m.on&&y.stroke&&(m.color=l.hex);l=((+d["stroke-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+l.o+1||2)-1);z=(qa(y["stroke-width"])||1)*0.75;l=T(ba(l,0),1);y["stroke-width"]==null&&(z=d["stroke-width"]);
y["stroke-width"]&&(m.weight=z);z&&z<1&&(l*=z)&&(m.weight=1);m.opacity=l;y["stroke-linejoin"]&&(m.joinstyle=y["stroke-linejoin"]||"miter");m.miterlimit=y["stroke-miterlimit"]||8;y["stroke-linecap"]&&(m.endcap=y["stroke-linecap"]=="butt"?"flat":y["stroke-linecap"]=="square"?"square":"round");if(y["stroke-dasharray"]){l={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};m.dashstyle=
l[B](y["stroke-dasharray"])?l[y["stroke-dasharray"]]:""}u&&b.appendChild(m)}if(p.type=="text"){l=p.paper.span.style;d.font&&(l.font=d.font);d["font-family"]&&(l.fontFamily=d["font-family"]);d["font-size"]&&(l.fontSize=d["font-size"]);d["font-weight"]&&(l.fontWeight=d["font-weight"]);d["font-style"]&&(l.fontStyle=d["font-style"]);p.node.string&&(p.paper.span.innerHTML=K(p.node.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));p.W=d.w=p.paper.span.offsetWidth;p.H=d.h=p.paper.span.offsetHeight;
p.X=d.x;p.Y=d.y+ua(p.H/2);switch(d["text-anchor"]){case "start":p.node.style["v-text-align"]="left";p.bbx=ua(p.W/2);break;case "end":p.node.style["v-text-align"]="right";p.bbx=-ua(p.W/2);break;default:p.node.style["v-text-align"]="center"}}};tb=function(p,y){p.attrs=p.attrs||{};var b,d="linear",l=".5 .5";p.attrs.gradient=y;y=K(y).replace(Hb,function(J,L,P){d="radial";if(L&&P){L=qa(L);P=qa(P);N(L-0.5,2)+N(P-0.5,2)>0.25&&(P=S.sqrt(0.25-N(L-0.5,2))*((P>0.5)*2-1)+0.5);l=L+F+P}return""});y=y.split(/\s*\-\s*/);
if(d=="linear"){var m=y.shift();m=-qa(m);if(isNaN(m))return null}var u=Wb(y);if(!u)return null;p=p.shape||p.node;b=p.getElementsByTagName("fill")[0]||Pa("fill");!b.parentNode&&p.appendChild(b);if(u[V]){b.on=true;b.method="none";b.color=u[0].color;b.color2=u[u[V]-1].color;for(var z=[],C=0,D=u[V];C<D;C++)u[C].offset&&z[la](u[C].offset+F+u[C].color);b.colors&&(b.colors.value=z[V]?z[W]():"0% "+b.color);if(d=="radial"){b.type="gradientradial";b.focus="100%";b.focussize=l;b.focusposition=l}else{b.type=
"gradient";b.angle=(270-m)%360}}return 1};Fa=function(p,y,b){this[0]=p;this.id=a._oid++;this.node=p;p.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=y;this.paper=b;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!b.bottom&&(b.bottom=this);(this.prev=b.top)&&(b.top.next=this);b.top=this;this.next=null};Ca=Fa[A];Ca.rotate=function(p,y,b){if(this.removed)return this;if(p==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][W](F);return this._.rt.deg}p=K(p).split(e);if(p[V]-1){y=qa(p[1]);
b=qa(p[2])}p=qa(p[0]);if(y!=null)this._.rt.deg=p;else this._.rt.deg+=p;b==null&&(y=null);this._.rt.cx=y;this._.rt.cy=b;this.setBox(this.attrs,y,b);this.Group.style.rotation=this._.rt.deg;return this};Ca.setBox=function(p,y,b){if(this.removed)return this;var d=this.Group.style,l=this.shape&&this.shape.style||this.node.style;p=p||{};for(var m in p)if(p[B](m))this.attrs[m]=p[m];y=y||this._.rt.cx;b=b||this._.rt.cy;var u=this.attrs,z;switch(this.type){case "circle":p=u.cx-u.r;m=u.cy-u.r;z=u=u.r*2;break;
case "ellipse":p=u.cx-u.rx;m=u.cy-u.ry;z=u.rx*2;u=u.ry*2;break;case "image":p=+u.x;m=+u.y;z=u.width||0;u=u.height||0;break;case "text":this.textpath.v=["m",ua(u.x),", ",ua(u.y-2),"l",ua(u.x)+1,", ",ua(u.y-2)][W]("");p=u.x-ua(this.W/2);m=u.y-this.H/2;z=this.W;u=this.H;break;case "rect":case "path":if(this.attrs.path){u=Ab(this.attrs.path);p=u.x;m=u.y;z=u.width;u=u.height}else{m=p=0;z=this.paper.width;u=this.paper.height}break;default:m=p=0;z=this.paper.width;u=this.paper.height}y=y==null?p+z/2:y;b=
b==null?m+u/2:b;y=y-this.paper.width/2;b=b-this.paper.height/2;var C;d.left!=(C=y+"px")&&(d.left=C);d.top!=(C=b+"px")&&(d.top=C);this.X=ub[B](this.type)?-y:p;this.Y=ub[B](this.type)?-b:m;this.W=z;this.H=u;if(ub[B](this.type)){l.left!=(C=-y*10+"px")&&(l.left=C);l.top!=(C=-b*10+"px")&&(l.top=C)}else if(this.type=="text"){l.left!=(C=-y+"px")&&(l.left=C);l.top!=(C=-b+"px")&&(l.top=C)}else{d.width!=(C=this.paper.width+"px")&&(d.width=C);d.height!=(C=this.paper.height+"px")&&(d.height=C);l.left!=(C=p-y+
"px")&&(l.left=C);l.top!=(C=m-b+"px")&&(l.top=C);l.width!=(C=z+"px")&&(l.width=C);l.height!=(C=u+"px")&&(l.height=C)}};Ca.hide=function(){!this.removed&&(this.Group.style.display="none");return this};Ca.show=function(){!this.removed&&(this.Group.style.display="block");return this};Ca.getBBox=function(){if(this.removed)return this;if(ub[B](this.type))return Ab(this.attrs.path);return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};Ca.remove=function(){if(!this.removed){db(this,this.paper);
this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var p in this)delete this[p];this.removed=true}};Ca.attr=function(p,y){if(this.removed)return this;if(p==null){var b={},d;for(d in this.attrs)if(this.attrs[B](d))b[d]=this.attrs[d];this._.rt.deg&&(b.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(b.scale=this.scale());b.gradient&&b.fill=="none"&&(b.fill=b.gradient)&&delete b.gradient;return b}if(y==
null&&a.is(p,"string")){if(p=="translation")return qb.call(this);if(p=="rotation")return this.rotate();if(p=="scale")return this.scale();if(p=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[p]}if(this.attrs&&y==null&&a.is(p,R)){var l={};d=0;for(b=p[V];d<b;d++)l[p[d]]=this.attr(p[d]);return l}if(y!=null){b={};b[p]=y}y==null&&a.is(p,"object")&&(b=p);if(b){for(l in this.paper.customAttributes)if(this.paper.customAttributes[B](l)&&b[B](l)&&a.is(this.paper.customAttributes[l],
"function")){d=this.paper.customAttributes[l].apply(this,[].concat(b[l]));this.attrs[l]=b[l];for(var m in d)if(d[B](m))b[m]=d[m]}if(b.text&&this.type=="text")this.node.string=b.text;Ya(this,b);if(b.gradient&&({circle:1,ellipse:1}[B](this.type)||K(b.gradient).charAt()!="r"))tb(this,b.gradient);(!ub[B](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};Ca.toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=this&&Yb(this,this.paper);return this};
Ca.toBack=function(){if(this.removed)return this;if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);Rb(this,this.paper)}return this};Ca.insertAfter=function(p){if(this.removed)return this;if(p.constructor==Ma)p=p[p.length-1];p.Group.nextSibling?p.Group.parentNode.insertBefore(this.Group,p.Group.nextSibling):p.Group.parentNode.appendChild(this.Group);Ra(this,p,this.paper);return this};Ca.insertBefore=function(p){if(this.removed)return this;
if(p.constructor==Ma)p=p[0];p.Group.parentNode.insertBefore(this.Group,p.Group);Jb(this,p,this.paper);return this};Ca.blur=function(p){var y=this.node.runtimeStyle,b=y.filter;b=b.replace(kc,"");if(+p!==0){this.attrs.blur=p;y.filter=b+F+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+p||1.5)+")";y.margin=a.format("-{0}px 0 0 -{0}px",ua(+p||1.5))}else{y.filter=b;y.margin=0;delete this.attrs.blur}};ab=function(p,y,b,d){var l=Pa("group"),m=Pa("oval");l.style.cssText="position:absolute;left:0;top:0;width:"+
p.width+"px;height:"+p.height+"px";l.coordsize=mb;l.coordorigin=p.coordorigin;l.appendChild(m);m=new Fa(m,l,p);m.type="circle";Ya(m,{stroke:"#000",fill:"none"});m.attrs.cx=y;m.attrs.cy=b;m.attrs.r=d;m.setBox({x:y-d,y:b-d,width:d*2,height:d*2});p.canvas.appendChild(l);return m};var Fb=function(p,y,b,d,l){return l?a.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",p+l,y,b-l*2,l,-l,d-l*2,l*2-b,l*2-d):a.format("M{0},{1}l{2},0,0,{3},{4},0z",
p,y,b,d,-b)};Mb=function(p,y,b,d,l,m){var u=Fb(y,b,d,l,m);p=p.path(u);var z=p.attrs;p.X=z.x=y;p.Y=z.y=b;p.W=z.width=d;p.H=z.height=l;z.r=m;z.path=u;p.type="rect";return p};Nb=function(p,y,b,d,l){var m=Pa("group"),u=Pa("oval");m.style.cssText="position:absolute;left:0;top:0;width:"+p.width+"px;height:"+p.height+"px";m.coordsize=mb;m.coordorigin=p.coordorigin;m.appendChild(u);u=new Fa(u,m,p);u.type="ellipse";Ya(u,{stroke:"#000"});u.attrs.cx=y;u.attrs.cy=b;u.attrs.rx=d;u.attrs.ry=l;u.setBox({x:y-d,y:b-
l,width:d*2,height:l*2});p.canvas.appendChild(m);return u};$b=function(p,y,b,d,l,m){var u=Pa("group"),z=Pa("image");u.style.cssText="position:absolute;left:0;top:0;width:"+p.width+"px;height:"+p.height+"px";u.coordsize=mb;u.coordorigin=p.coordorigin;z.src=y;u.appendChild(z);z=new Fa(z,u,p);z.type="image";z.attrs.src=y;z.attrs.x=b;z.attrs.y=d;z.attrs.w=l;z.attrs.h=m;z.setBox({x:b,y:d,width:l,height:m});p.canvas.appendChild(u);return z};Sb=function(p,y,b,d){var l=Pa("group"),m=Pa("shape"),u=m.style,
z=Pa("path"),C=Pa("textpath");l.style.cssText="position:absolute;left:0;top:0;width:"+p.width+"px;height:"+p.height+"px";l.coordsize=mb;l.coordorigin=p.coordorigin;z.v=a.format("m{0},{1}l{2},{1}",ua(y*10),ua(b*10),ua(y*10)+1);z.textpathok=true;u.width=p.width;u.height=p.height;C.string=K(d);C.on=true;m.appendChild(C);m.appendChild(z);l.appendChild(m);u=new Fa(C,l,p);u.shape=m;u.textpath=z;u.type="text";u.attrs.text=d;u.attrs.x=y;u.attrs.y=b;u.attrs.w=1;u.attrs.h=1;Ya(u,{font:Ea.font,stroke:"none",
fill:"#000"});u.setBox();p.canvas.appendChild(l);return u};Ob=function(p,y){var b=this.canvas.style;p==+p&&(p+="px");y==+y&&(y+="px");b.width=p;b.height=y;b.clip="rect(0 "+p+" "+y+" 0)";return this};var Pa;x.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!x.namespaces.rvml&&x.namespaces.add("rvml","urn:schemas-microsoft-com:vml");Pa=function(p){return x.createElement("<rvml:"+p+' class="rvml">')}}catch(nc){Pa=function(p){return x.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Pb=
function(){var p=Xb[v](0,arguments),y=p.container,b=p.height,d=p.width,l=p.x;p=p.y;if(!y)throw Error("VML container not found.");var m=new h,u=m.canvas=x.createElement("div"),z=u.style;l=l||0;p=p||0;d=d||512;b=b||342;d==+d&&(d+="px");b==+b&&(b+="px");m.width=1E3;m.height=1E3;m.coordsize=1E4+F+1E4;m.coordorigin="0 0";m.span=x.createElement("span");m.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";u.appendChild(m.span);z.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",
d,b);if(y==1){x.body.appendChild(u);z.left=l+"px";z.top=p+"px";z.position="absolute"}else y.firstChild?y.insertBefore(u,y.firstChild):y.appendChild(u);Bb.call(m,m,a.fn);return m};j.clear=function(){this.canvas.innerHTML="";this.span=x.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};j.remove=function(){this.canvas.parentNode.removeChild(this.canvas);
for(var p in this)this[p]=Zb(p);return true}}Qa=navigator.userAgent.match(/Version\/(.*?)\s/);j.safari=navigator.vendor=="Apple Computer, Inc."&&(Qa&&Qa[1]<4||navigator.platform.slice(0,2)=="iP")?function(){var p=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});n.setTimeout(function(){p.remove()})}:function(){};var bc=function(){this.returnValue=false},Gb=function(){return this.originalEvent.preventDefault()},cc=function(){this.cancelBubble=true},eb=function(){return this.originalEvent.stopPropagation()},
fb=function(){if(x.addEventListener)return function(p,y,b,d){var l=E&&U[y]?U[y]:y,m=function(u){if(E&&U[B](y))for(var z=0,C=u.targetTouches&&u.targetTouches.length;z<C;z++)if(u.targetTouches[z].target==p){C=u;u=u.targetTouches[z];u.originalEvent=C;u.preventDefault=Gb;u.stopPropagation=eb;break}return b.call(d,u)};p.addEventListener(l,m,false);return function(){p.removeEventListener(l,m,false);return true}};else if(x.attachEvent)return function(p,y,b,d){var l=function(m){m=m||n.event;m.preventDefault=
m.preventDefault||bc;m.stopPropagation=m.stopPropagation||cc;return b.call(d,m)};p.attachEvent("on"+y,l);return function(){p.detachEvent("on"+y,l);return true}}}(),Ua=[],Qb=function(p){for(var y=p.clientX,b=p.clientY,d=x.documentElement.scrollTop||x.body.scrollTop,l=x.documentElement.scrollLeft||x.body.scrollLeft,m,u=Ua.length;u--;){m=Ua[u];if(E)for(var z=p.touches.length,C;z--;){C=p.touches[z];if(C.identifier==m.el._drag.id){y=C.clientX;b=C.clientY;(p.originalEvent?p.originalEvent:p).preventDefault();
break}}else p.preventDefault();y+=l;b+=d;m.move&&m.move.call(m.move_scope||m.el,y-m.el._drag.x,b-m.el._drag.y,y,b,p)}},pb=function(p){a.unmousemove(Qb).unmouseup(pb);for(var y=Ua.length,b;y--;){b=Ua[y];b.el._drag={};b.end&&b.end.call(b.end_scope||b.start_scope||b.move_scope||b.el,p)}Ua=[]};for(Qa=G[V];Qa--;)(function(p){a[p]=Fa[A][p]=function(y,b){if(a.is(y,"function")){this.events=this.events||[];this.events.push({name:p,f:y,unbind:fb(this.shape||this.node||x,p,y,b||this)})}return this};a["un"+p]=
Fa[A]["un"+p]=function(y){for(var b=this.events,d=b[V];d--;)if(b[d].name==p&&b[d].f==y){b[d].unbind();b.splice(d,1);!b.length&&delete this.events;break}return this}})(G[Qa]);Ca.hover=function(p,y,b,d){return this.mouseover(p,b).mouseout(y,d||b)};Ca.unhover=function(p,y){return this.unmouseover(p).unmouseout(y)};Ca.drag=function(p,y,b,d,l,m){this._drag={};this.mousedown(function(u){(u.originalEvent||u).preventDefault();var z=x.documentElement.scrollTop||x.body.scrollTop,C=x.documentElement.scrollLeft||
x.body.scrollLeft;this._drag.x=u.clientX+C;this._drag.y=u.clientY+z;this._drag.id=u.identifier;y&&y.call(l||d||this,u.clientX+C,u.clientY+z,u);!Ua.length&&a.mousemove(Qb).mouseup(pb);Ua.push({el:this,move:p,end:b,move_scope:d,start_scope:l,end_scope:m})});return this};Ca.undrag=function(p,y,b){for(y=Ua.length;y--;)Ua[y].el==this&&Ua[y].move==p&&Ua[y].end==b&&Ua.splice(y++,1);!Ua.length&&a.unmousemove(Qb).unmouseup(pb)};j.circle=function(p,y,b){return ab(this,p||0,y||0,b||0)};j.rect=function(p,y,b,
d,l){return Mb(this,p||0,y||0,b||0,d||0,l||0)};j.ellipse=function(p,y,b,d){return Nb(this,p||0,y||0,b||0,d||0)};j.path=function(p){p&&!a.is(p,"string")&&!a.is(p[0],R)&&(p+="");return Kb(a.format[v](a,arguments),this)};j.image=function(p,y,b,d,l){return $b(this,p||"about:blank",y||0,b||0,d||0,l||0)};j.text=function(p,y,b){return Sb(this,p||0,y||0,K(b))};j.set=function(p){arguments[V]>1&&(p=Array[A].splice.call(arguments,0,arguments[V]));return new Ma(p)};j.setSize=Ob;j.top=j.bottom=null;j.raphael=
a;Ca.resetScale=function(){if(this.removed)return this;this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};Ca.scale=function(p,y,b,d){if(this.removed)return this;if(p==null&&y==null)return{x:this._.sx,y:this._.sy,toString:k};y=y||p;!+y&&(y=p);var l,m,u=this.attrs;if(p!=0){var z=this.getBBox(),C=z.x+z.width/2,D=z.y+z.height/2;l=H(p/this._.sx);m=H(y/this._.sy);b=+b||b==0?b:C;d=+d||d==0?d:D;var J=this._.sx>0,L=this._.sy>0;z=~~(p/H(p));var P=~~(y/H(y)),ca=l*z,oa=m*P,fa=this.node.style;C=b+H(C-b)*ca*(C>b==
J?1:-1);D=d+H(D-d)*oa*(D>d==L?1:-1);var ga=p*z>y*P?m:l;switch(this.type){case "rect":case "image":var sa=u.width*l,wa=u.height*m;this.attr({height:wa,r:u.r*ga,width:sa,x:C-sa/2,y:D-wa/2});break;case "circle":case "ellipse":this.attr({rx:u.rx*l,ry:u.ry*m,r:u.r*ga,cx:C,cy:D});break;case "text":this.attr({x:C,y:D});break;case "path":ga=Ib(u.path);var Ba=true;J=J?ca:l;L=L?oa:m;oa=0;for(ca=ga[V];oa<ca;oa++){var Ha=ga[oa],I=ja.call(Ha[0]);if(!(I=="M"&&Ba)){Ba=false;if(I=="A"){Ha[ga[oa][V]-2]*=J;Ha[ga[oa][V]-
1]*=L;Ha[1]*=l;Ha[2]*=m;Ha[5]=+(z+P?!!+Ha[5]:!+Ha[5])}else if(I=="H"){I=1;for(var O=Ha[V];I<O;I++)Ha[I]*=J}else if(I=="V"){I=1;for(O=Ha[V];I<O;I++)Ha[I]*=L}else{I=1;for(O=Ha[V];I<O;I++)Ha[I]*=I%2?J:L}}}m=Ab(ga);l=C-m.x-m.width/2;m=D-m.y-m.height/2;ga[0][1]+=l;ga[0][2]+=m;this.attr({path:ga})}if(this.type in{text:1,image:1}&&(z!=1||P!=1))if(this.transformations){this.transformations[2]="scale(".concat(z,",",P,")");this.node.setAttribute("transform",this.transformations[W](F));l=z==-1?-u.x-(sa||0):
u.x;m=P==-1?-u.y-(wa||0):u.y;this.attr({x:l,y:m});u.fx=z-1;u.fy=P-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(z,", M12=0, M21=0, M22=",P,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");fa.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}else if(this.transformations){this.transformations[2]="";this.node.setAttribute("transform",this.transformations[W](F));u.fx=0;u.fy=0}else{this.node.filterMatrix="";fa.filter=(this.node.filterMatrix||
"")+(this.node.filterOpacity||"")}u.scale=[p,y,b,d][W](F);this._.sx=p;this._.sy=y}return this};Ca.clone=function(){if(this.removed)return null;var p=this.attr();delete p.scale;delete p.translation;return this.paper[this.type]().attr(p)};var wb={},Eb=function(p,y,b,d,l,m,u,z,C){var D=0,J=100,L=[p,y,b,d,l,m,u,z].join(),P=wb[L],ca,oa;!P&&(wb[L]=P={data:[]});P.timer&&clearTimeout(P.timer);P.timer=setTimeout(function(){delete wb[L]},2E3);if(C!=null)J=~~Eb(p,y,b,d,l,m,u,z)*10;for(var fa=0;fa<J+1;fa++){if(P.data[C]>
fa)oa=P.data[fa*J];else{oa=a.findDotsAtSegment(p,y,b,d,l,m,u,z,fa/J);P.data[fa]=oa}fa&&(D+=N(N(ca.x-oa.x,2)+N(ca.y-oa.y,2),0.5));if(C!=null&&D>=C)return oa;ca=oa}if(C==null)return D};G=function(p,y){return function(b,d,l){b=sb(b);for(var m,u,z,C,D="",J={},L=0,P=0,ca=b.length;P<ca;P++){z=b[P];if(z[0]=="M"){m=+z[1];u=+z[2]}else{C=Eb(m,u,z[1],z[2],z[3],z[4],z[5],z[6]);if(L+C>d){if(y&&!J.start){m=Eb(m,u,z[1],z[2],z[3],z[4],z[5],z[6],d-L);D+=["C",m.start.x,m.start.y,m.m.x,m.m.y,m.x,m.y];if(l)return D;
J.start=D;D=["M",m.x,m.y+"C",m.n.x,m.n.y,m.end.x,m.end.y,z[5],z[6]][W]();L+=C;m=+z[5];u=+z[6];continue}if(!p&&!y){m=Eb(m,u,z[1],z[2],z[3],z[4],z[5],z[6],d-L);return{x:m.x,y:m.y,alpha:m.alpha}}}L+=C;m=+z[5];u=+z[6]}D+=z}J.end=D;m=p?L:y?J:a.findDotsAtSegment(m,u,z[1],z[2],z[3],z[4],z[5],z[6],1);m.alpha&&(m={x:m.x,y:m.y,alpha:m.alpha});return m}};var gb=G(1),hb=G(),Ta=G(0,1);Ca.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return gb(this.attrs.path)}};
Ca.getPointAtLength=function(p){if(this.type=="path")return hb(this.attrs.path,p)};Ca.getSubpath=function(p,y){if(this.type=="path"){if(H(this.getTotalLength()-y)<"1e-6")return Ta(this.attrs.path,p).end;var b=Ta(this.attrs.path,y,1);return p?Ta(b,p).end:b}};a.easing_formulas={linear:function(p){return p},"<":function(p){return N(p,3)},">":function(p){return N(p-1,3)+1},"<>":function(p){p*=2;if(p<1)return N(p,3)/2;p-=2;return(N(p,3)+2)/2},backIn:function(p){return p*p*(2.70158*p-1.70158)},backOut:function(p){p-=
1;return p*p*(2.70158*p+1.70158)+1},elastic:function(p){if(p==0||p==1)return p;return N(2,-10*p)*S.sin((p-0.075)*2*r/0.3)+1},bounce:function(p){if(p<1/2.75)p=7.5625*p*p;else if(p<2/2.75){p-=1.5/2.75;p=7.5625*p*p+0.75}else if(p<2.5/2.75){p-=2.25/2.75;p=7.5625*p*p+0.9375}else{p-=2.625/2.75;p=7.5625*p*p+0.984375}return p}};var Na=[],fc=function(){for(var p=+new Date,y=0;y<Na[V];y++){var b=Na[y];if(!(b.stop||b.el.removed)){var d=p-b.start,l=b.ms,m=b.easing,u=b.from,z=b.diff,C=b.to,D=b.t,J=b.el;b={};var L;
if(d<l){d=m(d/l);for(var P in u)if(u[B](P)){switch(Ia[P]){case "along":L=d*l*z[P];C.back&&(L=C.len-L);m=hb(C[P],L);J.translate(z.sx-z.x||0,z.sy-z.y||0);z.x=m.x;z.y=m.y;J.translate(m.x-z.sx,m.y-z.sy);C.rot&&J.rotate(z.r+m.alpha,m.x,m.y);break;case Y:L=+u[P]+d*l*z[P];break;case "colour":L="rgb("+[Za(ua(u[P].r+d*l*z[P].r)),Za(ua(u[P].g+d*l*z[P].g)),Za(ua(u[P].b+d*l*z[P].b))][W](",")+")";break;case "path":L=[];m=0;for(var ca=u[P][V];m<ca;m++){L[m]=[u[P][m][0]];for(var oa=1,fa=u[P][m][V];oa<fa;oa++)L[m][oa]=
+u[P][m][oa]+d*l*z[P][m][oa];L[m]=L[m][W](F)}L=L[W](F);break;case "csv":switch(P){case "translation":L=d*l*z[P][0]-D.x;m=d*l*z[P][1]-D.y;D.x+=L;D.y+=m;L=L+F+m;break;case "rotation":L=+u[P][0]+d*l*z[P][0];u[P][1]&&(L+=","+u[P][1]+","+u[P][2]);break;case "scale":L=[+u[P][0]+d*l*z[P][0],+u[P][1]+d*l*z[P][1],2 in C[P]?C[P][2]:"",3 in C[P]?C[P][3]:""][W](F);break;case "clip-rect":L=[];for(m=4;m--;)L[m]=+u[P][m]+d*l*z[P][m]}break;default:ca=[].concat(u[P]);L=[];for(m=J.paper.customAttributes[P].length;m--;)L[m]=
+ca[m]+d*l*z[P][m]}b[P]=L}J.attr(b);J._run&&J._run.call(J)}else{if(C.along){m=hb(C.along,C.len*!C.back);J.translate(z.sx-(z.x||0)+m.x-z.sx,z.sy-(z.y||0)+m.y-z.sy);C.rot&&J.rotate(z.r+m.alpha,m.x,m.y)}(D.x||D.y)&&J.translate(-D.x,-D.y);C.scale&&(C.scale+="");J.attr(C);Na.splice(y--,1)}}}a.svg&&J&&J.paper&&J.paper.safari();Na[V]&&setTimeout(fc)},pc=function(p,y,b,d,l){var m=b-d;y.timeouts.push(setTimeout(function(){a.is(l,"function")&&l.call(y);y.animate(p,m,p.easing)},d))},Za=function(p){return ba(T(p,
255),0)},qb=function(p,y){if(p==null)return{x:this._.tx,y:this._.ty,toString:k};this._.tx+=+p;this._.ty+=+y;switch(this.type){case "circle":case "ellipse":this.attr({cx:+p+this.attrs.cx,cy:+y+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+p+this.attrs.x,y:+y+this.attrs.y});break;case "path":var b=Ib(this.attrs.path);b[0][1]+=+p;b[0][2]+=+y;this.attr({path:b})}return this};Ca.animateWith=function(p,y,b,d,l){for(var m=0,u=Na.length;m<u;m++)if(Na[m].el.id==p.id)y.start=Na[m].start;
return this.animate(y,b,d,l)};Ca.animateAlong=q();Ca.animateAlongBack=q(1);Ca.onAnimation=function(p){this._run=p||0;return this};Ca.animate=function(p,y,b,d){var l=this;l.timeouts=l.timeouts||[];if(a.is(b,"function")||!b)d=b||null;if(l.removed){d&&d.call(l);return l}var m={},u={},z=false,C={},D;for(D in p)if(p[B](D))if(Ia[B](D)||l.paper.customAttributes[B](D)){z=true;m[D]=l.attr(D);m[D]==null&&(m[D]=Ea[D]);u[D]=p[D];switch(Ia[D]){case "along":var J=gb(p[D]),L=hb(p[D],J*!!p.back),P=l.getBBox();C[D]=
J/y;C.tx=P.x;C.ty=P.y;C.sx=L.x;C.sy=L.y;u.rot=p.rot;u.back=p.back;u.len=J;p.rot&&(C.r=qa(l.rotate())||0);break;case Y:C[D]=(u[D]-m[D])/y;break;case "colour":m[D]=a.getRGB(m[D]);J=a.getRGB(u[D]);C[D]={r:(J.r-m[D].r)/y,g:(J.g-m[D].g)/y,b:(J.b-m[D].b)/y};break;case "path":J=sb(m[D],u[D]);m[D]=J[0];P=J[1];C[D]=[];J=0;for(L=m[D][V];J<L;J++){C[D][J]=[0];for(var ca=1,oa=m[D][J][V];ca<oa;ca++)C[D][J][ca]=(P[J][ca]-m[D][J][ca])/y}break;case "csv":L=K(p[D]).split(e);P=K(m[D]).split(e);switch(D){case "translation":m[D]=
[0,0];C[D]=[L[0]/y,L[1]/y];break;case "rotation":m[D]=P[1]==L[1]&&P[2]==L[2]?P:[0,L[1],L[2]];C[D]=[(L[0]-m[D][0])/y,0,0];break;case "scale":p[D]=L;m[D]=K(m[D]).split(e);C[D]=[(L[0]-m[D][0])/y,(L[1]-m[D][1])/y,0,0];break;case "clip-rect":m[D]=K(m[D]).split(e);C[D]=[];for(J=4;J--;)C[D][J]=(L[J]-m[D][J])/y}u[D]=L;break;default:L=[].concat(p[D]);P=[].concat(m[D]);C[D]=[];for(J=l.paper.customAttributes[D][V];J--;)C[D][J]=((L[J]||0)-(P[J]||0))/y}}if(z){D=a.easing_formulas[b];if(!D)if((D=K(b).match(Ga))&&
D[V]==5){var fa=D;D=function(wa){return c(wa,+fa[1],+fa[2],+fa[3],+fa[4],y)}}else D=function(wa){return wa};Na.push({start:p.start||+new Date,ms:y,easing:D,from:m,diff:C,to:u,el:l,t:{x:0,y:0}});a.is(d,"function")&&(l._ac=setTimeout(function(){d.call(l)},y));Na[V]==1&&setTimeout(fc)}else{b=[];var ga,sa;for(sa in p)if(p[B](sa)&&Wa.test(sa)){D={value:p[sa]};sa=="from"&&(sa=0);sa=="to"&&(sa=100);D.key=X(sa,10);b.push(D)}b.sort(rb);b[0].key&&b.unshift({key:0,value:l.attrs});J=0;for(L=b[V];J<L;J++)pc(b[J].value,
l,y/100*b[J].key,y/100*(b[J-1]&&b[J-1].key||0),b[J-1]&&b[J-1].value.callback);(ga=b[b[V]-1].value.callback)&&l.timeouts.push(setTimeout(function(){ga.call(l)},y))}return this};Ca.stop=function(){for(var p=0;p<Na.length;p++)Na[p].el.id==this.id&&Na.splice(p--,1);p=0;for(ii=this.timeouts&&this.timeouts.length;p<ii;p++)clearTimeout(this.timeouts[p]);this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};Ca.translate=function(p,y){return this.attr({translation:p+" "+y})};Ca[Q]=function(){return"Rapha\u00ebl\u2019s object"};
a.ae=Na;var Ma=function(p){this.items=[];this[V]=0;this.type="set";if(p)for(var y=0,b=p[V];y<b;y++)if(p[y]&&(p[y].constructor==Fa||p[y].constructor==Ma)){this[this.items[V]]=this.items[this.items[V]]=p[y];this[V]++}};Ma[A][la]=function(){for(var p,y,b=0,d=arguments[V];b<d;b++)if((p=arguments[b])&&(p.constructor==Fa||p.constructor==Ma)){y=this.items[V];this[y]=this.items[y]=p;this[V]++}return this};Ma[A].pop=function(){delete this[this[V]--];return this.items.pop()};for(var xb in Ca)if(Ca[B](xb))Ma[A][xb]=
function(p){return function(){for(var y=0,b=this.items[V];y<b;y++)this.items[y][p][v](this.items[y],arguments);return this}}(xb);Ma[A].attr=function(p,y){if(p&&a.is(p,R)&&a.is(p[0],"object"))for(var b=0,d=p[V];b<d;b++)this.items[b].attr(p[b]);else{b=0;for(d=this.items[V];b<d;b++)this.items[b].attr(p,y)}return this};Ma[A].animate=function(p,y,b,d){(a.is(b,"function")||!b)&&(d=b||null);var l=this.items[V],m=l,u,z=this,C;d&&(C=function(){!--l&&d.call(z)});b=a.is(b,"string")?b:C;for(u=this.items[--m].animate(p,
y,b,C);m--;)this.items[m]&&!this.items[m].removed&&this.items[m].animateWith(u,p,y,b,C);return this};Ma[A].insertAfter=function(p){for(var y=this.items[V];y--;)this.items[y].insertAfter(p);return this};Ma[A].getBBox=function(){for(var p=[],y=[],b=[],d=[],l=this.items[V];l--;){var m=this.items[l].getBBox();p[la](m.x);y[la](m.y);b[la](m.x+m.width);d[la](m.y+m.height)}p=T[v](0,p);y=T[v](0,y);return{x:p,y:y,width:ba[v](0,b)-p,height:ba[v](0,d)-y}};Ma[A].clone=function(p){p=new Ma;for(var y=0,b=this.items[V];y<
b;y++)p[la](this.items[y].clone());return p};a.registerFont=function(p){if(!p.face)return p;this.fonts=this.fonts||{};var y={w:p.w,face:{},glyphs:{}},b=p.face["font-family"],d;for(d in p.face)if(p.face[B](d))y.face[d]=p.face[d];if(this.fonts[b])this.fonts[b][la](y);else this.fonts[b]=[y];if(!p.svg){y.face["units-per-em"]=X(p.face["units-per-em"],10);for(var l in p.glyphs)if(p.glyphs[B](l)){b=p.glyphs[l];y.glyphs[l]={w:b.w,k:{},d:b.d&&"M"+b.d.replace(/[mlcxtrv]/g,function(u){return{l:"L",c:"C",x:"z",
t:"m",r:"l",v:"c"}[u]||"M"})+"z"};if(b.k)for(var m in b.k)if(b[B](m))y.glyphs[l].k[m]=b.k[m]}}return p};j.getFont=function(p,y,b,d){d=d||"normal";b=b||"normal";y=+y||{normal:400,bold:700,lighter:300,bolder:800}[y]||400;if(a.fonts){var l=a.fonts[p];if(!l){p=RegExp("(^|\\s)"+p.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var m in a.fonts)if(a.fonts[B](m))if(p.test(m)){l=a.fonts[m];break}}var u;if(l){m=0;for(p=l[V];m<p;m++){u=l[m];if(u.face["font-weight"]==y&&(u.face["font-style"]==b||!u.face["font-style"])&&
u.face["font-stretch"]==d)break}}return u}};j.print=function(p,y,b,d,l,m,u){m=m||"middle";u=ba(T(u||0,1),-1);var z=this.set(),C=K(b).split(""),D=0;a.is(d,b)&&(d=this.getFont(d));if(d){b=(l||16)/d.face["units-per-em"];var J=d.face.bbox.split(e);l=+J[0];m=+J[1]+(m=="baseline"?J[3]-J[1]+ +d.face.descent:(J[3]-J[1])/2);J=0;for(var L=C[V];J<L;J++){var P=J&&d.glyphs[C[J-1]]||{},ca=d.glyphs[C[J]];D+=J?(P.w||d.w)+(P.k&&P.k[C[J]]||0)+d.w*u:0;ca&&ca.d&&z[la](this.path(ca.d).attr({fill:"#000",stroke:"none",
translation:[D,0]}))}z.scale(b,b,l,m).translate(p-l,y-m)}return z};a.format=function(p,y){var b=a.is(y,R)?[0].concat(y):arguments;p&&a.is(p,"string")&&b[V]-1&&(p=p.replace(w,function(d,l){return b[++l]==null?"":b[l]}));return p||""};a.ninja=function(){f.was?n.Raphael=f.is:delete Raphael;return a};a.el=Ca;a.st=Ma[A];f.was?n.Raphael=a:Raphael=a})();
function diff_match_patch(){this.Diff_Timeout=1;this.Diff_EditCost=4;this.Match_Threshold=0.5;this.Match_Distance=1E3;this.Patch_DeleteThreshold=0.5;this.Patch_Margin=4;this.Match_MaxBits=32}var DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;
diff_match_patch.prototype.diff_main=function(a,g,s,k){if(typeof k=="undefined")k=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+this.Diff_Timeout*1E3;k=k;if(a==null||g==null)throw Error("Null input. (diff_main)");if(a==g){if(a)return[[DIFF_EQUAL,a]];return[]}if(typeof s=="undefined")s=true;var q=s,c=this.diff_commonPrefix(a,g);s=a.substring(0,c);a=a.substring(c);g=g.substring(c);c=this.diff_commonSuffix(a,g);var e=a.substring(a.length-c);a=a.substring(0,a.length-c);g=g.substring(0,g.length-
c);a=this.diff_compute_(a,g,q,k);s&&a.unshift([DIFF_EQUAL,s]);e&&a.push([DIFF_EQUAL,e]);this.diff_cleanupMerge(a);return a};
diff_match_patch.prototype.diff_compute_=function(a,g,s,k){if(!a)return[[DIFF_INSERT,g]];if(!g)return[[DIFF_DELETE,a]];var q=a.length>g.length?a:g,c=a.length>g.length?g:a,e=q.indexOf(c);if(e!=-1){s=[[DIFF_INSERT,q.substring(0,e)],[DIFF_EQUAL,c],[DIFF_INSERT,q.substring(e+c.length)]];if(a.length>g.length)s[0][0]=s[2][0]=DIFF_DELETE;return s}if(c.length==1)return[[DIFF_DELETE,a],[DIFF_INSERT,g]];if(q=this.diff_halfMatch_(a,g)){g=q[1];c=q[3];a=q[4];q=this.diff_main(q[0],q[2],s,k);s=this.diff_main(g,
c,s,k);return q.concat([[DIFF_EQUAL,a]],s)}if(s&&a.length>100&&g.length>100)return this.diff_lineMode_(a,g,k);return this.diff_bisect_(a,g,k)};
diff_match_patch.prototype.diff_lineMode_=function(a,g,s){var k=this.diff_linesToChars_(a,g);a=k[0];g=k[1];k=k[2];a=this.diff_bisect_(a,g,s);this.diff_charsToLines_(a,k);this.diff_cleanupSemantic(a);a.push([DIFF_EQUAL,""]);for(var q=g=0,c=0,e=k="";g<a.length;){switch(a[g][0]){case DIFF_INSERT:c++;e+=a[g][1];break;case DIFF_DELETE:q++;k+=a[g][1];break;case DIFF_EQUAL:if(q>=1&&c>=1){k=this.diff_main(k,e,false,s);a.splice(g-q-c,q+c);g=g-q-c;for(q=k.length-1;q>=0;q--)a.splice(g,0,k[q]);g+=k.length}q=
c=0;e=k=""}g++}a.pop();return a};
diff_match_patch.prototype.diff_bisect_=function(a,g,s){for(var k=a.length,q=g.length,c=Math.ceil((k+q)/2),e=2*c,o=Array(e),w=Array(e),A=0;A<e;A++){o[A]=-1;w[A]=-1}o[c+1]=0;w[c+1]=0;A=k-q;for(var B=A%2!=0,x=0,n=0,f=0,h=0,j=0;j<c;j++){if((new Date).getTime()>s)break;for(var v=-j+x;v<=j-n;v+=2){var E=c+v,F;F=v==-j||v!=j&&o[E-1]<o[E+1]?o[E+1]:o[E-1]+1;for(var K=F-v;F<k&&K<q&&a.charAt(F)==g.charAt(K);){F++;K++}o[E]=F;if(F>k)n+=2;else if(K>q)x+=2;else if(B){E=c+A-v;if(E>=0&&E<e&&w[E]!=-1){var G=k-w[E];
if(F>=G)return this.diff_bisectSplit_(a,g,F,K,s)}}}for(v=-j+f;v<=j-h;v+=2){E=c+v;G=v==-j||v!=j&&w[E-1]<w[E+1]?w[E+1]:w[E-1]+1;for(F=G-v;G<k&&F<q&&a.charAt(k-G-1)==g.charAt(q-F-1);){G++;F++}w[E]=G;if(G>k)h+=2;else if(F>q)f+=2;else if(!B){E=c+A-v;if(E>=0&&E<e&&o[E]!=-1){F=o[E];K=c+F-E;G=k-G;if(F>=G)return this.diff_bisectSplit_(a,g,F,K,s)}}}}return[[DIFF_DELETE,a],[DIFF_INSERT,g]]};
diff_match_patch.prototype.diff_bisectSplit_=function(a,g,s,k,q){var c=a.substring(0,s),e=g.substring(0,k);a=a.substring(s);g=g.substring(k);c=this.diff_main(c,e,false,q);q=this.diff_main(a,g,false,q);return c.concat(q)};
diff_match_patch.prototype.diff_linesToChars_=function(a,g){function s(o){for(var w="",A=0,B=-1,x=k.length;B<o.length-1;){B=o.indexOf("\n",A);if(B==-1)B=o.length-1;var n=o.substring(A,B+1);A=B+1;if(q.hasOwnProperty?q.hasOwnProperty(n):q[n]!==undefined)w+=String.fromCharCode(q[n]);else{w+=String.fromCharCode(x);q[n]=x;k[x++]=n}}return w}var k=[],q={};k[0]="";var c=s(a),e=s(g);return[c,e,k]};
diff_match_patch.prototype.diff_charsToLines_=function(a,g){for(var s=0;s<a.length;s++){for(var k=a[s][1],q=[],c=0;c<k.length;c++)q[c]=g[k.charCodeAt(c)];a[s][1]=q.join("")}};diff_match_patch.prototype.diff_commonPrefix=function(a,g){if(!a||!g||a.charAt(0)!=g.charAt(0))return 0;for(var s=0,k=Math.min(a.length,g.length),q=k,c=0;s<q;){if(a.substring(c,q)==g.substring(c,q))c=s=q;else k=q;q=Math.floor((k-s)/2+s)}return q};
diff_match_patch.prototype.diff_commonSuffix=function(a,g){if(!a||!g||a.charAt(a.length-1)!=g.charAt(g.length-1))return 0;for(var s=0,k=Math.min(a.length,g.length),q=k,c=0;s<q;){if(a.substring(a.length-q,a.length-c)==g.substring(g.length-q,g.length-c))c=s=q;else k=q;q=Math.floor((k-s)/2+s)}return q};
diff_match_patch.prototype.diff_commonOverlap_=function(a,g){var s=a.length,k=g.length;if(s==0||k==0)return 0;if(s>k)a=a.substring(s-k);else if(s<k)g=g.substring(0,s);s=Math.min(s,k);if(a==g)return s;k=0;for(var q=1;;){var c=a.substring(s-q);c=g.indexOf(c);if(c==-1)return k;q+=c;if(c==0||a.substring(s-q)==g.substring(0,q)){k=q;q++}}};
diff_match_patch.prototype.diff_halfMatch_=function(a,g){function s(A,B,x){for(var n=A.substring(x,x+Math.floor(A.length/4)),f=-1,h="",j,v,E,F;(f=B.indexOf(n,f+1))!=-1;){var K=c.diff_commonPrefix(A.substring(x),B.substring(f)),G=c.diff_commonSuffix(A.substring(0,x),B.substring(0,f));if(h.length<G+K){h=B.substring(f-G,f)+B.substring(f,f+K);j=A.substring(0,x-G);v=A.substring(x+K);E=B.substring(0,f-G);F=B.substring(f+K)}}return h.length*2>=A.length?[j,v,E,F,h]:null}if(this.Diff_Timeout<=0)return null;
var k=a.length>g.length?a:g,q=a.length>g.length?g:a;if(k.length<4||q.length*2<k.length)return null;var c=this,e=s(k,q,Math.ceil(k.length/4));k=s(k,q,Math.ceil(k.length/2));if(!e&&!k)return null;else e=k?e?e[4].length>k[4].length?e:k:k:e;var o,w;if(a.length>g.length){k=e[0];q=e[1];o=e[2];w=e[3]}else{o=e[0];w=e[1];k=e[2];q=e[3]}return[k,q,o,w,e[4]]};
diff_match_patch.prototype.diff_cleanupSemantic=function(a){for(var g=false,s=[],k=0,q=null,c=0,e=0,o=0,w=0,A=0;c<a.length;){if(a[c][0]==DIFF_EQUAL){s[k++]=c;e=w;o=A;A=w=0;q=a[c][1]}else{if(a[c][0]==DIFF_INSERT)w+=a[c][1].length;else A+=a[c][1].length;if(q!==null&&q.length<=Math.max(e,o)&&q.length<=Math.max(w,A)){a.splice(s[k-1],0,[DIFF_DELETE,q]);a[s[k-1]+1][0]=DIFF_INSERT;k--;k--;c=k>0?s[k-1]:-1;A=w=o=e=0;q=null;g=true}}c++}g&&this.diff_cleanupMerge(a);this.diff_cleanupSemanticLossless(a);for(c=
1;c<a.length;){if(a[c-1][0]==DIFF_DELETE&&a[c][0]==DIFF_INSERT){g=a[c-1][1];s=a[c][1];k=this.diff_commonOverlap_(g,s);if(k>=g.length/2||k>=s.length/2){a.splice(c,0,[DIFF_EQUAL,s.substring(0,k)]);a[c-1][1]=g.substring(0,g.length-k);a[c+1][1]=s.substring(k);c++}c++}c++}};
diff_match_patch.prototype.diff_cleanupSemanticLossless=function(a){function g(v,E){if(!v||!E)return 5;var F=0;if(v.charAt(v.length-1).match(s)||E.charAt(0).match(s)){F++;if(v.charAt(v.length-1).match(k)||E.charAt(0).match(k)){F++;if(v.charAt(v.length-1).match(q)||E.charAt(0).match(q)){F++;if(v.match(c)||E.match(e))F++}}}return F}for(var s=/[^a-zA-Z0-9]/,k=/\s/,q=/[\r\n]/,c=/\n\r?\n$/,e=/^\r?\n\r?\n/,o=1;o<a.length-1;){if(a[o-1][0]==DIFF_EQUAL&&a[o+1][0]==DIFF_EQUAL){var w=a[o-1][1],A=a[o][1],B=a[o+
1][1],x=this.diff_commonSuffix(w,A);if(x){var n=A.substring(A.length-x);w=w.substring(0,w.length-x);A=n+A.substring(0,A.length-x);B=n+B}x=w;n=A;for(var f=B,h=g(w,A)+g(A,B);A.charAt(0)===B.charAt(0);){w+=A.charAt(0);A=A.substring(1)+B.charAt(0);B=B.substring(1);var j=g(w,A)+g(A,B);if(j>=h){h=j;x=w;n=A;f=B}}if(a[o-1][1]!=x){if(x)a[o-1][1]=x;else{a.splice(o-1,1);o--}a[o][1]=n;if(f)a[o+1][1]=f;else{a.splice(o+1,1);o--}}}o++}};
diff_match_patch.prototype.diff_cleanupEfficiency=function(a){for(var g=false,s=[],k=0,q="",c=0,e=false,o=false,w=false,A=false;c<a.length;){if(a[c][0]==DIFF_EQUAL){if(a[c][1].length<this.Diff_EditCost&&(w||A)){s[k++]=c;e=w;o=A;q=a[c][1]}else{k=0;q=""}w=A=false}else{if(a[c][0]==DIFF_DELETE)A=true;else w=true;if(q&&(e&&o&&w&&A||q.length<this.Diff_EditCost/2&&e+o+w+A==3)){a.splice(s[k-1],0,[DIFF_DELETE,q]);a[s[k-1]+1][0]=DIFF_INSERT;k--;q="";if(e&&o){w=A=true;k=0}else{k--;c=k>0?s[k-1]:-1;w=A=false}g=
true}}c++}g&&this.diff_cleanupMerge(a)};
diff_match_patch.prototype.diff_cleanupMerge=function(a){a.push([DIFF_EQUAL,""]);for(var g=0,s=0,k=0,q="",c="",e;g<a.length;)switch(a[g][0]){case DIFF_INSERT:k++;c+=a[g][1];g++;break;case DIFF_DELETE:s++;q+=a[g][1];g++;break;case DIFF_EQUAL:if(s+k>1){if(s!==0&&k!==0){e=this.diff_commonPrefix(c,q);if(e!==0){if(g-s-k>0&&a[g-s-k-1][0]==DIFF_EQUAL)a[g-s-k-1][1]+=c.substring(0,e);else{a.splice(0,0,[DIFF_EQUAL,c.substring(0,e)]);g++}c=c.substring(e);q=q.substring(e)}e=this.diff_commonSuffix(c,q);if(e!==
0){a[g][1]=c.substring(c.length-e)+a[g][1];c=c.substring(0,c.length-e);q=q.substring(0,q.length-e)}}if(s===0)a.splice(g-s-k,s+k,[DIFF_INSERT,c]);else k===0?a.splice(g-s-k,s+k,[DIFF_DELETE,q]):a.splice(g-s-k,s+k,[DIFF_DELETE,q],[DIFF_INSERT,c]);g=g-s-k+(s?1:0)+(k?1:0)+1}else if(g!==0&&a[g-1][0]==DIFF_EQUAL){a[g-1][1]+=a[g][1];a.splice(g,1)}else g++;s=k=0;c=q=""}a[a.length-1][1]===""&&a.pop();s=false;for(g=1;g<a.length-1;){if(a[g-1][0]==DIFF_EQUAL&&a[g+1][0]==DIFF_EQUAL)if(a[g][1].substring(a[g][1].length-
a[g-1][1].length)==a[g-1][1]){a[g][1]=a[g-1][1]+a[g][1].substring(0,a[g][1].length-a[g-1][1].length);a[g+1][1]=a[g-1][1]+a[g+1][1];a.splice(g-1,1);s=true}else if(a[g][1].substring(0,a[g+1][1].length)==a[g+1][1]){a[g-1][1]+=a[g+1][1];a[g][1]=a[g][1].substring(a[g+1][1].length)+a[g+1][1];a.splice(g+1,1);s=true}g++}s&&this.diff_cleanupMerge(a)};
diff_match_patch.prototype.diff_xIndex=function(a,g){var s=0,k=0,q=0,c=0,e;for(e=0;e<a.length;e++){if(a[e][0]!==DIFF_INSERT)s+=a[e][1].length;if(a[e][0]!==DIFF_DELETE)k+=a[e][1].length;if(s>g)break;q=s;c=k}if(a.length!=e&&a[e][0]===DIFF_DELETE)return c;return c+(g-q)};
diff_match_patch.prototype.diff_prettyHtml=function(a){for(var g=[],s=0,k=/&/g,q=/</g,c=/>/g,e=/\n/g,o=0;o<a.length;o++){var w=a[o][0],A=a[o][1],B=A.replace(k,"&amp;").replace(q,"&lt;").replace(c,"&gt;").replace(e,"&para;<br>");switch(w){case DIFF_INSERT:g[o]='<ins style="background:#e6ffe6;">'+B+"</ins>";break;case DIFF_DELETE:g[o]='<del style="background:#ffe6e6;">'+B+"</del>";break;case DIFF_EQUAL:g[o]="<span>"+B+"</span>"}if(w!==DIFF_DELETE)s+=A.length}return g.join("")};
diff_match_patch.prototype.diff_text1=function(a){for(var g=[],s=0;s<a.length;s++)if(a[s][0]!==DIFF_INSERT)g[s]=a[s][1];return g.join("")};diff_match_patch.prototype.diff_text2=function(a){for(var g=[],s=0;s<a.length;s++)if(a[s][0]!==DIFF_DELETE)g[s]=a[s][1];return g.join("")};
diff_match_patch.prototype.diff_levenshtein=function(a){for(var g=0,s=0,k=0,q=0;q<a.length;q++){var c=a[q][1];switch(a[q][0]){case DIFF_INSERT:s+=c.length;break;case DIFF_DELETE:k+=c.length;break;case DIFF_EQUAL:g+=Math.max(s,k);k=s=0}}g+=Math.max(s,k);return g};
diff_match_patch.prototype.diff_toDelta=function(a){for(var g=[],s=0;s<a.length;s++)switch(a[s][0]){case DIFF_INSERT:g[s]="+"+encodeURI(a[s][1]);break;case DIFF_DELETE:g[s]="-"+a[s][1].length;break;case DIFF_EQUAL:g[s]="="+a[s][1].length}return g.join("\t").replace(/%20/g," ")};
diff_match_patch.prototype.diff_fromDelta=function(a,g){for(var s=[],k=0,q=0,c=g.split(/\t/g),e=0;e<c.length;e++){var o=c[e].substring(1);switch(c[e].charAt(0)){case "+":try{s[k++]=[DIFF_INSERT,decodeURI(o)]}catch(w){throw Error("Illegal escape in diff_fromDelta: "+o);}break;case "-":case "=":var A=parseInt(o,10);if(isNaN(A)||A<0)throw Error("Invalid number in diff_fromDelta: "+o);o=a.substring(q,q+=A);if(c[e].charAt(0)=="=")s[k++]=[DIFF_EQUAL,o];else s[k++]=[DIFF_DELETE,o];break;default:if(c[e])throw Error("Invalid diff operation in diff_fromDelta: "+
c[e]);}}if(q!=a.length)throw Error("Delta length ("+q+") does not equal source text length ("+a.length+").");return s};diff_match_patch.prototype.match_main=function(a,g,s){if(a==null||g==null||s==null)throw Error("Null input. (match_main)");s=Math.max(0,Math.min(s,a.length));return a==g?0:a.length?a.substring(s,s+g.length)==g?s:this.match_bitap_(a,g,s):-1};
diff_match_patch.prototype.match_bitap_=function(a,g,s){function k(v,E){var F=v/g.length,K=Math.abs(s-E);if(!c.Match_Distance)return K?1:F;return F+K/c.Match_Distance}if(g.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var q=this.match_alphabet_(g),c=this,e=this.Match_Threshold,o=a.indexOf(g,s);if(o!=-1){e=Math.min(k(0,o),e);o=a.lastIndexOf(g,s+g.length);if(o!=-1)e=Math.min(k(0,o),e)}var w=1<<g.length-1;o=-1;for(var A,B,x=g.length+a.length,n,f=0;f<g.length;f++){A=0;for(B=
x;A<B;){if(k(f,s+B)<=e)A=B;else x=B;B=Math.floor((x-A)/2+A)}x=B;A=Math.max(1,s-B+1);var h=Math.min(s+B,a.length)+g.length;B=Array(h+2);B[h+1]=(1<<f)-1;for(h=h;h>=A;h--){var j=q[a.charAt(h-1)];B[h]=f===0?(B[h+1]<<1|1)&j:(B[h+1]<<1|1)&j|(n[h+1]|n[h])<<1|1|n[h+1];if(B[h]&w){j=k(f,h-1);if(j<=e){e=j;o=h-1;if(o>s)A=Math.max(1,2*s-o);else break}}}if(k(f+1,s)>e)break;n=B}return o};
diff_match_patch.prototype.match_alphabet_=function(a){for(var g={},s=0;s<a.length;s++)g[a.charAt(s)]=0;for(s=0;s<a.length;s++)g[a.charAt(s)]|=1<<a.length-s-1;return g};
diff_match_patch.prototype.patch_addContext_=function(a,g){if(g.length!=0){for(var s=g.substring(a.start2,a.start2+a.length1),k=0;g.indexOf(s)!=g.lastIndexOf(s)&&s.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;){k+=this.Patch_Margin;s=g.substring(a.start2-k,a.start2+a.length1+k)}k+=this.Patch_Margin;(s=g.substring(a.start2-k,a.start2))&&a.diffs.unshift([DIFF_EQUAL,s]);(k=g.substring(a.start2+a.length1,a.start2+a.length1+k))&&a.diffs.push([DIFF_EQUAL,k]);a.start1-=s.length;a.start2-=
s.length;a.length1+=s.length+k.length;a.length2+=s.length+k.length}};
diff_match_patch.prototype.patch_make=function(a,g,s){var k;if(typeof a=="string"&&typeof g=="string"&&typeof s=="undefined"){k=a;g=this.diff_main(k,g,true);if(g.length>2){this.diff_cleanupSemantic(g);this.diff_cleanupEfficiency(g)}}else if(a&&typeof a=="object"&&typeof g=="undefined"&&typeof s=="undefined"){g=a;k=this.diff_text1(g)}else if(typeof a=="string"&&g&&typeof g=="object"&&typeof s=="undefined"){k=a;g=g}else if(typeof a=="string"&&typeof g=="string"&&s&&typeof s=="object"){k=a;g=s}else throw Error("Unknown call format to patch_make.");
if(g.length===0)return[];s=[];a=new patch_obj;var q=0,c=0,e=0,o=k;k=k;for(var w=0;w<g.length;w++){var A=g[w][0],B=g[w][1];if(!q&&A!==DIFF_EQUAL){a.start1=c;a.start2=e}switch(A){case DIFF_INSERT:a.diffs[q++]=g[w];a.length2+=B.length;k=k.substring(0,e)+B+k.substring(e);break;case DIFF_DELETE:a.length1+=B.length;a.diffs[q++]=g[w];k=k.substring(0,e)+k.substring(e+B.length);break;case DIFF_EQUAL:if(B.length<=2*this.Patch_Margin&&q&&g.length!=w+1){a.diffs[q++]=g[w];a.length1+=B.length;a.length2+=B.length}else if(B.length>=
2*this.Patch_Margin)if(q){this.patch_addContext_(a,o);s.push(a);a=new patch_obj;q=0;o=k;c=e}}if(A!==DIFF_INSERT)c+=B.length;if(A!==DIFF_DELETE)e+=B.length}if(q){this.patch_addContext_(a,o);s.push(a)}return s};diff_match_patch.prototype.patch_deepCopy=function(a){for(var g=[],s=0;s<a.length;s++){var k=a[s],q=new patch_obj;q.diffs=[];for(var c=0;c<k.diffs.length;c++)q.diffs[c]=k.diffs[c].slice();q.start1=k.start1;q.start2=k.start2;q.length1=k.length1;q.length2=k.length2;g[s]=q}return g};
diff_match_patch.prototype.patch_apply=function(a,g){if(a.length==0)return[g,[]];a=this.patch_deepCopy(a);var s=this.patch_addPadding(a);g=s+g+s;this.patch_splitMax(a);for(var k=0,q=[],c=0;c<a.length;c++){var e=a[c].start2+k,o=this.diff_text1(a[c].diffs),w,A=-1;if(o.length>this.Match_MaxBits){w=this.match_main(g,o.substring(0,this.Match_MaxBits),e);if(w!=-1){A=this.match_main(g,o.substring(o.length-this.Match_MaxBits),e+o.length-this.Match_MaxBits);if(A==-1||w>=A)w=-1}}else w=this.match_main(g,o,
e);if(w==-1){q[c]=false;k-=a[c].length2-a[c].length1}else{q[c]=true;k=w-e;e=A==-1?g.substring(w,w+o.length):g.substring(w,A+this.Match_MaxBits);if(o==e)g=g.substring(0,w)+this.diff_text2(a[c].diffs)+g.substring(w+o.length);else{e=this.diff_main(o,e,false);if(o.length>this.Match_MaxBits&&this.diff_levenshtein(e)/o.length>this.Patch_DeleteThreshold)q[c]=false;else{this.diff_cleanupSemanticLossless(e);o=0;var B;for(A=0;A<a[c].diffs.length;A++){var x=a[c].diffs[A];if(x[0]!==DIFF_EQUAL)B=this.diff_xIndex(e,
o);if(x[0]===DIFF_INSERT)g=g.substring(0,w+B)+x[1]+g.substring(w+B);else if(x[0]===DIFF_DELETE)g=g.substring(0,w+B)+g.substring(w+this.diff_xIndex(e,o+x[1].length));if(x[0]!==DIFF_DELETE)o+=x[1].length}}}}}g=g.substring(s.length,g.length-s.length);return[g,q]};
diff_match_patch.prototype.patch_addPadding=function(a){for(var g=this.Patch_Margin,s="",k=1;k<=g;k++)s+=String.fromCharCode(k);for(k=0;k<a.length;k++){a[k].start1+=g;a[k].start2+=g}k=a[0];var q=k.diffs;if(q.length==0||q[0][0]!=DIFF_EQUAL){q.unshift([DIFF_EQUAL,s]);k.start1-=g;k.start2-=g;k.length1+=g;k.length2+=g}else if(g>q[0][1].length){var c=g-q[0][1].length;q[0][1]=s.substring(q[0][1].length)+q[0][1];k.start1-=c;k.start2-=c;k.length1+=c;k.length2+=c}k=a[a.length-1];q=k.diffs;if(q.length==0||
q[q.length-1][0]!=DIFF_EQUAL){q.push([DIFF_EQUAL,s]);k.length1+=g;k.length2+=g}else if(g>q[q.length-1][1].length){c=g-q[q.length-1][1].length;q[q.length-1][1]+=s.substring(0,c);k.length1+=c;k.length2+=c}return s};
diff_match_patch.prototype.patch_splitMax=function(a){for(var g=this.Match_MaxBits,s=0;s<a.length;s++)if(a[s].length1>g){var k=a[s];a.splice(s--,1);for(var q=k.start1,c=k.start2,e="";k.diffs.length!==0;){var o=new patch_obj,w=true;o.start1=q-e.length;o.start2=c-e.length;if(e!==""){o.length1=o.length2=e.length;o.diffs.push([DIFF_EQUAL,e])}for(;k.diffs.length!==0&&o.length1<g-this.Patch_Margin;){e=k.diffs[0][0];var A=k.diffs[0][1];if(e===DIFF_INSERT){o.length2+=A.length;c+=A.length;o.diffs.push(k.diffs.shift());
w=false}else if(e===DIFF_DELETE&&o.diffs.length==1&&o.diffs[0][0]==DIFF_EQUAL&&A.length>2*g){o.length1+=A.length;q+=A.length;w=false;o.diffs.push([e,A]);k.diffs.shift()}else{A=A.substring(0,g-o.length1-this.Patch_Margin);o.length1+=A.length;q+=A.length;if(e===DIFF_EQUAL){o.length2+=A.length;c+=A.length}else w=false;o.diffs.push([e,A]);if(A==k.diffs[0][1])k.diffs.shift();else k.diffs[0][1]=k.diffs[0][1].substring(A.length)}}e=this.diff_text2(o.diffs);e=e.substring(e.length-this.Patch_Margin);A=this.diff_text1(k.diffs).substring(0,
this.Patch_Margin);if(A!==""){o.length1+=A.length;o.length2+=A.length;if(o.diffs.length!==0&&o.diffs[o.diffs.length-1][0]===DIFF_EQUAL)o.diffs[o.diffs.length-1][1]+=A;else o.diffs.push([DIFF_EQUAL,A])}w||a.splice(++s,0,o)}}};diff_match_patch.prototype.patch_toText=function(a){for(var g=[],s=0;s<a.length;s++)g[s]=a[s];return g.join("")};
diff_match_patch.prototype.patch_fromText=function(a){var g=[];if(!a)return g;a=a.split("\n");for(var s=0,k=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;s<a.length;){var q=a[s].match(k);if(!q)throw Error("Invalid patch string: "+a[s]);var c=new patch_obj;g.push(c);c.start1=parseInt(q[1],10);if(q[2]===""){c.start1--;c.length1=1}else if(q[2]=="0")c.length1=0;else{c.start1--;c.length1=parseInt(q[2],10)}c.start2=parseInt(q[3],10);if(q[4]===""){c.start2--;c.length2=1}else if(q[4]=="0")c.length2=0;else{c.start2--;
c.length2=parseInt(q[4],10)}for(s++;s<a.length;){q=a[s].charAt(0);try{var e=decodeURI(a[s].substring(1))}catch(o){throw Error("Illegal escape in patch_fromText: "+e);}if(q=="-")c.diffs.push([DIFF_DELETE,e]);else if(q=="+")c.diffs.push([DIFF_INSERT,e]);else if(q==" ")c.diffs.push([DIFF_EQUAL,e]);else if(q=="@")break;else if(q!=="")throw Error('Invalid patch mode "'+q+'" in: '+e);s++}}return g};function patch_obj(){this.diffs=[];this.start2=this.start1=null;this.length2=this.length1=0}
patch_obj.prototype.toString=function(){for(var a=["@@ -"+(this.length1===0?this.start1+",0":this.length1==1?this.start1+1:this.start1+1+","+this.length1)+" +"+(this.length2===0?this.start2+",0":this.length2==1?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],g,s=0;s<this.diffs.length;s++){switch(this.diffs[s][0]){case DIFF_INSERT:g="+";break;case DIFF_DELETE:g="-";break;case DIFF_EQUAL:g=" "}a[s+1]=g+encodeURI(this.diffs[s][1])+"\n"}return a.join("").replace(/%20/g," ")};
this.diff_match_patch=diff_match_patch;this.patch_obj=patch_obj;this.DIFF_DELETE=DIFF_DELETE;this.DIFF_INSERT=DIFF_INSERT;this.DIFF_EQUAL=DIFF_EQUAL;
(function(a,g){var s=g.FECRU=g.FECRU||{};s.SBS=s.SBS||{};var k=s.SBS.Range=function(e,o){if(!(this instanceof k))return new k(e,o);this.low=e;this.high=o;this.length=o-e+1;return this};k.ofLength=function(e,o){return new k(e,e+o-1)};k.ofLine=function(e){return k.ofLength(e,1)};k.ofLines=function(e,o){return new k(e,o)};k.pointAfterLine=function(e){return new k(e,e-1)};k.pointBeforeLine=function(e){return k.pointAfterLine(e-1)};k.prototype={constructor:k,isPoint:function(){return this.low-1===this.high},
before:function(e){return this.isPoint()&&e.isPoint()?this.high<e.low:this.isPoint()?this.low<=e.low-1:e.isPoint()?this.high<=e.low:this.high<e.low},after:function(e){return e.before(this)},overlaps:function(e){return this.isPoint()&&e.isPoint()?this.equals(e):this.isPoint()?e.overlaps(this):e.isPoint()?this.low-1<=e.low&&e.low<=this.high:this.low<=e.high&&e.low<=this.high},adjacent:function(e){return this.isPoint()&&e.isPoint()?this.equals(e):this.isPoint()?this.low+1===e.low||this.low===e.high:
e.isPoint()?e.adjacent(this):this.high+1===e.low||e.low+1===this.high},expand:function(e){if(e===0)return this;var o;if(this.isPoint()){o=Math.max(1,this.low-(e-1));e=this.low+e}else{o=Math.max(1,this.low-e);e=this.high+e}return new k(o,e)},merge:function(e){return this.isPoint()&&e.isPoint()?this.equals(e)?this:null:this.isPoint()?e.merge(this):e.isPoint()?this.overlaps(e)||this.adjacent(e)?this:null:this.overlaps(e)||this.adjacent(e)?new k(Math.min(this.low,e.low),Math.max(this.high,e.high)):null},
equals:function(e){return this.low===e.low&&this.high==e.high},toString:function(){return"["+this.low+", "+this.high+"]"}};var q=s.SBS.Hunk=function(e,o,w,A){if(!(this instanceof q))return new q(e,o);this.fromRange=e;this.toRange=o;this.fromLines=w;this.toLines=A;this.conflict_=false;return this};q.ofLengths=function(e,o,w,A,B,x){return new q(k.ofLength(e,o),k.ofLength(w,A),B,x)};q.addition=function(e,o,w){return new q(k.pointAfterLine(e),o,[],w)};q.change=function(e,o,w,A){return new q(e,o,w,A)};
q.deletion=function(e,o,w){return new q(e,k.pointAfterLine(o),w,[])};q.prototype=function(){var e=q.prototype;e.isAddition=function(){return this.fromRange.length===0};e.isChange=function(){return this.fromRange.length>0&&this.toRange.length>0};e.isDeletion=function(){return this.toRange.length===0};e.conflict=function(){this.conflict_=true;return this};e.isConflict=function(){return this.conflict_};e.before=function(o){return this.fromRange.before(o.fromRange)&&this.toRange.before(o.toRange)};e.after=
function(o){return this.fromRange.after(o.fromRange)&&this.toRange.after(o.toRange)};e.overlaps=function(o){return this.fromRange.overlaps(o.fromRange)||this.toRange.overlaps(o.toRange)};e.overlapping=function(o){var w=[],A;a:{var B=0;for(A=o.length-1;B<=A;){var x=Math.floor((B+A)/2),n=o[x];if(this.overlaps(n)){A=x;break a}else if(this.before(n))A=x-1;else if(this.after(n))B=x+1;else break}A=-1}if(A>=0){var f;for(B=A-1;B>=0&&(f=o[B]).overlaps(this);B-=1)w.push(f);w.push(o[A]);B=A+1;for(A=o.length;B<
A&&(f=o[B]).overlaps(this);B++)w.push(f)}return w};e.equals=function(o){return this.fromRange.equals(o.fromRange)&&this.toRange.equals(o.toRange)};e.toString=function(){return function(){return"-"+(this.fromRange.length===1?this.fromRange.low+"":this.fromRange.low+","+this.fromRange.length)+" +"+(this.toRange.length===1?this.toRange.low+"":this.toRange.low+","+this.toRange.length)}}();return e}();var c=s.SBS.Ranges={unzip:function(e){for(var o=[],w=[],A=0;A<e.length;A++){var B=e[A];o.push(B.fromRange);
w.push(B.toRange)}return[o,w]},nonEmpty:function(e){for(var o=[],w=0;w<e.length;w++){var A=e[w];A.length>0&&o.push(A)}return o},expand:function(e,o){for(var w=[],A=0;A<e.length;A++)w.push(e[A].expand(o));return c.merge(w)},mergeAdjacent:function(e,o,w){var A,B;if(e[0].low>1)if(o===0){A=[new k(1,e[0].high)];return A.concat(e.slice(1))}else if(o===e.length){o=e[e.length-1];A=e.slice(0,e.length-1);A.push(new k(o.low,w));return A}else{A=e.slice(0,o-1);w=e[o-1];B=e[o];A.push(new k(w.low,B.high));return A.concat(e.slice(o+
1))}else if(o===e.length-1){o=e[e.length-1];A=e.slice(0,e.length-1);A.push(new k(o.low,w));return A}else{A=e.slice(0,o);w=e[o];B=e[o+1];A.push(new k(w.low,B.high));return A.concat(e.slice(o+2))}},merge:function(e){var o=[],w;if(e.length>0){for(var A=e[0],B=1;B<e.length;B++){var x=e[B];if((w=A.merge(x))!==null)A=w;else{o.push(A);A=x}}o.push(A)}return o}}})(jQuery,this);
(function(a){function g(h,j,v){if(!(this instanceof g))return new g(h,j,v);this.pagesPerBlock_=j;this.linesPerPage_=v;this.blocks_={from:[],to:[]};this.filename_={from:"",to:""};this.incremental_=[];this.url_=h||document.location.pathname+document.location.search;return this}function s(h){if(typeof f=="undefined")f=a(".gutter-box");for(var j=0,v=f.length;j<v;++j)h(j,f.eq(j))}function k(h,j,v,E){if(!(this instanceof k))return new k(h,j,v,E);v=v.split(k.DELIMITER);var F=eval(v[v.length-1]);if(!this.numLines)this.numLines=
0;if(!F)return null;this.name=F.name;this.filename=F.filename;this.position=F.position;this.maxLineNum=this.numLines=F.numLines;this.longestLine=F.longestLine;this.longestRevisionBlameLength=F.longestRevisionBlameLength;this.longestAuthorBlameLength=F.longestAuthorBlameLength;this.pagesPerBlock=h;this.linesPerPage=j;this.gutterWidths=F.gutterWidths;this.zeroContextRanges_=E;this.blocks={};this.merge(v);this.lineHeightPx=this.revisionBlameBoxDom=this.numbersBoxDom=this.scrollBoxDom=null;return this}
function q(h){if(!(this instanceof q))return new q(h);this.file_=h;this.name=this.file_.name;this.filename=this.file_.filename;this.position=this.file_.position;this.numLines=this.file_.numLines;this.maxLineNum=this.file_.maxLineNum;this.pagesPerBlock=this.file_.pagesPerBlock;this.linesPerPage=this.file_.linesPerPage;this.blocks=this.file_.blocks;this.lineHeightPx=this.file_.lineHeightPx;return this}function c(h,j,v,E,F){if(!(this instanceof c))return new c(h,j,v,E,F);this.diffHunks_=h;this.unifiedMap=
j;this.from2unified_=this.calculateLineMappings_(j,0);this.to2unified_=this.calculateLineMappings_(j,1);this.zeroContextRanges_=null;this.from_=q.of(v);this.to_=q.of(E);this.renderFile_=this.from_.name===F?this.from_:this.to_;this.name=this.renderFile_.name;this.filename=this.renderFile_.filename;this.position=this.renderFile_.position;this.pagesPerBlock=this.renderFile_.pagesPerBlock;this.linesPerPage=this.renderFile_.linesPerPage;this.numLines=this.unifiedMap.length-1;this.maxLineNum=Math.max(this.from_.maxLineNum,
this.to_.maxLineNum);this.lineHeightPx=this.to_.lineHeightPx;this.blocks={};return this}function e(h,j){if(!(this instanceof e))return new e(h,v);if(typeof j==="number"){var v=Math.max(0,j);this.rangesWithContext_=B.expand(h.zeroContextRanges(),v)}else this.rangesWithContext_=j;this.file_=q.of(h);this.viewport2file=this.calculateViewport2File();this.file2viewport=this.calculateFile2Viewport(this.viewport2file);this.name=h.name;this.filename=h.filename;this.position=null;this.pagesPerBlock=h.pagesPerBlock;
this.linesPerPage=h.linesPerPage;this.numLines=this.viewport2file.length-1;this.maxLineNum=this.viewport2file[this.viewport2file.length-1];if(typeof this.maxLineNum!=="number")this.maxLineNum=this.viewport2file[this.viewport2file.length-2];this.lineHeightPx=this.file_.lineHeightPx;this.blocks={};return this}var o=window.FECRU,w=o.SBS.Range,A=o.SBS.Hunk,B=o.SBS.Ranges;g.prototype=function(){var h=g.prototype;h.queueBlocks_=function(j,v){for(var E=0;E<v.length;E++){var F=v[E],K=this.blocks_[j];a.inArray(F,
K)<0&&K.push(F)}};h.from=function(j,v){this.queueBlocks_("from",j);this.filename_.from=v;return this};h.to=function(j,v){this.queueBlocks_("to",j);this.filename_.to=v;return this};h.incremental=function(j){this.incremental_.push(j);return this};h.load=function(j){this.complete_=j;if(this.blocks_.from.length===0&&this.blocks_.to.length===0)j&&j();else a.ajax({type:"POST",url:this.url_,data:{linesPerPage:this.linesPerPage_,fromBlock:this.blocks_.from.shift(),toBlock:this.blocks_.to.shift(),fromFilename:this.filename_.from,
toFilename:this.filename_.to,ajax:"true"},dataType:"text",success:a.proxy(this.success_,this)})};h.success_=function(j){var v=j.split(n.DELIMITER);j=v[3].split(k.DELIMITER);v=v[4].split(k.DELIMITER);for(var E=0;E<this.incremental_.length;E++)this.incremental_[E](j,v);this.load(this.complete_)};return h}();var x=o.SBS.Permalinker=function(){this.baseUrl_=window.top.location.href.replace(location.hash,"")};x.prototype.regex_=/^#chg_(.*)_(newline|oldline)(\d+)$/;x.prototype.parse=function(h){if(h=this.regex_.exec(h))return{path:h[1],
file:h[2]==="oldline"?"from":"to",line:parseInt(h[3],10)}};x.prototype.url=function(h,j,v){return this.baseUrl_+"#chg_"+j+"_"+(h==="from"?"oldline":"newline")+v};var n=o.SBS.Diff=function(h,j,v,E,F,K,G){if(!(this instanceof n))return new n(h,j,v,E,F,K,G);this.hunks=h;this.pagesPerBlock=j;this.linesPerPage=v;this.from=E;this.to=F;this.unifiedMap=K;this.url=G;this.elem_=null;this.diffHighlighting_(new diff_match_patch,h);return this};n.sideBySideFromData=function(h){var j=h.split(n.DELIMITER);h=eval(j[0]);
var v=eval(j[1]),E=eval(j[2]),F=B.unzip(h),K=new k(v,E,j[3],F[0]);F=new k(v,E,j[4],F[1]);j=eval(j[5]);return new n(h,v,E,K,F,j)};n.unified=function(h){return new n(h.hunks,h.pagesPerBlock,h.linesPerPage,new c(h.hunks,h.unifiedMap,h.from,h.to,"from"),new c(h.hunks,h.unifiedMap,h.from,h.to,"to"),h.unifiedMap,h.url)};n.ofContext=function(h,j){j=Math.max(0,j);var v=new e(h.to,j);if(h.from.exists()){var E=new e(h.from,j),F=h.contextScrollPositions_(E,v);E.position=F[0];v.position=F[1]}F=h.hunks;v=new n(h.from.exists()?
h.hunksWithContext_(F,E,v):h.hunks,h.pagesPerBlock,h.linesPerPage,h.from.exists()?E:{exists:function(){return false}},v,h.unifiedMap,h.url);v.zeroContextHunks=F;return v};n.expandSkippedSection=function(h,j){var v=h.from,E=h.to;v=new e(v.file_,B.mergeAdjacent(v.rangesWithContext_,j,h.isUnified()?h.unifiedMap.length:v.maxLineNum));E=new e(E.file_,B.mergeAdjacent(E.rangesWithContext_,j,h.isUnified()?h.unifiedMap.length:E.maxLineNum));var F=h.contextScrollPositions_(v,E);v.position=F[0];E.position=F[1];
F=h.zeroContextHunks;v=new n(h.hunksWithContext_(F,v,E),h.pagesPerBlock,h.linesPerPage,v,E,h.unifiedMap,h.url);v.zeroContextHunks=F;return v};n.DELIMITER="<";n.CONTEXT_LOW=3;n.CONTEXT_MED=20;n.CONTEXT_FULL=-1;n.prototype=function(){var h=n.prototype;h.setElement=function(j){this.elem_=j};h.getElement=function(){return this.elem_};h.ensureVisible=function(j,v){var E=this,F=new g(E.url,E.pagesPerBlock,E.linesPerPage);E.from.exists()&&E.from.queueBlocks(F,j.fromRange);E.to.queueBlocks(F,j.toRange);F.load(function(){E.from.exists()&&
E.from.ensureVisible(j.fromRange);E.to.ensureVisible(j.toRange);v&&v()})};h.isUnified=function(){return this.to.isUnified()};h.numContext=function(){return this.from.numContext()};h.contextScrollPositions_=function(j,v){var E=[0],F=[0],K,G;for(K=1;K<=j.numLines;K++){G=j.viewport2file[K];E[K]=typeof G==="number"?v.file2viewport[j.file_.position[G]]:E[K-1]+1}for(K=1;K<=v.numLines;K++){G=v.viewport2file[K];F[K]=typeof G==="number"?j.file2viewport[v.file_.position[G]]:F[K-1]+1}return[E,F]};h.hunksWithContext_=
function(j,v,E){v=v.file2viewport;E=E.file2viewport;for(var F=[],K=0;K<j.length;K++){var G=j[K],U=G.fromRange;G=G.toRange;F.push(new A(new w(v[U.low],v[U.high]),new w(E[G.low],E[G.high])))}return F};h.diffHighlighting_=function(j,v){for(var E=0;E<v.length;E++){var F=v[E];if(F.fromLines&&F.toLines&&F.isChange()&&!F.isConflict()){var K=j.diff_main(F.fromLines.join("\n"),F.toLines.join("\n"));j.diff_cleanupSemantic(K);F.fromRange.linesHtml=a.map(a.grep(K,a.proxy(this.isFrom_,this)),a.proxy(this.markup_,
this)).join("").split("\n");F.toRange.linesHtml=a.map(a.grep(K,a.proxy(this.isTo_,this)),a.proxy(this.markup_,this)).join("").split("\n")}}};h.isFrom_=function(j){j=j[0];return j===DIFF_DELETE||j===DIFF_EQUAL};h.isTo_=function(j){j=j[0];return j===DIFF_EQUAL||j===DIFF_INSERT};h.markup_=function(j){var v=j[0];return v===DIFF_EQUAL?j[1]:a.map(j[1].split("\n"),v===DIFF_DELETE?a.proxy(this.markupRemoved_,this):a.proxy(this.markupAdded_,this)).join("\n")};h.markupRemoved_=function(j){return"<del>"+j+"</del>"};
h.markupAdded_=function(j){return"<ins>"+j+"</ins>"};h.hunkBefore=function(j){j=a.inArray(j,this.hunks);return j<=0?null:this.hunks[j-1]};h.hunkAfter=function(j){j=a.inArray(j,this.hunks);return j<0||j===this.hunks.length-1?null:this.hunks[j+1]};h.hunkAfterFromLine=function(j){return this.searchHunksAfter_(function(v){return j<v.fromRange.low})};h.hunkBeforeFromLine=function(j){return this.searchHunksBefore_(function(v){return v.fromRange.low<j})};h.hunkAfterToLine=function(j){return this.searchHunksAfter_(function(v){return j<
v.toRange.low})};h.hunkBeforeToLine=function(j){return this.searchHunksBefore_(function(v){return v.toRange.low<j})};h.searchHunksAfter_=function(j){for(var v=this.zeroContextHunks||this.hunks,E=0,F=v.length-1,K=null;E<=F;){var G=Math.floor((E+F)/2),U=v[G];if(j(U)){K=U;F=G-1}else E=G+1}return K};h.searchHunksBefore_=function(j){for(var v=this.zeroContextHunks||this.hunks,E=0,F=v.length-1,K=null;E<=F;){var G=Math.floor((E+F)/2),U=v[G];if(j(U)){K=U;E=G+1}else F=G-1}return K};return h}();var f;k.DELIMITER=
">";k.prototype=function(){function h(S){if(!S.revisionBlameBoxDom)S.revisionBlameBoxDom=a("#"+S.name+"-revision-blame-box")[0];return S.revisionBlameBoxDom}function j(S){if(!S.authorBlameBoxDom)S.authorBlameBoxDom=a("#"+S.name+"-auth-blame-box")[0];return S.authorBlameBoxDom}function v(S,ba,T){S.pageDom_(ba,T);return S.blocks[ba][T].numbersDom}function E(S,ba,T){S.pageDom_(ba,T);return S.blocks[ba][T].revBlameDom}function F(S,ba,T){S.pageDom_(ba,T);return S.blocks[ba][T].authBlameDom}function K(S,
ba,T,H){S.pageDom_(ba,T);return S.blocks[ba][T].gutterDom[H]}var G=k.prototype;G.isUnified=function(){return false};G.numContext=function(){return-1};G.exists=function(){return!!this.blocks};G.merge=function(S){var ba=eval(S[0]);if(ba>=0)this.blocks[ba]=S.slice(1,S.length-1)};G.queueBlocks=function(S,ba){var T=this;S[T.name](T.blocksToFetch(ba),T.filename).incremental(function(H,N){T.merge(T.name==="from"?H:N)})};G.ensureVisible=function(S){if(this.numLines>0)for(var ba=this.pagesPerBlock*this.linesPerPage,
T=Math.floor((S.high-1)/ba),H=Math.floor((S.low-1)/ba);H<=T;H++){var N=H*ba,r=Math.floor(Math.min(S.high-1-N,(H+1)*ba-1)/this.linesPerPage);for(N=Math.floor((S.low-1-N)/this.linesPerPage);N<=r;N++)if(this.isNotInDom_(H,N)||!this.pageDom_(H,N).parentNode)this.insertPage_(H,N)}};G.blocksToFetch=function(S){var ba=this.linesPerPage*this.pagesPerBlock,T=Math.floor(S.high/ba),H=[];for(S=Math.floor(S.low/ba);S<=T;S++)if(!this.blocks[S]){this.blocks[S]=this.blocksToFetch.loadingSentinel;H.push(S)}return H};
G.blocksToFetch.loadingSentinel={loading:true};G.isNotInDom_=function(S,ba){return this.blocks[S]&&typeof this.blocks[S][ba]==="string"};G.zeroContextRanges=function(){return this.zeroContextRanges_};G.coords_=function(S){S=S-1;var ba=this.pagesPerBlock*this.linesPerPage,T=S%ba;return{block:Math.floor(S/ba),page:Math.floor(T/this.linesPerPage),lineIndex:T%this.linesPerPage}};G.insertPage_=function(S,ba){var T=a;if(!this.scrollBoxDom)this.scrollBoxDom=a("#"+this.name+"-box")[0];T=T(this.scrollBoxDom);
var H=a;if(!this.numbersBoxDom)this.numbersBoxDom=a("#"+this.name+"-numbers-box")[0];H=H(this.numbersBoxDom);var N=a(h(this)),r=a(j(this)),Y=(S*this.pagesPerBlock+ba)*this.linesPerPage*this.lineHeightPx;T.children(".content-box")[0].appendChild(a(this.pageDom_(S,ba)).css("top",Y).css("width",T.data("width"))[0]);H.children(".content-box")[0].appendChild(a(v(this,S,ba)).css("top",Y)[0]);N.length!==0&&N.children(".content-box")[0].appendChild(a(E(this,S,ba)).css("top",Y)[0]);r.length!==0&&r.children(".content-box")[0].appendChild(a(F(this,
S,ba)).css("top",Y)[0]);s(function(R,Q){Q.children(".content-box")[0].appendChild(a(K(this,S,ba,R)).css("top",Y)[0])})};G.pageDom_=function(S,ba){var T=this.blocks[S];if(this.isNotInDom_(S,ba)){var H=this.evalPage_(S,ba),N=this.createPageDom_(H),r=document.createElement("div"),Y=(S*this.pagesPerBlock+ba)*this.linesPerPage+1;r.className="page line-numbers";for(var R=0,Q=H.length;R<Q;R++){var ia=Y+R,la=this.permalinker_.url(this.name,this.filename,ia);ia=ha(H[R],'<a href="'+la+'">'+ia+"</a>");r.appendChild(ia)}Q=
S*this.pagesPerBlock+ba;N.id=this.name+"-page-"+S+"-"+Q;r.id=this.name+"-numbers-"+S+"-"+Q;if(h(this)){Y=U(this,S,ba,H);Y.id=this.name+"-revision-blame-"+S+"-"+Q}else Y=document.createElement("div");if(j(this)){R=W(this,S,ba,H);R.id=this.name+"-auth-blame-"+S+"-"+Q}else R=document.createElement("div");H=V(this,S,ba,H);T[ba]={pageDom:N,numbersDom:r,revBlameDom:Y,authBlameDom:R,gutterDom:H}}return T[ba].pageDom};G.evalPage_=function(S,ba){for(var T=(S*this.pagesPerBlock+ba)*this.linesPerPage+1,H=w.ofLength(T,
this.linesPerPage),N=a.grep(this.zeroContextRanges(),function(na){return H.overlaps(na)}),r=eval(this.blocks[S][ba]),Y=0;Y<N.length;Y++){var R=N[Y];if(R.linesHtml)for(var Q=0;Q<R.length;Q++){var ia=R.low+Q,la=ia-T;if(0<=la&&la<this.linesPerPage)r[ia-T].html=R.linesHtml[Q]}}return r};G.createPageDom_=function(S){var ba=document.createElement("div");ba.className="page";for(var T=0,H=S.length;T<H;T++)ba.appendChild(ha(S[T]));return ba};G.permalinker_=new x;var U=function(){return function(S,ba,T,H){S=
document.createElement("div");S.className="page revision-blame";ba=0;for(T=H.length;ba<T;ba++){var N=ha(H[ba],"<span>"+(H[ba].start?H[ba].revision:"&nbsp;")+"</span>",[H[ba].blameclass]);S.appendChild(N)}return S}}(),W=function(){return function(S,ba,T,H){S=document.createElement("div");S.className="page author-blame";ba=0;for(T=H.length;ba<T;ba++){var N=ha(H[ba],"<span>"+(H[ba].start?H[ba].author:"&nbsp;")+"</span>");S.appendChild(N)}return S}}(),V=function(){return function(S,ba,T,H){S=[];for(ba=
0;ba<H[0].gutters.length;++ba){S[ba]=document.createElement("div");T=0;for(var N=H.length;T<N;T++){var r=ha(H[T],H[T].gutters[ba]);S[ba].appendChild(r)}}return S}}(),ha=function(){var S=["addition","change","deletion","conflict","start","end"],ba=null,T=null;ba=typeof document.createElement("div").innerText!=="undefined"?"innerText":"textContent";if(a.browser.msie){var H=document.createElement("div");T=function(N){H.innerHTML="<pre>"+N+"</pre>";return H.removeChild(H.firstChild)}}else T=function(N){var r=
document.createElement("pre");r.innerHTML=N;return r};return function(N,r,Y){r=T(r||N.html);if(r[ba].length===0)r.innerHTML="&nbsp;";for(var R=[],Q=0,ia=S.length;Q<ia;Q++){var la=S[Q];N[la]&&R.push(la)}Y=Y||[];Q=0;for(ia=Y.length;Q<ia;Q++)R.push(Y[Q]);if(N=R.join(" "))r.className=N;return r}}();G.longestLineDom=function(){return ha(this.longestLine)};return G}();q.of=function(h){return h instanceof q?h:new q(h)};q.prototype=function(){var h=q.prototype;h.isUnified=function(){return this.file_.isUnified()};
h.numContext=function(){return this.file_.numContext()};h.exists=function(){return false};h.merge=function(j){return this.file_.merge(j)};h.queueBlocks=function(j,v){return this.file_.queueBlocks(j,v)};h.ensureVisible=function(){};h.pageDom_=function(j,v){return this.file_.pageDom_(j,v)};h.coords_=function(j){return this.file_.coords_(j)};h.blocksToFetch=function(j){return this.file_.blocksToFetch(j)};h.longestLineDom=function(){return this.file_.longestLineDom()};h.zeroContextRanges=function(){return this.file_.zeroContextRanges()};
return h}();c.prototype=function(){var h=c.prototype;h.isUnified=function(){return true};h.numContext=function(){return this.renderFile_.numContext()};h.calculateLineMappings_=function(j,v){for(var E=[0],F=1;F<j.length;F++){var K=j[F][v];if(K)E[K]=F}return E};h.exists=function(){return true};h.merge=function(){};h.queueBlocks=function(j,v){var E=this,F=E.diffHunk_(new w(Math.max(1,Math.floor(v.low/this.linesPerPage)*this.linesPerPage),Math.ceil(v.high/this.linesPerPage)*this.linesPerPage));j.from(E.from_.blocksToFetch(F.fromRange),
E.from_.filename).to(E.to_.blocksToFetch(F.toRange),E.to_.filename).incremental(function(K,G){E.from_.merge(K);E.to_.merge(G)})};h.diffHunk_=function(j){var v=Number.MAX_VALUE,E=Number.MIN_VALUE,F=Number.MAX_VALUE,K=Number.MIN_VALUE,G=Math.min(this.renderFile_.numLines,j.high);for(j=j.low;j<=G;j++){var U=this.unifiedMap[j],W=U[0];U=U[1];if(W){v=W<v?W:v;E=W>E?W:E}if(U){F=U<F?U:F;K=U>K?U:K}}if(v===Number.MAX_VALUE)E=v=0;if(F===Number.MAX_VALUE)K=F=0;return new A(new w(v,E),new w(F,K))};h.ensureVisible=
function(j){try{return k.prototype.ensureVisible.call(this,j)}catch(v){}};h.insertPage_=function(j,v){return k.prototype.insertPage_.call(this,j,v)};h.isNotInDom_=function(j,v){return!this.blocks[j]||!this.blocks[j][v]};h.zeroContextRanges=function(){if(this.zeroContextRanges_===null){for(var j=[],v=0;v<this.diffHunks_.length;v++){var E=this.diffHunks_[v],F=E.fromRange,K=E.toRange,G;if(E.isDeletion())G=new w(this.from2unified_[F.low],this.from2unified_[F.high]);else if(E.isChange())G=new w(this.from2unified_[F.low],
this.to2unified_[K.high]);else if(E.isAddition())G=new w(this.to2unified_[K.low],this.to2unified_[K.high]);j.push(G)}this.zeroContextRanges_=j}return this.zeroContextRanges_};h.pageDom_=function(j,v){this.blocks[j]=this.blocks[j]||[];var E=this.blocks[j],F=(j*this.pagesPerBlock+v)*this.linesPerPage+1,K=F+this.linesPerPage-1;if(this.isNotInDom_(j,v)){var G=document.createElement("div"),U=document.createElement("div");G.className="page";U.className="page line-numbers";for(F=F;F<=K;F++){var W=this.unifiedMap[F];
if(W){var V=null,ha=null;if(ha=W[0])V=this.from_;else if(ha=W[1])V=this.to_;ha=V.coords_(ha);ha=a(V.pageDom_(ha.block,ha.page)).children()[ha.lineIndex].cloneNode(true);if(/\bchange\b/.test(ha.className))ha.className+=" "+V.name;G.appendChild(ha);if(V=W[this.renderFile_.name==="from"?0:1]){W=this.renderFile_.coords_(V);this.renderFile_.pageDom_(W.block,W.page);W=a(this.renderFile_.blocks[W.block][W.page].numbersDom).children()[W.lineIndex].cloneNode(true);if(/\bchange\b/.test(W.className))W.className+=
" "+this.renderFile_.name;F!==1&&V===1&&a(W).removeClass("start");U.appendChild(W)}else{V=this.renderFile_.name==="from"?this.to_:this.from_;W=W[this.renderFile_.name==="from"?1:0];ha=V.coords_(W);V.pageDom_(ha.block,ha.page);ha=a(V.blocks[ha.block][ha.page].numbersDom).children()[ha.lineIndex].cloneNode(true);ha.innerHTML=" ";if(/\bchange\b/.test(ha.className))ha.className+=" "+V.name;F!==1&&W===1&&a(ha).removeClass("start");U.appendChild(ha)}}}E[v]={pageDom:G,numbersDom:U,revBlameDom:document.createElement("div"),
authBlameDom:document.createElement("div"),gutterDom:document.createElement("div")}}return E[v].pageDom};h.coords_=function(j){return k.prototype.coords_.call(this,j)};h.longestLineDom=function(){var j=a(this.from_.longestLineDom()),v=a(this.to_.longestLineDom());return j.text().length>v.text().length?j[0]:v[0]};return h}();e.SKIPPED_TOP_SENTINEL={};e.SKIPPED_SENTINEL={};e.SKIPPED_BOTTOM_SENTINEL={};e.prototype=function(){var h=e.prototype;h.isUnified=function(){return this.file_.isUnified()};h.numContext=
function(){return this.context};h.calculateViewport2File=function(){for(var j=this.rangesWithContext_,v=[0],E=0;E<j.length;E++){var F=j[E];E===0&&F.low>1&&v.push(e.SKIPPED_TOP_SENTINEL);for(var K=0;K<F.length;K++)F.low+K<=this.file_.numLines&&v.push(F.low+K);if(E===j.length-1)F.high<this.file_.numLines&&v.push(e.SKIPPED_BOTTOM_SENTINEL);else j.length>1&&v.push(e.SKIPPED_SENTINEL)}return v};h.calculateFile2Viewport=function(j){var v=[0],E,F,K;for(K=1;K<j.length;K++){F=j[K];if(F===e.SKIPPED_TOP_SENTINEL){F=
j[K+1];for(E=1;E<F;E++)v[E]=1}else if(F===e.SKIPPED_SENTINEL){E=j[K-1];F=j[K+1];for(E=E+1;E<F;E++)v[E]=K}else if(F===e.SKIPPED_BOTTOM_SENTINEL){E=j[K-1];for(E=E+1;E<=this.file_.numLines;E++)v[E]=K}else v[F]=K}return v};h.exists=function(){return this.file_.file_.exists()};h.merge=function(j){return this.file_.merge(j)};h.fileRange_=function(j){var v=this.viewport2file[j];if(typeof v!=="number")v=this.viewport2file[j.low+1];var E=this.viewport2file[Math.min(j.high,this.numLines)];if(typeof E!=="number")E=
this.viewport2file[Math.min(j.high-1,this.numLines-1)];return new w(v,E)};h.queueBlocks=function(j,v){var E=this.fileRange_(new w(Math.max(1,Math.floor(v.low/this.linesPerPage)*this.linesPerPage),Math.ceil(v.high/this.linesPerPage)*this.linesPerPage));return this.file_.queueBlocks(j,E)};h.ensureVisible=function(j){try{return k.prototype.ensureVisible.call(this,j)}catch(v){}};h.insertPage_=function(j,v){return k.prototype.insertPage_.call(this,j,v)};h.isNotInDom_=function(j,v){return!this.blocks[j]||
!this.blocks[j][v]};h.zeroContextRanges=function(){return this.file_.zeroContextRanges()};h.pageDom_=function(j,v){this.blocks[j]=this.blocks[j]||[];var E=this.blocks[j],F=(j*this.pagesPerBlock+v)*this.linesPerPage+1,K=Math.min(F+this.linesPerPage-1,this.numLines);if(this.isNotInDom_(j,v)){var G=document.createElement("div"),U=document.createElement("div"),W=j*this.pagesPerBlock+v;G.id=this.name+"-page-"+j+"-"+W;U.id=this.name+"-numbers-"+j+"-"+W;G.className="page";U.className="page line-numbers";
for(F=F;F<=K;F++){W=this.viewport2file[F];if(W===e.SKIPPED_TOP_SENTINEL){G.appendChild(a('<pre class="skipped-top"><span> </span></pre>')[0]);U.appendChild(a('<pre class="skipped-top"><span> </span></pre>')[0])}else if(W===e.SKIPPED_SENTINEL){G.appendChild(a('<pre class="skipped"><span> </span></pre>')[0]);U.appendChild(a('<pre class="skipped"><span> </span></pre>')[0])}else if(W===e.SKIPPED_BOTTOM_SENTINEL){G.appendChild(a('<pre class="skipped-bottom"><span> </span></pre>')[0]);U.appendChild(a('<pre class="skipped-bottom"><span> </span></pre>')[0])}else{W=
this.file_.coords_(W);var V=a(this.file_.pageDom_(W.block,W.page)).children()[W.lineIndex].cloneNode(true);G.appendChild(V);W=a(this.file_.blocks[W.block][W.page].numbersDom).children()[W.lineIndex].cloneNode(true);U.appendChild(W)}}E[v]={pageDom:G,numbersDom:U,revBlameDom:document.createElement("div"),authBlameDom:document.createElement("div"),gutterDom:document.createElement("div")}}return E[v].pageDom};h.coords_=function(j){return k.prototype.coords_.call(this,j)};h.longestLineDom=function(){return this.file_.longestLineDom()};
return h}()})(typeof AJS==="undefined"?jQuery:AJS.$);
(function(a,g){var s=g.FECRU,k=s.SBS.Range,q=s.SBS.Hunk,c=s.SBS.Permalinker,e=s.SBS.Diff,o=s.SBS.PatchRenderer=function(f){this.patch_=f;this.filenames_={};this.renderers_=[];for(f=0;f<this.patch_.length;f++){var h=this.patch_[f],j=new w(this,h);this.renderers_.push(j);this.filenames_[h.to.filename]=j}this.$window_=this.$elem_=null};o.prototype.render=function(f){this.createDom();f.append(this.$elem_);for(f=0;f<this.renderers_.length;f++)this.renderers_[f].render(this.$elem_);this.onWindowScroll_();
this.scrollToPermalink_();this.enterDocument()};o.prototype.createDom=function(){this.$elem_=a('<div class="patch-container"></div>');this.$window_=a(g)};o.prototype.enterDocument=function(){this.$window_.bind("scroll",a.proxy(this.onWindowScroll_,this));this.$window_.bind("hashchange",a.proxy(this.scrollToPermalink_,this));BB.hoverIntent()};o.prototype.scrollToPermalink_=function(f){var h=(new c).parse(g.top.location.hash);if(h){var j=this.filenames_[h.path];if(j){var v=a.browser.webkit,E=h.file===
"from"?j.scrollToFromLine:j.scrollToToLine;f&&v?setTimeout(function(){E.call(j,h.line)},100):E.call(j,h.line)}}};o.prototype.onWindowScroll_=function(){for(var f=this.$window_.scrollTop(),h=this.$window_.height(),j=B.lineHeight(),v=0;v<this.renderers_.length;v++){var E=this.renderers_[v];if(E.diff_.isUnified()){var F=E.offsetTop(),K=E.height();if(F>f+h)break;var G=Math.max(0,f-F);F=k.ofLength(Math.floor(G/j)+1,Math.ceil((F<f?Math.min(h,K-G):Math.min(h-(F-f),K))/j));F=new q(F,F);E.diff_.ensureVisible(F)}}};
o.prototype.setMode=function(f){for(var h=0;h<this.renderers_.length;h++)this.renderers_[h].setMode(f)};o.prototype.setContext=function(f){for(var h=0;h<this.renderers_.length;h++)this.renderers_[h].setContext(f)};var w=s.SBS.DiffRenderer=function(f,h){this.patchRenderer_=f;this.sbsdiff_=h;this.unified_=e.unified(h);this.diff_=h;this.context_=-1;this.contextCache_={};var j=Math.max(this.diff_.from.maxLineNum,this.diff_.to.maxLineNum);this.headingRenderer_=new A(this,h.to);this.fromRenderer_=new B(this,
h.from,j);this.segmentRenderer_=new x(this);this.toRenderer_=new B(this,h.to,j);this.marginButtonsRenderer_=new n(this);this.$elem_=this.height_=this.width_=null};w.prototype.render=function(f){this.headingRenderer_.render(f);this.createDom();f.append(this.$elem_);this.setPaneDimensions();this.fromRenderer_.render(this.$elem_);this.segmentRenderer_.render(this.$elem_);this.toRenderer_.render(this.$elem_);this.marginButtonsRenderer_.render(this.$elem_);this.$overlay_=a('<div class="overlay" title="Click to activate scrolling.">');
this.$elem_.append(this.$overlay_);this.fixPaneDimensions();if(!this.diff_.isUnified()){this.scrollToFirstHunk();this.onDiffScroll()}this.enterDocument()};w.prototype.redraw=function(){this.setPaneDimensions();this.fromRenderer_.redraw();this.segmentRenderer_.redraw();this.toRenderer_.redraw();this.marginButtonsRenderer_.redraw();this.fixPaneDimensions();if(this.diff_.isUnified())g.patchRenderer.onWindowScroll_();else{this.scrollToFirstHunk();this.onDiffScroll()}return this};w.prototype.offsetTop=
function(){return this.$elem_.offset().top};w.prototype.height=function(){return this.height_};w.prototype.onFileScroll=function(f,h,j,v,E,F){h=this.diff_[f].position;v=h[v]===h[E];f=f==="from"?this.toRenderer_:this.fromRenderer_;E=h[E]-f.focusedLineOffset();F=B.lineTopPx(E)+(v?0:F);f.setScrollTop(F);f.setScrollLeft(j);f.focusedLineOffset();f.focusedLineOffset();this.onDiffScroll()};w.prototype.onDiffScroll=function(){var f=this.fromRenderer_.scrollPosition(),h=this.toRenderer_.scrollPosition(),j=
this.numViewableLines(),v=k.ofLength(f.offsetLines+1,j);j=k.ofLength(h.offsetLines+1,j);v=new q(v,j);this.diff_.ensureVisible(v);this.diff_.isUnified()||this.segmentRenderer_.renderSegments(v.overlapping(this.diff_.hunks),f,h)};w.prototype.numViewableLines=function(){return Math.ceil(this.height_/B.lineHeight())};w.prototype.focusedLineOffset=function(){return Math.floor(this.numViewableLines()/3)-1};w.prototype.createDom=function(){return this.$elem_=a('<div class="diff-container scrollable scrollable-off"></div>')};
w.prototype.enterDocument=function(){};w.prototype.setPaneDimensions=function(){B.calculateLineHeight(this.$elem_,this.diff_.linesPerPage);this.width_=this.$elem_.width();if(this.diff_.isUnified()){this.$elem_.addClass("unified");this.height_=B.lineHeight()*this.diff_.to.numLines}else{this.$elem_.removeClass("unified");var f=10*B.lineHeight(),h=a(g).height()-100;this.height_=Math.max(f,Math.min(Math.max(this.diff_.from.numLines,this.diff_.to.numLines)*B.lineHeight(),h))}this.$elem_.height(this.height_)};
w.prototype.fixPaneDimensions=function(){if(this.diff_.isUnified()){if(this.toRenderer_.hasScrollbarX_){this.height_+=a.getScrollbarWidth();this.$elem_.height(this.height_)}}else{var f=this.toRenderer_.hasScrollbarY_||this.toRenderer_.hasScrollbarX_;this.fromRenderer_.hasScrollbarY_||this.fromRenderer_.hasScrollbarX_||f||this.$overlay_.hide()}};w.prototype.mode=function(){return this.diff_.isUnified()?"unified":"sbs"};w.prototype.setMode=function(f){if(f==="unified"){this.diff_=this.unified_;this.setContext(this.context_)}else{this.diff_=
this.sbsdiff_;this.setContext(e.CONTEXT_FULL)}return this};w.prototype.setContext=function(f){if(this.diff_.isUnified()){var h=this.contextCache_;this.context_=Math.max(e.CONTEXT_FULL,f);h[this.context_]||(h[this.context_]=this.context_===e.CONTEXT_FULL?this.unified_:e.ofContext(this.unified_,this.context_));this.setDiff_(h[this.context_])}else this.setDiff_(this.sbsdiff_)};w.prototype.expandContext=function(){if(this.diff_.isUnified()){var f=this.context_;if(f===e.CONTEXT_LOW){this.setContext(e.CONTEXT_MED);
this.redraw()}else if(f===e.CONTEXT_MED){this.setContext(e.CONTEXT_FULL);this.redraw()}}};w.prototype.expandSkippedSection=function(f){if(this.diff_.isUnified())if(this.context_!==e.CONTEXT_FULL){this.setDiff_(e.expandSkippedSection(this.diff_,f));this.redraw()}};w.prototype.setDiff_=function(f){this.diff_=f;this.fromRenderer_.setFile(this.diff_.from);this.toRenderer_.setFile(this.diff_.to)};w.prototype.scrollToFirstHunk=function(){this.scrollToFromLine(this.diff_.hunks[0].fromRange.low)};w.prototype.scrollToNextHunk=
function(){this.scrollToAdjacentHunk_(false)};w.prototype.scrollToPreviousHunk=function(){this.scrollToAdjacentHunk_(true)};w.prototype.scrollToAdjacentHunk_=function(f){var h=f?this.diff_.hunkBeforeFromLine:this.diff_.hunkAfterFromLine;if(this.diff_.isUnified()){var j,v=this.context_===e.CONTEXT_FULL,E=this.offsetTop(),F=Math.max(0,a(g).scrollTop()-E);F=Math.floor(F/B.lineHeight())+1;var K=this.toRenderer_.focusedLineOffset();F=F+K;if(!v){v=this.diff_.to.viewport2file[F];if(typeof v!=="number")v=
this.diff_.to.viewport2file[F-1];F=v}v=this.diff_.unifiedMap[F];if(v[0])j=h.call(this.diff_,v[0]);else if(v[1]){j=v[1];h=f?this.diff_.hunkBeforeToLine:this.diff_.hunkAfterToLine;j=h.call(this.diff_,j)}if(j)j.isAddition()?this.scrollToToLine(j.toRange.low,E):this.scrollToFromLine(j.fromRange.low,E)}else{f=this.fromRenderer_.focusedLineNum();(j=h.call(this.diff_,f))&&this.scrollToFromLine(j.fromRange.low)}};w.prototype.scrollToFromLine=function(f,h){this.scrollToLine_(true,f,h)};w.prototype.scrollToToLine=
function(f,h){this.scrollToLine_(false,f,h)};w.prototype.file2viewport_=function(f,h){var j=this.context_===e.CONTEXT_FULL,v=j?this.diff_.to:this.diff_.to.file_.file_;v=f?v.from2unified_[h]:v.to2unified_[h];return j?v:this.diff_.to.file2viewport[v]};w.prototype.scrollToLine_=function(f,h,j){if(this.diff_.isUnified()){if(typeof j==="undefined")j=this.offsetTop();var v=this.context_===e.CONTEXT_FULL,E=v?this.diff_.to:this.diff_.to.file_.file_;E=f?E.from2unified_[h]:E.to2unified_[h];var F;if(v)F=E;else{v=
this.diff_.to;F=v.file2viewport[E];E=v.viewport2file[F];if(typeof E!=="number"){j=0;for(E=F-1;E>0;E--)if(typeof v.viewport2file[E]!=="number")j+=1;this.expandSkippedSection(j);this.scrollToLine_(f,h);return}}f=j+B.lineHeight()*(F-this.toRenderer_.focusedLineOffset()-1);a(g).scrollTop(f)}else f?this.fromRenderer_.scrollToLine(h):this.toRenderer_.scrollToLine(h)};var A=s.SBS.HeadingRenderer=function(f,h){this.diffRenderer_=f;this.file_=h};A.prototype.createDom=function(){this.$elem_=a('<div class="heading"><a href="#files">files</a></div>');
this.$headingLink_=a("<a>").appendTo(a("<h3>").prependTo(this.$elem_));return this};A.prototype.render=function(f){var h=this.file_.filename,j=this.diffRenderer_.diff_;j=j.zeroContextHunks||j.hunks;var v=j.length;this.createDom().$elem_.attr("id","chg-"+h).appendTo(f);for(this.$headingLink_.attr("href","/"+BB.repo+"/history/"+h).text(h);v--;)if(j[v].isConflict()){this.$elem_.addClass("conflicts");break}};var B=s.SBS.FileRenderer=function(f,h,j){this.diffRenderer_=f;this.file_=h;this.maxLineNum_=j;
this.ignoreScrolls_=this.scrollLeft_=this.scrollTop_=0;this.hasScrollbarX_=this.hasScrollbarY_=this.$numbers_=this.$box_=this.$elems_=null};B.lineHeight_=null;B.calculateLineHeight=function(f,h){if(!B.lineHeight_){var j=B.createDom_("to");f.append(j);var v=a(Array(h+2).join('<pre>        <span class="hl_comment">&lt;!-- comment --&gt;</span> <span class="hl_starttag">&lt;tag <span class="hl_attrib">key</span>=<span class="hl_string">"<span class="ediffChangedB">value</span>!default"</span></span></pre>'));
v=a('<div class="page">').append(v);j.filter(".box-container").children(".box").children(".content-box").append(v);B.lineHeight_=(v.children().last().offset().top-v.children().first().offset().top)/h;j.remove()}};B.lineHeight=function(){return B.lineHeight_};B.lineTopPx=function(f){return(f-1)*B.lineHeight()};B.lineBottomPx=function(f){return f*B.lineHeight()};B.prototype.setFile=function(f){this.file_=f};B.prototype.numViewableLines=function(){return Math.ceil(this.$elems_.parent().height()/B.lineHeight())};
B.prototype.focusedLineOffset=function(){return this.file_.isUnified()?e.CONTEXT_LOW:Math.floor(this.numViewableLines()/3)-1};B.prototype.render=function(f){this.createDom();f.append(this.$elems_);this.setPaneDimensions();this.setScrollDimensions();this.enterDocument()};B.prototype.redraw=function(){this.$elems_.children(".content-box").empty();this.setPaneDimensions();this.setScrollDimensions()};B.createDom_=function(f){var h=a('<div class="box-container"><div class="box scrollable"><div class="content-box"></div></div><div class="overlay-x"></div><div class="overlay-y"></div></div>'),
j=h.children(".box"),v=a('<div class="numbers-box"><div class="content-box"></div></div>');j.addClass(f+"-box");v.addClass(f+"-numbers-box");return f==="from"?a([h[0],v[0]]):a([v[0],h[0]])};B.prototype.createDom=function(){this.$elems_=B.createDom_(this.file_.name);this.$boxContainer_=this.$elems_.filter(".box-container");this.$box_=this.$boxContainer_.children(".box");this.$overlayX_=this.$boxContainer_.children(".overlay-x");this.$overlayY_=this.$boxContainer_.children(".overlay-y");this.$numbers_=
this.$elems_.filter(".numbers-box")};B.prototype.enterDocument=function(){this.$box_.bind("scroll",a.proxy(this.onBoxScroll,this))};B.prototype.setPaneDimensions=function(){this.file_.scrollBoxDom=this.$box_[0];this.file_.numbersBoxDom=this.$numbers_[0];var f=this.$boxContainer_.parent();this.$box_.toggleClass("all-lines-visible",this.file_.numLines<Math.floor(f.height()/B.lineHeight()));var h=Math.max(30,10*String(this.maxLineNum_).length);this.$numbers_.width(h);var j=this.file_.isUnified()?0:x.WIDTH+
2;f=f.innerWidth()-j;if(this.file_.isUnified())this.file_.name==="from"?this.$boxContainer_.width(0):this.$boxContainer_.width(f-(2*h+1));else this.$boxContainer_.width(f/2-this.$numbers_.outerWidth())};B.prototype.longestLineWidth=function(){if(!this.longestLineWidth_){var f=a(this.file_.longestLineDom()),h=this.$box_.children(".content-box");h.append(a('<div class="page">').append(f));this.longestLineWidth_=f.outerWidth();h.empty()}return this.longestLineWidth_};B.prototype.setScrollDimensions=
function(){this.file_.lineHeightPx=B.lineHeight();var f=a.getScrollbarWidth(),h=Math.max(this.$boxContainer_.width(),this.longestLineWidth()),j=this.file_.numLines*B.lineHeight();this.$overlayX_.height(f);this.$overlayY_.width(f);this.$box_.children(".content-box").append(a('<div class="page">').append(this.file_.longestLineDom())).height(j).end().scrollTop(j).scrollLeft(h);this.$box_.data("name",this.file_.name).data("width",h);f=this.$box_[0];this.hasScrollbarY_=f.scrollHeight>f.clientHeight;this.hasScrollbarX_=
f.scrollWidth>f.clientWidth;this.hasScrollbarY_||this.$overlayY_.hide();this.hasScrollbarX_||this.$overlayX_.hide();this.maxScrollTop_=this.$box_.scrollTop();this.maxScrollLeft_=this.$box_.scrollLeft();this.scrollLeft_=this.scrollTop_=0;this.$box_.scrollTop(0).scrollLeft(0).children(".content-box").empty();this.$numbers_.children(".content-box").height(j+30);this.$numbers_.scrollTop(0)};B.prototype.scrollPosition=function(){var f=this.$box_.scrollTop(),h=Math.floor(f/B.lineHeight());return{offsetLines:h,
residue:f-B.lineTopPx(h+1)}};B.prototype.onBoxScroll=function(){if(!this.file_.isUnified()){var f=this.$box_.scrollTop(),h=this.$box_.scrollLeft(),j=this.scrollTop_<f;this.scrollTop_=f;this.scrollLeft_=h;this.$numbers_.scrollTop(f);if(this.ignoreScrolls_>0)this.ignoreScrolls_-=1;else{var v=Math[j?"ceil":"floor"](f/B.lineHeight())+1,E=f-B.lineTopPx(v),F=Math.min(this.file_.numLines,v+this.focusedLineOffset());j=Math.min(this.file_.numLines,v+(j?-1:1)+this.focusedLineOffset());this.diffRenderer_.onFileScroll(this.file_.name,
f,h,j,F,E)}}};B.prototype.setScrollLeft=function(f){f=Math.max(0,Math.min(this.maxScrollLeft_,f));if(this.scrollLeft_!==f){this.ignoreScrolls_++;this.$box_.scrollLeft(f)}};B.prototype.setScrollTop=function(f){f=Math.max(0,Math.min(this.maxScrollTop_,f));if(this.scrollTop_!==f){this.ignoreScrolls_++;this.$box_.scrollTop(f)}};B.prototype.focusedLineNum=function(){if(!this.file_.isUnified())return Math.floor(this.scrollTop_/B.lineHeight())+1+this.focusedLineOffset()};B.prototype.scrollToLine=function(f){if(!this.file_.isUnified()){f=
Math.min(Math.max(1,f),this.file_.numLines-1);this.$box_.scrollTop(B.lineTopPx(f-this.focusedLineOffset()))}};var x=s.SBS.SegmentRenderer=function(f){this.diffRenderer_=f;this.canvas_=null;this.visiblePaths_=[];this.$elem_=null};x.STROKE="#ccc";x.WIDTH=30;x.prototype.render=function(f){this.createDom();f.append(this.$elem_);this.setPaneDimensions()};x.prototype.setPaneDimensions=function(){if(this.diffRenderer_.diff_.isUnified())this.$elem_.hide();else{this.$elem_.show();this.setHeight(this.$elem_.parent().height())}};
x.prototype.redraw=function(){this.setPaneDimensions()};x.prototype.createDom=function(){this.$elem_=a('<div class="segment-box"></div>');this.canvas_=new Raphael(this.$elem_[0]);return this.$elem_};x.prototype.setHeight=function(f){this.$elem_.height(f);this.canvas_.setSize(x.WIDTH,f)};x.prototype.add_={stroke:x.STROKE,fill:"#cfc"};x.prototype.del_={stroke:x.STROKE,fill:"#ffc0cb"};x.prototype.mod_={stroke:x.STROKE,fill:"#f4f4f4"};x.prototype.con_={stroke:"#ffffe0",fill:"#ffffe0"};x.prototype.createPath_=
function(f){var h=this.canvas_.path();if(f.isConflict())h.attr(this.con_);else if(f.isAddition())h.attr(this.add_);else if(f.isChange())h.attr(this.mod_);else f.isDeletion()&&h.attr(this.del_);return h};x.prototype.renderSegments=function(f,h,j){for(var v=0,E=this.visiblePaths_.length;v<E;v++)this.visiblePaths_[v].hide();this.visiblePaths_=[];v=0;for(E=f.length;v<E;v++){var F=f[v],K=F.fromRange,G=F.toRange,U=F.path||(F.path=this.createPath_(F));this.visiblePaths_.push(U);var W=x.WIDTH;if(F.isAddition()){U.attr("path",
[["M",-1,B.lineBottomPx(K.low-h.offsetLines)-h.residue-1],["L",W,B.lineTopPx(G.low-j.offsetLines)-j.residue],["V",B.lineBottomPx(G.high-j.offsetLines)-j.residue-1],["Z"]]).show();if(F.isConflict()){if(!F.borderPath){F.borderPath=this.canvas_.path();F.borderPath.attr({stroke:"#ccc",fill:"#ccc"});U=this.diffRenderer_.diff_.hunkAfter(F);F.borderPathTopBorder=U&&U.isChange()&&U.isConflict()}U=F.borderPath;F.borderPathTopBorder?U.attr("path",[["M",-1,B.lineBottomPx(K.low-h.offsetLines)-h.residue-1],["L",
W,B.lineTopPx(G.low-j.offsetLines)-j.residue]]):U.attr("path",[["M",W,B.lineBottomPx(G.high-j.offsetLines)-j.residue-1],["L",-1,B.lineBottomPx(K.low-h.offsetLines)-h.residue-1]]);U.show();this.visiblePaths_.push(U)}}else if(F.isChange())U.attr("path",[["M",-1,B.lineTopPx(K.low-h.offsetLines)-h.residue],["L",W,B.lineTopPx(G.low-j.offsetLines)-j.residue],["V",B.lineBottomPx(G.high-j.offsetLines)-j.residue-1],["L",-1,B.lineBottomPx(K.high-h.offsetLines)-h.residue-1],["Z"]]).show();else F.isDeletion()&&
U.attr("path",[["M",-1,B.lineTopPx(K.low-h.offsetLines)-h.residue],["V",B.lineBottomPx(K.high-h.offsetLines)-h.residue-1],["L",W,B.lineBottomPx(G.low-j.offsetLines)-j.residue-1],["Z"]]).show()}};var n=s.SBS.MarginButtonRenderer=function(f){this.diffRenderer_=f;this.hunks_=f.diff_.zeroContextHunks||f.diff_.hunks;this.$elem_=null};n.prototype.render=function(f){this.createDom();f.append(this.$elem_);this.enterDocument()};n.prototype.createDom=function(){this.$elem_=a('<div class="margin-buttons"></div>');
this.createHunkNavigationButtons_();this.createMoreContextButtons_()};n.prototype.redraw=function(){this.$elem_.empty();this.createHunkNavigationButtons_();this.createMoreContextButtons_()};n.prototype.createHunkNavigationButtons_=function(){if(this.hunks_.length!==1)for(var f=0;f<this.hunks_.length;f++){var h=this.hunks_[f],j=a('<a class="prev-hunk" title="Previous hunk" href="#prev-hunk">prev hunk</a>'),v=a('<a class="next-hunk" title="Next hunk" href="#next-hunk">next hunk</a>');if(h.isAddition()){j.add(v).attr("data-file",
"to").attr("data-line",h.toRange.low);h=this.diffRenderer_.diff_.isUnified()?this.diffRenderer_.file2viewport_(false,h.toRange.low):h.toRange.low}else{j.add(v).attr("data-file","from").attr("data-line",h.fromRange.low);h=this.diffRenderer_.diff_.isUnified()?this.diffRenderer_.file2viewport_(true,h.fromRange.low):h.fromRange.low}j.add(v).css("top",(h-1)*B.lineHeight());f>0&&this.$elem_.append(j);f<this.hunks_.length-1&&this.$elem_.append(v)}};n.prototype.createMoreContextButtons_=function(){var f=
0;if(this.diffRenderer_.context_!==e.CONTEXT_FULL)for(var h=this.diffRenderer_.diff_.to,j=1;j<h.viewport2file.length;j++)if(typeof h.viewport2file[j]!=="number"){var v=a('<a class="more-context" title="More context" href="#more-context">more context</a>');v.attr("data-index",f).css("top",(j-1)*B.lineHeight());this.$elem_.append(v);f+=1}};n.prototype.enterDocument=function(){this.$elem_.delegate(".prev-hunk","click",a.proxy(this.previousHunk_,this));this.$elem_.delegate(".next-hunk","click",a.proxy(this.nextHunk_,
this));this.$elem_.delegate(".more-context","click",a.proxy(this.moreContext_,this))};n.prototype.previousHunk_=function(f){var h=a(f.target),j=h.attr("data-file");h=parseInt(h.attr("data-line"),10);j==="from"?this.diffRenderer_.scrollToFromLine(h):this.diffRenderer_.scrollToToLine(h);this.diffRenderer_.scrollToPreviousHunk();f.preventDefault()};n.prototype.nextHunk_=function(f){var h=a(f.target),j=h.attr("data-file");h=parseInt(h.attr("data-line"),10);j==="from"?this.diffRenderer_.scrollToFromLine(h):
this.diffRenderer_.scrollToToLine(h);this.diffRenderer_.scrollToNextHunk();f.preventDefault()};n.prototype.moreContext_=function(f){this.diffRenderer_.expandSkippedSection(parseInt(a(f.target).attr("data-index"),10));f.preventDefault()}})(jQuery,this);
